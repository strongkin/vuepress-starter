<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>æ‰©å±•è¡¥å…… | TSæ–‡æ¡£</title>
    <meta name="generator" content="VuePress 1.9.7">
    
    <meta name="description" content="TSæ–‡æ¡£ç¿»è¯‘">
    
    <link rel="preload" href="/vuepress-starter/assets/css/0.styles.d7e25954.css" as="style"><link rel="preload" href="/vuepress-starter/assets/js/app.e3fb7a36.js" as="script"><link rel="preload" href="/vuepress-starter/assets/js/2.659413da.js" as="script"><link rel="preload" href="/vuepress-starter/assets/js/23.c9b13606.js" as="script"><link rel="prefetch" href="/vuepress-starter/assets/js/10.f0a54ab5.js"><link rel="prefetch" href="/vuepress-starter/assets/js/11.d2f2be24.js"><link rel="prefetch" href="/vuepress-starter/assets/js/12.35e804de.js"><link rel="prefetch" href="/vuepress-starter/assets/js/13.3cc25877.js"><link rel="prefetch" href="/vuepress-starter/assets/js/14.31666be5.js"><link rel="prefetch" href="/vuepress-starter/assets/js/15.162fc1ed.js"><link rel="prefetch" href="/vuepress-starter/assets/js/16.7367de07.js"><link rel="prefetch" href="/vuepress-starter/assets/js/17.148da913.js"><link rel="prefetch" href="/vuepress-starter/assets/js/18.3c4946c5.js"><link rel="prefetch" href="/vuepress-starter/assets/js/19.b89a248b.js"><link rel="prefetch" href="/vuepress-starter/assets/js/20.3e6bb9a7.js"><link rel="prefetch" href="/vuepress-starter/assets/js/21.a6f71e56.js"><link rel="prefetch" href="/vuepress-starter/assets/js/22.7cbca601.js"><link rel="prefetch" href="/vuepress-starter/assets/js/3.419d79d3.js"><link rel="prefetch" href="/vuepress-starter/assets/js/4.795ea2c9.js"><link rel="prefetch" href="/vuepress-starter/assets/js/5.f572c9b5.js"><link rel="prefetch" href="/vuepress-starter/assets/js/6.01825db4.js"><link rel="prefetch" href="/vuepress-starter/assets/js/7.d872f524.js"><link rel="prefetch" href="/vuepress-starter/assets/js/8.20633d30.js"><link rel="prefetch" href="/vuepress-starter/assets/js/9.57110574.js">
    <link rel="stylesheet" href="/vuepress-starter/assets/css/0.styles.d7e25954.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/vuepress-starter/" class="home-link router-link-active"><!----> <span class="site-name">TSæ–‡æ¡£</span></a> <div class="links"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"><div class="nav-item"><a href="/vuepress-starter/" class="nav-link">
  é¦–é¡µ
</a></div><div class="nav-item"><a href="/vuepress-starter/handbook/ConditionalTypes.html" class="nav-link">
  vueç»„ä»¶
</a></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label=" JavaScript åšå®¢" class="dropdown-title"><span class="title"> JavaScript åšå®¢</span> <span class="arrow down"></span></button> <button type="button" aria-label=" JavaScript åšå®¢" class="mobile-dropdown-title"><span class="title"> JavaScript åšå®¢</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="https://github.com/strongkin" target="_blank" rel="noopener noreferrer" class="nav-link external">
  Github
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li><li class="dropdown-item"><!----> <a href="https://juejin.cn" target="_blank" rel="noopener noreferrer" class="nav-link external">
  æ˜é‡‘
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li></ul></div></div> <!----></nav></div></header> <div class="sidebar-mask"></div> <aside class="sidebar"><nav class="nav-links"><div class="nav-item"><a href="/vuepress-starter/" class="nav-link">
  é¦–é¡µ
</a></div><div class="nav-item"><a href="/vuepress-starter/handbook/ConditionalTypes.html" class="nav-link">
  vueç»„ä»¶
</a></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label=" JavaScript åšå®¢" class="dropdown-title"><span class="title"> JavaScript åšå®¢</span> <span class="arrow down"></span></button> <button type="button" aria-label=" JavaScript åšå®¢" class="mobile-dropdown-title"><span class="title"> JavaScript åšå®¢</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="https://github.com/strongkin" target="_blank" rel="noopener noreferrer" class="nav-link external">
  Github
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li><li class="dropdown-item"><!----> <a href="https://juejin.cn" target="_blank" rel="noopener noreferrer" class="nav-link external">
  æ˜é‡‘
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li></ul></div></div> <!----></nav>  <ul class="sidebar-links"><li><section class="sidebar-group collapsable depth-0"><a href="/vuepress-starter/handbook/" class="sidebar-heading clickable router-link-active"><span>åŸºç¡€å­¦ä¹ </span> <span class="arrow right"></span></a> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading open"><span>å°å…”ä»™+TS+pinia</span> <span class="arrow down"></span></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/vuepress-starter/handbook/vueRabbitTs/01-é¡¹ç›®èµ·æ­¥.html" class="sidebar-link">é¡¹ç›®èµ·æ­¥</a></li><li><a href="/vuepress-starter/handbook/vueRabbitTs/02-é¦–é¡µæ¨¡å—.html" class="sidebar-link">é¦–é¡µæ¨¡å—</a></li><li><a href="/vuepress-starter/handbook/vueRabbitTs/03-åˆ†ç±»æ¨¡å—.html" class="sidebar-link">åˆ†ç±»æ¨¡å—</a></li><li><a href="/vuepress-starter/handbook/vueRabbitTs/04-è¯¦æƒ…æ¨¡å—.html" class="sidebar-link">è¯¦æƒ…æ¨¡å—</a></li><li><a href="/vuepress-starter/handbook/vueRabbitTs/05-ç™»å½•æ¨¡å—.html" class="sidebar-link">ç™»å½•æ¨¡å—</a></li><li><a href="/vuepress-starter/handbook/vueRabbitTs/06-è´­ç‰©è½¦æ¨¡å—.html" class="sidebar-link">è´­ç‰©è½¦æ¨¡å—</a></li><li><a href="/vuepress-starter/handbook/vueRabbitTs/07-è®¢å•æ¨¡å—.html" class="sidebar-link">è®¢å•æ¨¡å—</a></li><li><a href="/vuepress-starter/handbook/vueRabbitTs/08-æ”¯ä»˜æ¨¡å—.html" class="sidebar-link">æ”¯ä»˜æ¨¡å—</a></li><li><a href="/vuepress-starter/handbook/vueRabbitTs/09-ä¼šå‘˜æ¨¡å—.html" class="sidebar-link">ä¼šå‘˜æ¨¡å—</a></li><li><a href="/vuepress-starter/handbook/vueRabbitTs/æ‹“å±•é˜…è¯».html" class="active sidebar-link">æ‹“å±•é˜…è¯»</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/vuepress-starter/handbook/vueRabbitTs/æ‹“å±•é˜…è¯».html#vite-æ’ä»¶-script-setup-name" class="sidebar-link">Vite æ’ä»¶ script setup name</a></li><li class="sidebar-sub-header"><a href="/vuepress-starter/handbook/vueRabbitTs/æ‹“å±•é˜…è¯».html#é¡¹ç›®æ‰“åŒ…ã€é¢„è§ˆã€éƒ¨ç½²" class="sidebar-link">é¡¹ç›®æ‰“åŒ…ã€é¢„è§ˆã€éƒ¨ç½²</a></li><li class="sidebar-sub-header"><a href="/vuepress-starter/handbook/vueRabbitTs/æ‹“å±•é˜…è¯».html#çŸ¥è¯†ç‚¹æ‹“å±•è¡¥å……" class="sidebar-link">çŸ¥è¯†ç‚¹æ‹“å±•è¡¥å……</a></li><li class="sidebar-sub-header"><a href="/vuepress-starter/handbook/vueRabbitTs/æ‹“å±•é˜…è¯».html#vue3-å“åº”å¼åŸç†" class="sidebar-link">Vue3 å“åº”å¼åŸç†</a></li><li class="sidebar-sub-header"><a href="/vuepress-starter/handbook/vueRabbitTs/æ‹“å±•é˜…è¯».html#reflect-å¯¹è±¡" class="sidebar-link">Reflect å¯¹è±¡</a></li><li class="sidebar-sub-header"><a href="/vuepress-starter/handbook/vueRabbitTs/æ‹“å±•é˜…è¯».html#jsx-tsx-åŸºç¡€-reactåŸºç¡€" class="sidebar-link">JSX/TSX  åŸºç¡€-ReactåŸºç¡€</a></li></ul></li></ul></section></li></ul> </aside> <main class="page"> <div class="theme-default-content content__default"><h1 id="æ‰©å±•è¡¥å……"><a href="#æ‰©å±•è¡¥å……" class="header-anchor">#</a> æ‰©å±•è¡¥å……</h1> <h2 id="vite-æ’ä»¶-script-setup-name"><a href="#vite-æ’ä»¶-script-setup-name" class="header-anchor">#</a> Vite æ’ä»¶ script setup name</h2> <blockquote><p>è¯´æ˜ï¼šä¸€æ¬¾èƒ½è®© script setup æ·»åŠ ç»„ä»¶å name çš„æ’ä»¶ã€‚</p></blockquote> <p>æ’ä»¶åœ°å€ï¼šhttps://github.com/vbenjs/vite-plugin-vue-setup-extend</p> <p>é—®é¢˜ï¼šhttps://github.com/vuejs/vue/issues/12263</p> <p>é—®é¢˜ï¼šhttps://github.com/vuejs/vue/issues/12178</p> <ul><li>å®‰è£…æ’ä»¶</li></ul> <div class="language-sh extra-class"><pre class="language-sh"><code><span class="token function">yarn</span> <span class="token function">add</span> vite-plugin-vue-setup-extend <span class="token parameter variable">-D</span>
</code></pre></div><ul><li>é…ç½®æ’ä»¶ï¼š<code>vite.config.ts</code></li></ul> <div class="language-diff extra-class"><pre class="language-diff"><code>import { defineConfig, Plugin } from 'vite'
import vue from '@vitejs/plugin-vue'
<span class="token inserted-sign inserted"><span class="token prefix inserted">+</span><span class="token line"> import vueSetupExtend from 'vite-plugin-vue-setup-extend'
</span></span>
export default defineConfig({
<span class="token unchanged"><span class="token prefix unchanged"> </span><span class="token line"> plugins: [
</span><span class="token prefix unchanged"> </span><span class="token line">   vue(), 
</span></span><span class="token inserted-sign inserted"><span class="token prefix inserted">+</span><span class="token line">   vueSetupExtend()
</span></span><span class="token unchanged"><span class="token prefix unchanged"> </span><span class="token line"> ],
</span></span>})
</code></pre></div><ul><li>ç»„ä»¶ä¸­ä½¿ç”¨</li></ul> <div class="language-diff extra-class"><pre class="language-diff"><code><span class="token inserted-sign inserted"><span class="token prefix inserted">+</span><span class="token line"> &lt;script setup lang=&quot;ts&quot; name=&quot;App&quot;&gt;
</span><span class="token prefix inserted">+</span><span class="token line"> // 
</span><span class="token prefix inserted">+</span><span class="token line"> &lt;/script&gt;
</span></span>
<span class="token deleted-sign deleted"><span class="token prefix deleted">-</span><span class="token line">&lt;script lang=&quot;ts&quot;&gt;
</span><span class="token prefix deleted">-</span><span class="token line">export default {
</span><span class="token prefix deleted">-</span><span class="token line">  name: &quot;App&quot;
</span><span class="token prefix deleted">-</span><span class="token line">}
</span><span class="token prefix deleted">-</span><span class="token line">&lt;script/&gt;
</span></span>
<span class="token deleted-arrow deleted"><span class="token prefix deleted">&lt;</span><span class="token line">template&gt;
</span></span><span class="token unchanged"><span class="token prefix unchanged"> </span><span class="token line"> &lt;div&gt;Hello App Name &lt;/div&gt;
</span></span><span class="token deleted-arrow deleted"><span class="token prefix deleted">&lt;</span><span class="token line">/template&gt;
</span></span></code></pre></div><h2 id="é¡¹ç›®æ‰“åŒ…ã€é¢„è§ˆã€éƒ¨ç½²"><a href="#é¡¹ç›®æ‰“åŒ…ã€é¢„è§ˆã€éƒ¨ç½²" class="header-anchor">#</a> é¡¹ç›®æ‰“åŒ…ã€é¢„è§ˆã€éƒ¨ç½²</h2> <p>æ‹“å±•é˜…è¯»ï¼š<a href="https://cn.vitejs.dev/guide/static-deploy.html" target="_blank" rel="noopener noreferrer">Viteå®˜æ–¹æ–‡æ¡£<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></p> <h3 id="é¡¹ç›®æ‰“åŒ…"><a href="#é¡¹ç›®æ‰“åŒ…" class="header-anchor">#</a> é¡¹ç›®æ‰“åŒ…</h3> <blockquote><p>æœ¬èŠ‚ç›®æ ‡ï¼šçŸ¥é“æ‰“åŒ…å‘½ä»¤åšäº†å“ªäº›å·¥ä½œï¼Œäº†è§£æœ¬åœ°é¢„è§ˆã€‚</p></blockquote> <p><strong>æ‰“åŒ…æ„å»º</strong></p> <div class="language-sh extra-class"><pre class="language-sh"><code><span class="token function">yarn</span> build
</code></pre></div><ul><li><code>vue-tsc</code> å®‰å…¨æ£€æŸ¥ã€‚</li> <li>æ‰“åŒ…æ–‡ä»¶å¹¶è¿›è¡Œä»£ç å‹ç¼©ã€‚</li></ul> <p><strong>æœ¬åœ°é¢„è§ˆ</strong></p> <div class="language- extra-class"><pre class="language-text"><code>yarn preview
</code></pre></div><h3 id="é¡¹ç›®éƒ¨ç½²"><a href="#é¡¹ç›®éƒ¨ç½²" class="header-anchor">#</a> é¡¹ç›®éƒ¨ç½²</h3> <p>è¯´æ˜ï¼šä¸ºäº†ä½“éªŒéƒ¨ç½²æµç¨‹ï¼Œæˆ‘ä»¬æŠŠé¡¹ç›®éƒ¨ç½²åˆ°ç äº‘ <code>GiteePages</code>ã€‚</p> <p>ğŸš¨æ³¨æ„ï¼šå·¥ä½œä¸­ä¸€èˆ¬ç”±è¿è¥è´Ÿè´£éƒ¨ç½²ï¼Œéƒ¨ç½²åˆ°å…¬å¸çš„æœåŠ¡å™¨ã€‚</p> <ol><li>åœ¨ <code>vite.config.ts</code> ä¸­è®¾ç½®æ­£ç¡®çš„ <code>base</code>ã€‚</li></ol> <div class="language-diff extra-class"><pre class="language-diff"><code>export default defineConfig({
<span class="token inserted-sign inserted"><span class="token prefix inserted">+</span><span class="token line">  base: &quot;./&quot;, // è®¾ç½®æ‰“åŒ…è·¯å¾„ï¼Œéƒ¨ç½²åˆ° GiteePages éœ€è¦ç›¸å¯¹äºä»“åº“è·¯å¾„
</span></span><span class="token unchanged"><span class="token prefix unchanged"> </span><span class="token line">  ...
</span></span>});

</code></pre></div><ol start="2"><li>æ–°å»º <code>deloy.sh</code>  éƒ¨ç½²è„šæœ¬</li></ol> <div class="language-sh extra-class"><pre class="language-sh"><code><span class="token shebang important">#!/usr/bin/env sh</span>

<span class="token comment"># ç¡®ä¿è„šæœ¬æŠ›å‡ºé‡åˆ°çš„é”™è¯¯</span>
<span class="token builtin class-name">set</span> <span class="token parameter variable">-e</span>

<span class="token comment"># ç”Ÿæˆé™æ€æ–‡ä»¶</span>
<span class="token function">npm</span> run build

<span class="token comment"># è¿›å…¥ç”Ÿæˆçš„æ–‡ä»¶å¤¹</span>
<span class="token builtin class-name">cd</span> dist

<span class="token comment"># å¦‚æœæ˜¯å‘å¸ƒåˆ°è‡ªå®šä¹‰åŸŸå</span>
<span class="token comment"># echo 'www.example.com' &gt; CNAME</span>

<span class="token function">git</span> init
<span class="token function">git</span> <span class="token function">add</span> <span class="token parameter variable">-A</span>
<span class="token function">git</span> commit <span class="token parameter variable">-m</span> <span class="token string">'deploy'</span>

<span class="token comment"># å¦‚æœå‘å¸ƒåˆ° https://&lt;USERNAME&gt;.github.io/&lt;REPO&gt;</span>
<span class="token comment"># git push -f git@gitee.com:&lt;USERNAME&gt;/&lt;REPO&gt;.git master:gh-pages</span>
<span class="token function">git</span> push <span class="token parameter variable">-f</span> git@gitee.com:Megasu/rabbit-vue3-ts.git master:gh-pages

<span class="token builtin class-name">cd</span> -
</code></pre></div><ol start="3"><li>è¿è¡Œ <code>deploy.sh</code></li> <li>åœ¨ç äº‘éƒ¨ç½² <code>gh-pages</code> åˆ†æ”¯ã€‚</li></ol> <h2 id="çŸ¥è¯†ç‚¹æ‹“å±•è¡¥å……"><a href="#çŸ¥è¯†ç‚¹æ‹“å±•è¡¥å……" class="header-anchor">#</a> çŸ¥è¯†ç‚¹æ‹“å±•è¡¥å……</h2> <h3 id="å¤„ç†å¼‚æ­¥è¯·æ±‚æ¸²æŸ“-suspense"><a href="#å¤„ç†å¼‚æ­¥è¯·æ±‚æ¸²æŸ“-suspense" class="header-anchor">#</a> å¤„ç†å¼‚æ­¥è¯·æ±‚æ¸²æŸ“ - Suspense</h3> <p>æˆ‘ä»¬æ—¶å¸¸éœ€è¦ï¼šåˆ¤æ–­å¼‚æ­¥è¯·æ±‚çš„çŠ¶æ€ï¼Œç„¶åï¼Œæ ¹æ®è¿™äº›è¯·æ±‚æ¥å±•ç¤ºä¸åŒçš„ç•Œé¢  =&gt;  Suspense éå¸¸æ–¹ä¾¿</p> <p><code>vue3</code> æ¨å‡ºäº†ä¸€ä¸ªæ–°çš„å†…ç½®ç»„ä»¶ <code>Suspense</code> ï¼Œ <code>Suspense</code> æ˜¯ä¸€ä¸ªç‰¹æ®Šçš„ç»„ä»¶ã€‚</p> <p>è¯´æ˜ï¼š</p> <ul><li>å®ƒä¼šæœ‰ä¸¤ä¸ª <code>template slot</code> ï¼Œåˆšå¼€å§‹ä¼šæ¸²æŸ“ <code>feedback</code> å†…å®¹ï¼Œç›´åˆ°<strong>è¾¾åˆ°æŸä¸ªæ¡ä»¶ä»¥å</strong>ï¼Œæ‰ä¼šæ¸²æŸ“æ­£å¼çš„å†…å®¹ï¼Œ</li> <li>ä¹Ÿå°±æ˜¯ default çš„å†…å®¹ã€‚è¿™æ ·å‘¢ï¼Œè¿›è¡Œå¼‚æ­¥å†…å®¹çš„æ¸²æŸ“å°±ä¼šå˜å¾—ç‰¹åˆ«ç®€å•ã€‚</li></ul> <h4 id="åŠŸèƒ½1-å¼‚æ­¥-setup-æ”¯æŒé¡¶å±‚-await"><a href="#åŠŸèƒ½1-å¼‚æ­¥-setup-æ”¯æŒé¡¶å±‚-await" class="header-anchor">#</a> åŠŸèƒ½1ï¼šå¼‚æ­¥ setup ï¼ˆæ”¯æŒé¡¶å±‚ awaitï¼‰</h4> <p>æ–°å»ºï¼šsetup é¡¶å±‚ await ç»„ä»¶ï¼š <code>TopAwaitCom.vue</code></p> <div class="language-vue extra-class"><pre class="language-vue"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span> <span class="token attr-name">setup</span> <span class="token attr-name">lang</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>ts<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token script"><span class="token language-javascript">
<span class="token keyword">import</span> <span class="token punctuation">{</span> http <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">'@/utils/request'</span><span class="token punctuation">;</span>

<span class="token comment">// ğŸš¨ é¡¶å±‚ await ä»¥å‰æ˜¯ä¸èƒ½æ¸²æŸ“å‡ºç»„ä»¶å†…å®¹çš„ï¼Œæ‰€æœ‰çš„æ•°æ®ç›¸å½“äºéƒ½è¢« Promise åŒ…è£…è¿‡</span>
<span class="token keyword">const</span> res <span class="token operator">=</span> <span class="token keyword">await</span> <span class="token function">http</span><span class="token punctuation">(</span><span class="token string">'GET'</span><span class="token punctuation">,</span> <span class="token string">'/home/banner'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>res<span class="token punctuation">.</span>data<span class="token punctuation">.</span>result<span class="token punctuation">)</span><span class="token punctuation">;</span>
</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">&gt;</span></span>

<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>template</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>h1</span><span class="token punctuation">&gt;</span></span>æˆ‘æ˜¯é¡¶å±‚ await ç»„ä»¶<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>h1</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>template</span><span class="token punctuation">&gt;</span></span>

</code></pre></div><p>å¯¼å…¥ä½¿ç”¨ï¼Œä½†éœ€è¦å¥—ä¸Š <code>Suspense</code> ç»„ä»¶ã€‚</p> <div class="language-diff extra-class"><pre class="language-diff"><code><span class="token deleted-arrow deleted"><span class="token prefix deleted">&lt;</span><span class="token line">script setup lang=&quot;ts&quot;&gt;
</span></span>import { defineAsyncComponent } from &quot;vue&quot;;
import TopAwaitCom from &quot;./TopAwaitCom.vue&quot;;
<span class="token deleted-arrow deleted"><span class="token prefix deleted">&lt;</span><span class="token line">/script&gt;
</span></span>
<span class="token deleted-arrow deleted"><span class="token prefix deleted">&lt;</span><span class="token line">template&gt;
</span></span><span class="token inserted-sign inserted"><span class="token prefix inserted">+</span><span class="token line">  &lt;Suspense
</span></span><span class="token unchanged"><span class="token prefix unchanged"> </span><span class="token line">    &lt;TopAwaitCom /&gt;
</span></span><span class="token inserted-sign inserted"><span class="token prefix inserted">+</span><span class="token line">    &lt;template #fallback&gt;
</span><span class="token prefix inserted">+</span><span class="token line">      &lt;h1&gt;Loading...&lt;/h1&gt;
</span><span class="token prefix inserted">+</span><span class="token line">    &lt;/template&gt;
</span><span class="token prefix inserted">+</span><span class="token line">  &lt;/Suspense&gt;
</span></span><span class="token deleted-arrow deleted"><span class="token prefix deleted">&lt;</span><span class="token line">/template&gt;
</span></span>
</code></pre></div><h4 id="åŠŸèƒ½2-å¼‚æ­¥ç»„ä»¶åŠ è½½"><a href="#åŠŸèƒ½2-å¼‚æ­¥ç»„ä»¶åŠ è½½" class="header-anchor">#</a> åŠŸèƒ½2ï¼šå¼‚æ­¥ç»„ä»¶åŠ è½½</h4> <div class="language-html extra-class"><pre class="language-html"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span> <span class="token attr-name">setup</span> <span class="token attr-name">lang</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>ts<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token script"><span class="token language-javascript">
<span class="token keyword">import</span> <span class="token punctuation">{</span> defineAsyncComponent <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&quot;vue&quot;</span><span class="token punctuation">;</span>

<span class="token comment">// ç›´æ¥åŠ è½½ç»„ä»¶</span>
<span class="token comment">// import TestAsyncCom from &quot;./TestCom.vue&quot;;</span>
<span class="token comment">// å¼‚æ­¥åŠ è½½ç»„ä»¶</span>
<span class="token keyword">const</span> <span class="token function-variable function">TestAsyncCom</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token keyword">import</span><span class="token punctuation">(</span><span class="token string">&quot;./TestCom.vue&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">&gt;</span></span>

<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>template</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>Suspense</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>template</span> <span class="token attr-name">#default</span><span class="token punctuation">&gt;</span></span>
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>TestAsyncCom</span> <span class="token punctuation">/&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>template</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>template</span> <span class="token attr-name">#fallback</span><span class="token punctuation">&gt;</span></span>
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>h1</span><span class="token punctuation">&gt;</span></span>Loading...<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>h1</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>template</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>Suspense</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>template</span><span class="token punctuation">&gt;</span></span>
</code></pre></div><h2 id="vue3-å“åº”å¼åŸç†"><a href="#vue3-å“åº”å¼åŸç†" class="header-anchor">#</a> Vue3 å“åº”å¼åŸç†</h2> <div class="language-html extra-class"><pre class="language-html"><code><span class="token doctype"><span class="token punctuation">&lt;!</span><span class="token doctype-tag">DOCTYPE</span> <span class="token name">html</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>html</span> <span class="token attr-name">lang</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>zh-CN<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>head</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>meta</span> <span class="token attr-name">charset</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>UTF-8<span class="token punctuation">&quot;</span></span> <span class="token punctuation">/&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>meta</span> <span class="token attr-name">http-equiv</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>X-UA-Compatible<span class="token punctuation">&quot;</span></span> <span class="token attr-name">content</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>IE=edge<span class="token punctuation">&quot;</span></span> <span class="token punctuation">/&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>meta</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>viewport<span class="token punctuation">&quot;</span></span> <span class="token attr-name">content</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>width=device-width, initial-scale=1.0<span class="token punctuation">&quot;</span></span> <span class="token punctuation">/&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>title</span><span class="token punctuation">&gt;</span></span>Document<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>title</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>head</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>body</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>h2</span><span class="token punctuation">&gt;</span></span>åŒå‘ç»‘å®š<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>h2</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>input</span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>text<span class="token punctuation">&quot;</span></span> <span class="token attr-name">value</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span><span class="token punctuation">&quot;</span></span> <span class="token punctuation">/&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>button</span><span class="token punctuation">&gt;</span></span>ç‚¹å‡»æ”¹å<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>button</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span><span class="token punctuation">&gt;</span></span><span class="token script"><span class="token language-javascript">
      <span class="token comment">// ç›®æ ‡å¯¹è±¡</span>
      <span class="token keyword">const</span> obj <span class="token operator">=</span> <span class="token function">reactive</span><span class="token punctuation">(</span><span class="token punctuation">{</span> <span class="token literal-property property">name</span><span class="token operator">:</span> <span class="token string">'zs'</span><span class="token punctuation">,</span> <span class="token literal-property property">age</span><span class="token operator">:</span> <span class="token number">18</span> <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

      <span class="token keyword">function</span> <span class="token function">reactive</span><span class="token punctuation">(</span><span class="token parameter">obj</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token comment">// ç›®æ ‡å¯¹è±¡çš„ä»£ç†</span>
        <span class="token keyword">return</span> <span class="token keyword">new</span> <span class="token class-name">Proxy</span><span class="token punctuation">(</span>obj<span class="token punctuation">,</span> <span class="token punctuation">{</span>
          <span class="token function">get</span><span class="token punctuation">(</span><span class="token operator">...</span>args<span class="token punctuation">)</span> <span class="token punctuation">{</span>
            <span class="token comment">// return obj[prop];</span>
            <span class="token keyword">return</span> Reflect<span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span><span class="token operator">...</span>args<span class="token punctuation">)</span><span class="token punctuation">;</span>
          <span class="token punctuation">}</span><span class="token punctuation">,</span>
          <span class="token function">set</span><span class="token punctuation">(</span>obj<span class="token punctuation">,</span> prop<span class="token punctuation">,</span> value<span class="token punctuation">)</span> <span class="token punctuation">{</span>
            <span class="token comment">// obj[prop] = value;</span>
            Reflect<span class="token punctuation">.</span><span class="token function">set</span><span class="token punctuation">(</span>obj<span class="token punctuation">,</span> prop<span class="token punctuation">,</span> value<span class="token punctuation">)</span><span class="token punctuation">;</span>
            document<span class="token punctuation">.</span><span class="token function">querySelector</span><span class="token punctuation">(</span><span class="token string">'h2'</span><span class="token punctuation">)</span><span class="token punctuation">.</span>innerHTML <span class="token operator">=</span> <span class="token constant">JSON</span><span class="token punctuation">.</span><span class="token function">stringify</span><span class="token punctuation">(</span>obj<span class="token punctuation">)</span><span class="token punctuation">;</span>
            input<span class="token punctuation">.</span>value <span class="token operator">=</span> value<span class="token punctuation">;</span>
          <span class="token punctuation">}</span><span class="token punctuation">,</span>
        <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
      <span class="token punctuation">}</span>

      console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>obj<span class="token punctuation">)</span><span class="token punctuation">;</span>

      <span class="token keyword">const</span> input <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">querySelector</span><span class="token punctuation">(</span><span class="token string">'input'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
      input<span class="token punctuation">.</span><span class="token function">addEventListener</span><span class="token punctuation">(</span><span class="token string">'input'</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token parameter">e</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
        obj<span class="token punctuation">.</span>name <span class="token operator">=</span> e<span class="token punctuation">.</span>target<span class="token punctuation">.</span>value<span class="token punctuation">;</span>
      <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

      <span class="token keyword">const</span> button <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">querySelector</span><span class="token punctuation">(</span><span class="token string">'button'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
      button<span class="token punctuation">.</span><span class="token function">addEventListener</span><span class="token punctuation">(</span><span class="token string">'click'</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
        obj<span class="token punctuation">.</span>name <span class="token operator">+=</span> <span class="token string">'å‘€'</span><span class="token punctuation">;</span>
      <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    </span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>body</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>html</span><span class="token punctuation">&gt;</span></span>

</code></pre></div><h2 id="reflect-å¯¹è±¡"><a href="#reflect-å¯¹è±¡" class="header-anchor">#</a> Reflect å¯¹è±¡</h2> <p><strong>Reflect</strong> å¯¹è±¡æ˜¯ <code>ES6</code> ä¸ºäº†æ“ä½œå¯¹è±¡è€Œæä¾›çš„æ–° <code>API</code>ï¼Œ<code>Reflect</code> æä¾›çš„é™æ€æ–¹æ³•è®©å¯¹è±¡çš„æ“ä½œæ›´åŠ è§„èŒƒç»Ÿä¸€ã€‚</p> <h3 id="ts-éå†å¯¹è±¡"><a href="#ts-éå†å¯¹è±¡" class="header-anchor">#</a> TS éå†å¯¹è±¡</h3> <p>ğŸ”” ç»éªŒï¼š åœ¨ TS é¡¹ç›®ä¸­ï¼Œå¯¹è±¡éå†é…åˆ <code>Reflect</code> ä¼šæ›´é¦™ï¼Œç”¨ <code>obj[key]</code> å†™æ³•ä¼š TS é¡¹ç›®æŠ¥é”™ã€‚</p> <p><a href="https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Reference/Global_Objects/Reflect" target="_blank" rel="noopener noreferrer">Reflect-MDN<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></p> <p><a href="https://es6.ruanyifeng.com/#docs/reflect" target="_blank" rel="noopener noreferrer">Reflect-é˜®ä¸€å³°<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></p> <table><thead><tr><th></th> <th>Reflect è°ƒç”¨</th> <th>ä¼ ç»Ÿæ“ä½œ</th></tr></thead> <tbody><tr><td>è·å–</td> <td><code>Reflect.get(obj, key)</code></td> <td><code>obj[key]</code></td></tr> <tr><td>è®¾ç½®</td> <td><code>Reflect.set(obj, key, value)</code></td> <td><code>obj[key] = value</code></td></tr> <tr><td>åˆ é™¤</td> <td><code>Reflect.deleteProperty(obj, key)</code></td> <td><code>delete obj[key]</code></td></tr> <tr><td>åˆ¤æ–­æ˜¯å¦å­˜åœ¨</td> <td><code>Reflect.has(obj, key)</code></td> <td><code>key in obj</code></td></tr></tbody></table> <p>ä»£ç å†™æ³•å‡çº§ï¼š<code>src\store\modules\cart.ts</code></p> <div class="language-ts extra-class"><pre class="language-ts"><code><span class="token comment">// ğŸ› TS éå†å¯¹è±¡ï¼Œé€šè¿‡ lastCartInfo[key] è·å–å’Œä¿®æ”¹å¯¹è±¡ä¼šæŠ¥é”™: key ä¸º any</span>
<span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">const</span> key <span class="token keyword">in</span> lastCartInfo<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token comment">// è·å– value</span>
    <span class="token keyword">const</span> value <span class="token operator">=</span> Reflect<span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span>lastCartInfo<span class="token punctuation">,</span> key<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre></div><h3 id="reflect-ä¸-proxy"><a href="#reflect-ä¸-proxy" class="header-anchor">#</a> Reflect ä¸ Proxy</h3> <p><code>Reflect</code> å¯é…åˆ <code>Proxy</code> ä½¿ç”¨ï¼Œ<code>Vue3</code> çš„ <code>reactive</code> å‡½æ•°çš„æºç æœ‰åº”ç”¨ã€‚</p> <p><a href="https://juejin.cn/post/6844903969894973448" target="_blank" rel="noopener noreferrer">reactiveå‡½æ•°æºç è§£è¯»<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></p> <h2 id="jsx-tsx-åŸºç¡€-reactåŸºç¡€"><a href="#jsx-tsx-åŸºç¡€-reactåŸºç¡€" class="header-anchor">#</a> <code>JSX/TSX</code>  åŸºç¡€-ReactåŸºç¡€</h2> <h3 id="æ¦‚è¿°"><a href="#æ¦‚è¿°" class="header-anchor">#</a> æ¦‚è¿°</h3> <p><code>TSX/JSX</code> è¯­æ³•ç³–ï¼ˆ<code>React</code> å›¢é˜Ÿè®¾è®¡å‘æ˜çš„ï¼Œ<code>Vue</code> ä¹Ÿè¿›è¡Œäº†æ”¯æŒï¼‰</p> <ol><li>åœ¨ <code>Vue3</code> ä¸­å…¶å®å°±æ˜¯<code>createVNode</code> çš„è¯­æ³•ç³–ï¼Œè´Ÿè´£åˆ›å»ºè™šæ‹ŸDOMç”¨çš„ã€‚åº•å±‚ä¾èµ– <code>babel</code> æ’ä»¶æ”¯æŒã€‚</li> <li>æˆ‘ä»¬åœ¨ Test ç»„ä»¶ä¸­ï¼Œæ¼”ç¤º <code>jsx/tsx</code> è¯­æ³•ã€‚</li></ol> <h3 id="æ²¡æœ‰-jsx-tsx-åˆ›å»ºè™šæ‹Ÿdom"><a href="#æ²¡æœ‰-jsx-tsx-åˆ›å»ºè™šæ‹Ÿdom" class="header-anchor">#</a> æ²¡æœ‰ <code>jsx/tsx</code> åˆ›å»ºè™šæ‹ŸDOM</h3> <p>ä»£ç æ¼”ç¤º1ï¼š</p> <div class="language-html extra-class"><pre class="language-html"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span> <span class="token attr-name">setup</span> <span class="token attr-name">lang</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>ts<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token script"><span class="token language-javascript">
<span class="token keyword">import</span> <span class="token punctuation">{</span> createVNode <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">'vue'</span><span class="token punctuation">;</span>

<span class="token keyword">const</span> <span class="token constant">VDOM</span> <span class="token operator">=</span> <span class="token function">createVNode</span><span class="token punctuation">(</span><span class="token string">'h1'</span><span class="token punctuation">,</span> <span class="token punctuation">{</span> <span class="token literal-property property">id</span><span class="token operator">:</span> <span class="token string">'box'</span> <span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token string">'hello'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">&gt;</span></span>

<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>template</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>VDOM</span> <span class="token punctuation">/&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>template</span><span class="token punctuation">&gt;</span></span>
</code></pre></div><p>ä»£ç æ¼”ç¤º2ï¼š</p> <div class="language-html extra-class"><pre class="language-html"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span> <span class="token attr-name">setup</span> <span class="token attr-name">lang</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>ts<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token script"><span class="token language-javascript">
<span class="token keyword">import</span> <span class="token punctuation">{</span> createVNode <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">'vue'</span><span class="token punctuation">;</span>

<span class="token keyword">const</span> <span class="token constant">VDOM</span> <span class="token operator">=</span> <span class="token function">createVNode</span><span class="token punctuation">(</span><span class="token string">&quot;div&quot;</span><span class="token punctuation">,</span> <span class="token punctuation">{</span> <span class="token literal-property property">id</span><span class="token operator">:</span> <span class="token string">&quot;box&quot;</span> <span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token punctuation">[</span>
      <span class="token function">createVNode</span><span class="token punctuation">(</span><span class="token string">&quot;p&quot;</span><span class="token punctuation">,</span> <span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token string">&quot;æˆ‘æ˜¯ä¸€ä¸ªæ®µè½1&quot;</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
      <span class="token function">createVNode</span><span class="token punctuation">(</span><span class="token string">&quot;p&quot;</span><span class="token punctuation">,</span> <span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token string">&quot;æˆ‘æ˜¯ä¸€ä¸ªæ®µè½2&quot;</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
    <span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">&gt;</span></span>
</code></pre></div><p>æ€è€ƒï¼šæ¸²æŸ“ä»¥ä¸‹ç»“æ„ï¼Ÿ</p> <div class="language-jsx extra-class"><pre class="language-jsx"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>ul</span><span class="token punctuation">&gt;</span></span><span class="token plain-text">
  </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>li</span><span class="token punctuation">&gt;</span></span><span class="token plain-text">111</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>li</span><span class="token punctuation">&gt;</span></span><span class="token plain-text">
  </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>li</span><span class="token punctuation">&gt;</span></span><span class="token plain-text">222</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>li</span><span class="token punctuation">&gt;</span></span><span class="token plain-text">
  </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>li</span><span class="token punctuation">&gt;</span></span><span class="token plain-text">333</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>li</span><span class="token punctuation">&gt;</span></span><span class="token plain-text">
  </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>li</span><span class="token punctuation">&gt;</span></span><span class="token plain-text">444</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>li</span><span class="token punctuation">&gt;</span></span><span class="token plain-text">
</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>ul</span><span class="token punctuation">&gt;</span></span>
</code></pre></div><p>å†™èµ·æ¥å¾ˆéº»çƒ¦ï¼Œæœ‰æ²¡æœ‰æ›´ç®€å•çš„å†™æ³•å‘¢ï¼Ÿ</p> <h3 id="æœ‰-jsx-tsx-åˆ›å»ºè™šæ‹Ÿdom"><a href="#æœ‰-jsx-tsx-åˆ›å»ºè™šæ‹Ÿdom" class="header-anchor">#</a> æœ‰ <code>jsx/tsx</code> åˆ›å»ºè™šæ‹ŸDOM</h3> <blockquote><p>æœ¬èŠ‚ç›®æ ‡ï¼šsetup ä¸­å¯ä»¥ä¹¦å†™å“åº”å¼æ•°æ®ï¼Œç”¨äºç»‘å®šåˆ° <code>tsx/jsx</code> ç»“æ„ä¸­ã€‚</p></blockquote> <p>åŸºç¡€ç”¨æ³•</p> <div class="language-vue extra-class"><pre class="language-vue"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span> <span class="token attr-name">setup</span> <span class="token attr-name">lang</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>tsx<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token script"><span class="token language-javascript">
<span class="token keyword">const</span> <span class="token function-variable function">VDOM</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token operator">&lt;</span>h1<span class="token operator">&gt;</span>Hello <span class="token constant">TSX</span> <span class="token keyword">in</span> Setup<span class="token operator">&lt;</span><span class="token operator">/</span>h1<span class="token operator">&gt;</span><span class="token punctuation">;</span>
</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">&gt;</span></span>

<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>template</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>VDOM</span> <span class="token punctuation">/&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>template</span><span class="token punctuation">&gt;</span></span>
</code></pre></div><h3 id="tsx-çš„è¿›é˜¶ç”¨æ³•"><a href="#tsx-çš„è¿›é˜¶ç”¨æ³•" class="header-anchor">#</a> TSX çš„è¿›é˜¶ç”¨æ³•</h3> <blockquote><p>æœ¬èŠ‚ç›®æ ‡ï¼šå†…å®¹ç»‘å®šï¼Œå±æ€§ç»‘å®šï¼Œäº‹ä»¶ç»‘å®šï¼Œæ¡ä»¶æ¸²æŸ“ï¼Œåˆ—è¡¨æ¸²æŸ“ã€‚</p></blockquote> <div class="language-vue extra-class"><pre class="language-vue"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span> <span class="token attr-name">setup</span> <span class="token attr-name">lang</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>tsx<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token script"><span class="token language-javascript">
<span class="token keyword">import</span> <span class="token punctuation">{</span> ref <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&quot;vue&quot;</span><span class="token punctuation">;</span>

<span class="token keyword">const</span> count <span class="token operator">=</span> <span class="token function">ref</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">const</span> isHide <span class="token operator">=</span> <span class="token function">ref</span><span class="token punctuation">(</span><span class="token boolean">true</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">const</span> <span class="token function-variable function">add</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
  count<span class="token punctuation">.</span>value <span class="token operator">+=</span> <span class="token number">1</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
<span class="token keyword">const</span> list <span class="token operator">=</span> <span class="token function">ref</span><span class="token punctuation">(</span><span class="token punctuation">[</span>
  <span class="token punctuation">{</span> <span class="token literal-property property">id</span><span class="token operator">:</span> <span class="token number">1</span><span class="token punctuation">,</span> <span class="token literal-property property">content</span><span class="token operator">:</span> <span class="token string">&quot;åƒé¥­&quot;</span><span class="token punctuation">,</span> <span class="token literal-property property">done</span><span class="token operator">:</span> <span class="token boolean">true</span> <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token punctuation">{</span> <span class="token literal-property property">id</span><span class="token operator">:</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token literal-property property">content</span><span class="token operator">:</span> <span class="token string">&quot;ç¡è§‰&quot;</span><span class="token punctuation">,</span> <span class="token literal-property property">done</span><span class="token operator">:</span> <span class="token boolean">false</span> <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token punctuation">{</span> <span class="token literal-property property">id</span><span class="token operator">:</span> <span class="token number">3</span><span class="token punctuation">,</span> <span class="token literal-property property">content</span><span class="token operator">:</span> <span class="token string">&quot;æ‰“ä»£ç &quot;</span><span class="token punctuation">,</span> <span class="token literal-property property">done</span><span class="token operator">:</span> <span class="token boolean">true</span> <span class="token punctuation">}</span><span class="token punctuation">,</span>
<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">// script - æ•°æ®ç»‘å®šåœ¨ JSX ç”¨ä¸€å¯¹èŠ±æ‹¬å·</span>
<span class="token keyword">const</span> <span class="token function-variable function">VDOM</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
  <span class="token keyword">return</span> <span class="token punctuation">(</span>
    <span class="token operator">&lt;</span>div<span class="token operator">&gt;</span>
      <span class="token operator">&lt;</span>h1<span class="token operator">&gt;</span>Hello <span class="token constant">TSX</span> <span class="token keyword">in</span> Setup<span class="token operator">&lt;</span><span class="token operator">/</span>h1<span class="token operator">&gt;</span>
      <span class="token operator">&lt;</span>p<span class="token operator">&gt;</span><span class="token punctuation">{</span>count<span class="token punctuation">.</span>value<span class="token punctuation">}</span><span class="token operator">&lt;</span><span class="token operator">/</span>p<span class="token operator">&gt;</span>
      <span class="token operator">&lt;</span>button onClick<span class="token operator">=</span><span class="token punctuation">{</span>add<span class="token punctuation">}</span><span class="token operator">&gt;</span>ç‚¹å‡»<span class="token operator">+</span><span class="token number">1</span><span class="token operator">&lt;</span><span class="token operator">/</span>button<span class="token operator">&gt;</span>
      <span class="token operator">&lt;</span>button
        onClick<span class="token operator">=</span><span class="token punctuation">{</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
          isHide<span class="token punctuation">.</span>value <span class="token operator">=</span> <span class="token operator">!</span>isHide<span class="token punctuation">.</span>value<span class="token punctuation">;</span>
        <span class="token punctuation">}</span><span class="token punctuation">}</span>
      <span class="token operator">&gt;</span>
        åˆ‡æ¢æ˜¾ç¤ºéšè—
      <span class="token operator">&lt;</span><span class="token operator">/</span>button<span class="token operator">&gt;</span>
      <span class="token operator">&lt;</span>h2<span class="token operator">&gt;</span>æ¡ä»¶æ¸²æŸ“<span class="token operator">&lt;</span><span class="token operator">/</span>h2<span class="token operator">&gt;</span>
      <span class="token punctuation">{</span>isHide<span class="token punctuation">.</span>value <span class="token operator">?</span> <span class="token operator">&lt;</span>div<span class="token operator">&gt;</span>loading<span class="token operator">&lt;</span><span class="token operator">/</span>div<span class="token operator">&gt;</span> <span class="token operator">:</span> <span class="token operator">&lt;</span>div<span class="token operator">&gt;</span>ç»“æ„<span class="token number">2</span><span class="token operator">&lt;</span><span class="token operator">/</span>div<span class="token operator">&gt;</span><span class="token punctuation">}</span>
      <span class="token operator">&lt;</span>h2<span class="token operator">&gt;</span>åˆ—è¡¨æ¸²æŸ“<span class="token operator">&lt;</span><span class="token operator">/</span>h2<span class="token operator">&gt;</span>
      <span class="token operator">&lt;</span>ul<span class="token operator">&gt;</span>
        <span class="token punctuation">{</span>list<span class="token punctuation">.</span>value<span class="token punctuation">.</span><span class="token function">map</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">item</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">(</span>
          <span class="token operator">&lt;</span>li key<span class="token operator">=</span><span class="token punctuation">{</span>item<span class="token punctuation">.</span>id<span class="token punctuation">}</span><span class="token operator">&gt;</span><span class="token punctuation">{</span>item<span class="token punctuation">.</span>content<span class="token punctuation">}</span><span class="token operator">&lt;</span><span class="token operator">/</span>li<span class="token operator">&gt;</span>
        <span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">}</span>
      <span class="token operator">&lt;</span><span class="token operator">/</span>ul<span class="token operator">&gt;</span>
    <span class="token operator">&lt;</span><span class="token operator">/</span>div<span class="token operator">&gt;</span>
  <span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">&gt;</span></span>

<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>template</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>VDOM</span> <span class="token punctuation">/&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>template</span><span class="token punctuation">&gt;</span></span>
</code></pre></div><h3 id="å‡½æ•°å¼ç»„ä»¶"><a href="#å‡½æ•°å¼ç»„ä»¶" class="header-anchor">#</a> å‡½æ•°å¼ç»„ä»¶</h3> <p><code>Vue3</code> ä¹Ÿæ”¯æŒå‡½æ•°å¼ç»„ä»¶ï¼Œå¯é€šè¿‡ <code>.tsx/.jsx</code> åç¼€åæ–‡ä»¶åˆ›å»ºç»„ä»¶ï¼Œå†™æ³•éå¸¸ç±»ä¼¼ <code>React</code> çš„å‡½æ•°å¼ç»„ä»¶è¯­æ³•ã€‚</p> <p>ç°åœ¨ <code>JSX/TSX</code> å†™æ³•å¤§å®¶çœ‹ä¸æ‡‚ï¼Œå­¦å®Œ <code>React</code> åçœ‹èµ·æ¥å°±è½»æ¾äº† ã€‚</p> <p>ç”±äº <code>JSX/TSX</code> ä¸æ˜¯ <code>Vue</code> çš„ä¸»æµè¯­æ³•ï¼Œå¤§å®¶å¯ä»¥è‡ªè¡Œäº†è§£å³å¯ã€‚</p> <p>æ‹“å±•é˜…è¯»ï¼šhttps://juejin.cn/post/7007731144418394149</p></div> <footer class="page-edit"><!----> <!----></footer> <div class="page-nav"><p class="inner"><span class="prev">
      â†
      <a href="/vuepress-starter/handbook/vueRabbitTs/09-ä¼šå‘˜æ¨¡å—.html" class="prev">
        ä¼šå‘˜æ¨¡å—
      </a></span> <!----></p></div> </main></div><div class="global-ui"></div></div>
    <script src="/vuepress-starter/assets/js/app.e3fb7a36.js" defer></script><script src="/vuepress-starter/assets/js/2.659413da.js" defer></script><script src="/vuepress-starter/assets/js/23.c9b13606.js" defer></script>
  </body>
</html>
