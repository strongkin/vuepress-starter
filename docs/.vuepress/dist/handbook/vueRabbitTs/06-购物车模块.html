<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>è´­ç‰©è½¦æ¨¡å— | TSæ–‡æ¡£</title>
    <meta name="generator" content="VuePress 1.9.7">
    <link rel="icon" href="/vuepress-starter/images/good.png">
    <meta name="description" content="TSæ–‡æ¡£ç¿»è¯‘">
    
    <link rel="preload" href="/vuepress-starter/assets/css/0.styles.e83b6921.css" as="style"><link rel="preload" href="/vuepress-starter/assets/js/app.9588c189.js" as="script"><link rel="preload" href="/vuepress-starter/assets/js/9.d0fd5d46.js" as="script"><link rel="preload" href="/vuepress-starter/assets/js/1.a4aa22ef.js" as="script"><link rel="preload" href="/vuepress-starter/assets/js/45.dde77433.js" as="script"><link rel="prefetch" href="/vuepress-starter/assets/js/10.1cb852e8.js"><link rel="prefetch" href="/vuepress-starter/assets/js/100.65cd0683.js"><link rel="prefetch" href="/vuepress-starter/assets/js/101.c8a5a32b.js"><link rel="prefetch" href="/vuepress-starter/assets/js/102.8f399e2e.js"><link rel="prefetch" href="/vuepress-starter/assets/js/103.4715dab9.js"><link rel="prefetch" href="/vuepress-starter/assets/js/104.8574db5a.js"><link rel="prefetch" href="/vuepress-starter/assets/js/105.5b6012f3.js"><link rel="prefetch" href="/vuepress-starter/assets/js/106.937c2ca7.js"><link rel="prefetch" href="/vuepress-starter/assets/js/107.2723dfeb.js"><link rel="prefetch" href="/vuepress-starter/assets/js/108.1a70fd13.js"><link rel="prefetch" href="/vuepress-starter/assets/js/109.885e5fd1.js"><link rel="prefetch" href="/vuepress-starter/assets/js/11.06f12993.js"><link rel="prefetch" href="/vuepress-starter/assets/js/110.ec5f9a22.js"><link rel="prefetch" href="/vuepress-starter/assets/js/111.9f8250f1.js"><link rel="prefetch" href="/vuepress-starter/assets/js/112.2fe3a771.js"><link rel="prefetch" href="/vuepress-starter/assets/js/113.959b4949.js"><link rel="prefetch" href="/vuepress-starter/assets/js/114.eb69acc0.js"><link rel="prefetch" href="/vuepress-starter/assets/js/115.ae588179.js"><link rel="prefetch" href="/vuepress-starter/assets/js/116.42a2f92e.js"><link rel="prefetch" href="/vuepress-starter/assets/js/117.e6d799a4.js"><link rel="prefetch" href="/vuepress-starter/assets/js/118.c70c254e.js"><link rel="prefetch" href="/vuepress-starter/assets/js/119.7d8b62e7.js"><link rel="prefetch" href="/vuepress-starter/assets/js/12.4c5e8861.js"><link rel="prefetch" href="/vuepress-starter/assets/js/120.12709ea5.js"><link rel="prefetch" href="/vuepress-starter/assets/js/121.0f334874.js"><link rel="prefetch" href="/vuepress-starter/assets/js/13.bd9f0f1b.js"><link rel="prefetch" href="/vuepress-starter/assets/js/14.7cc99ea0.js"><link rel="prefetch" href="/vuepress-starter/assets/js/15.4afc449e.js"><link rel="prefetch" href="/vuepress-starter/assets/js/16.51afb6e9.js"><link rel="prefetch" href="/vuepress-starter/assets/js/17.2fc5316e.js"><link rel="prefetch" href="/vuepress-starter/assets/js/18.0b0a5722.js"><link rel="prefetch" href="/vuepress-starter/assets/js/19.c820b68e.js"><link rel="prefetch" href="/vuepress-starter/assets/js/2.27084988.js"><link rel="prefetch" href="/vuepress-starter/assets/js/20.eb870127.js"><link rel="prefetch" href="/vuepress-starter/assets/js/21.99237387.js"><link rel="prefetch" href="/vuepress-starter/assets/js/22.6f1a6770.js"><link rel="prefetch" href="/vuepress-starter/assets/js/23.86e35e17.js"><link rel="prefetch" href="/vuepress-starter/assets/js/24.8dfe7e9e.js"><link rel="prefetch" href="/vuepress-starter/assets/js/25.d2ea21b1.js"><link rel="prefetch" href="/vuepress-starter/assets/js/26.691591b2.js"><link rel="prefetch" href="/vuepress-starter/assets/js/27.997da69b.js"><link rel="prefetch" href="/vuepress-starter/assets/js/28.febaebbd.js"><link rel="prefetch" href="/vuepress-starter/assets/js/29.6703e8e8.js"><link rel="prefetch" href="/vuepress-starter/assets/js/30.e95b0160.js"><link rel="prefetch" href="/vuepress-starter/assets/js/31.8eebb916.js"><link rel="prefetch" href="/vuepress-starter/assets/js/32.2650fb57.js"><link rel="prefetch" href="/vuepress-starter/assets/js/33.21a382e6.js"><link rel="prefetch" href="/vuepress-starter/assets/js/34.8743457f.js"><link rel="prefetch" href="/vuepress-starter/assets/js/35.d083b201.js"><link rel="prefetch" href="/vuepress-starter/assets/js/36.03e22d87.js"><link rel="prefetch" href="/vuepress-starter/assets/js/37.d42d7eb8.js"><link rel="prefetch" href="/vuepress-starter/assets/js/38.6d4c21ec.js"><link rel="prefetch" href="/vuepress-starter/assets/js/39.e50e674d.js"><link rel="prefetch" href="/vuepress-starter/assets/js/4.bfd7c17c.js"><link rel="prefetch" href="/vuepress-starter/assets/js/40.df9147f4.js"><link rel="prefetch" href="/vuepress-starter/assets/js/41.b9dbd9c8.js"><link rel="prefetch" href="/vuepress-starter/assets/js/42.14961272.js"><link rel="prefetch" href="/vuepress-starter/assets/js/43.c52c94eb.js"><link rel="prefetch" href="/vuepress-starter/assets/js/44.18ad7ef1.js"><link rel="prefetch" href="/vuepress-starter/assets/js/46.faac0ec5.js"><link rel="prefetch" href="/vuepress-starter/assets/js/47.68cb02e1.js"><link rel="prefetch" href="/vuepress-starter/assets/js/48.e06d18c1.js"><link rel="prefetch" href="/vuepress-starter/assets/js/49.3ef19540.js"><link rel="prefetch" href="/vuepress-starter/assets/js/5.96e99ac8.js"><link rel="prefetch" href="/vuepress-starter/assets/js/50.53ef320a.js"><link rel="prefetch" href="/vuepress-starter/assets/js/51.35a7a08f.js"><link rel="prefetch" href="/vuepress-starter/assets/js/52.3bc70bad.js"><link rel="prefetch" href="/vuepress-starter/assets/js/53.b8152f0a.js"><link rel="prefetch" href="/vuepress-starter/assets/js/54.57ca6a3e.js"><link rel="prefetch" href="/vuepress-starter/assets/js/55.ddc626b3.js"><link rel="prefetch" href="/vuepress-starter/assets/js/56.2e7012a6.js"><link rel="prefetch" href="/vuepress-starter/assets/js/57.414850ba.js"><link rel="prefetch" href="/vuepress-starter/assets/js/58.bb9c31d7.js"><link rel="prefetch" href="/vuepress-starter/assets/js/59.19424dab.js"><link rel="prefetch" href="/vuepress-starter/assets/js/6.08009833.js"><link rel="prefetch" href="/vuepress-starter/assets/js/60.850fcda4.js"><link rel="prefetch" href="/vuepress-starter/assets/js/61.394b2c5d.js"><link rel="prefetch" href="/vuepress-starter/assets/js/62.192362bb.js"><link rel="prefetch" href="/vuepress-starter/assets/js/63.e046621c.js"><link rel="prefetch" href="/vuepress-starter/assets/js/64.ba4336a5.js"><link rel="prefetch" href="/vuepress-starter/assets/js/65.d97e98a6.js"><link rel="prefetch" href="/vuepress-starter/assets/js/66.f28fa041.js"><link rel="prefetch" href="/vuepress-starter/assets/js/67.07030ede.js"><link rel="prefetch" href="/vuepress-starter/assets/js/68.512cb88e.js"><link rel="prefetch" href="/vuepress-starter/assets/js/69.e792e760.js"><link rel="prefetch" href="/vuepress-starter/assets/js/7.b29f260f.js"><link rel="prefetch" href="/vuepress-starter/assets/js/70.8eba790c.js"><link rel="prefetch" href="/vuepress-starter/assets/js/71.4bb44bb9.js"><link rel="prefetch" href="/vuepress-starter/assets/js/72.5aada06b.js"><link rel="prefetch" href="/vuepress-starter/assets/js/73.86570555.js"><link rel="prefetch" href="/vuepress-starter/assets/js/74.6c9461e0.js"><link rel="prefetch" href="/vuepress-starter/assets/js/75.c3f94c54.js"><link rel="prefetch" href="/vuepress-starter/assets/js/76.0c0a0883.js"><link rel="prefetch" href="/vuepress-starter/assets/js/77.c066f6e7.js"><link rel="prefetch" href="/vuepress-starter/assets/js/78.62a7e98a.js"><link rel="prefetch" href="/vuepress-starter/assets/js/79.e7ac8531.js"><link rel="prefetch" href="/vuepress-starter/assets/js/8.e41ded69.js"><link rel="prefetch" href="/vuepress-starter/assets/js/80.63233980.js"><link rel="prefetch" href="/vuepress-starter/assets/js/81.6bdb5931.js"><link rel="prefetch" href="/vuepress-starter/assets/js/82.092fe8c0.js"><link rel="prefetch" href="/vuepress-starter/assets/js/83.3821338f.js"><link rel="prefetch" href="/vuepress-starter/assets/js/84.aeac8e75.js"><link rel="prefetch" href="/vuepress-starter/assets/js/85.721b85d6.js"><link rel="prefetch" href="/vuepress-starter/assets/js/86.ff1fa601.js"><link rel="prefetch" href="/vuepress-starter/assets/js/87.5c91c62d.js"><link rel="prefetch" href="/vuepress-starter/assets/js/88.9f633d01.js"><link rel="prefetch" href="/vuepress-starter/assets/js/89.f435f958.js"><link rel="prefetch" href="/vuepress-starter/assets/js/90.79a1fc89.js"><link rel="prefetch" href="/vuepress-starter/assets/js/91.3217d3b7.js"><link rel="prefetch" href="/vuepress-starter/assets/js/92.10f97f55.js"><link rel="prefetch" href="/vuepress-starter/assets/js/93.2ff4b874.js"><link rel="prefetch" href="/vuepress-starter/assets/js/94.96dcb585.js"><link rel="prefetch" href="/vuepress-starter/assets/js/95.98fc6c5e.js"><link rel="prefetch" href="/vuepress-starter/assets/js/96.b5328e52.js"><link rel="prefetch" href="/vuepress-starter/assets/js/97.01395395.js"><link rel="prefetch" href="/vuepress-starter/assets/js/98.53140f5b.js"><link rel="prefetch" href="/vuepress-starter/assets/js/99.d0f7d03c.js">
    <link rel="stylesheet" href="/vuepress-starter/assets/css/0.styles.e83b6921.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container" data-v-7dd95ae2><div data-v-7dd95ae2><div class="password-shadow password-wrapper-out" style="display:none;" data-v-59e6cb88 data-v-7dd95ae2 data-v-7dd95ae2><h3 class="title" data-v-59e6cb88>TSæ–‡æ¡£</h3> <p class="description" data-v-59e6cb88>TSæ–‡æ¡£ç¿»è¯‘</p> <label id="box" class="inputBox" data-v-59e6cb88><input type="password" value="" data-v-59e6cb88> <span data-v-59e6cb88>Konck! Knock!</span> <button data-v-59e6cb88>OK</button></label> <div class="footer" data-v-59e6cb88><span data-v-59e6cb88><i class="iconfont reco-theme" data-v-59e6cb88></i> <a target="blank" href="https://vuepress-theme-reco.recoluan.com" data-v-59e6cb88>vuePress-theme-reco</a></span> <span data-v-59e6cb88><i class="iconfont reco-copyright" data-v-59e6cb88></i> <a data-v-59e6cb88><!---->
        Â Â 
        <!---->
        2022
      </a></span></div></div> <div class="hide" data-v-7dd95ae2><header class="navbar" data-v-7dd95ae2><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/vuepress-starter/" class="home-link router-link-active"><img src="/vuepress-starter/images/good.png" alt="TSæ–‡æ¡£" class="logo"> <span class="site-name">TSæ–‡æ¡£</span></a> <div class="links"><div class="color-picker"><a class="color-button"><i class="iconfont reco-color"></i></a> <div class="color-picker-menu" style="display:none;"><div class="mode-options"><h4 class="title">Choose mode</h4> <ul class="color-mode-options"><li class="dark">dark</li><li class="auto active">auto</li><li class="light">light</li></ul></div></div></div> <div class="search-box"><i class="iconfont reco-search"></i> <input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"><div class="nav-item"><a href="/vuepress-starter/" class="nav-link"><i class="undefined"></i>
  é¦–é¡µ
</a></div><div class="nav-item"><a href="/vuepress-starter/page/js/" class="nav-link"><i class="undefined"></i>
  é¢è¯•é›†åˆ
</a></div><div class="nav-item"><a href="/vuepress-starter/handbook/ConditionalTypes.html" class="nav-link"><i class="undefined"></i>
  vueç»„ä»¶
</a></div><div class="nav-item"><a href="/vuepress-starter/vue/vuebase.html" class="nav-link"><i class="undefined"></i>
  vueå­¦ä¹ 
</a></div><div class="nav-item"><div class="dropdown-wrapper"><a class="dropdown-title"><span class="title"><i class="undefined"></i>
       JavaScript åšå®¢
    </span> <span class="arrow right"></span></a> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="https://github.com/strongkin" target="_blank" rel="noopener noreferrer" class="nav-link external"><i class="undefined"></i>
  Github
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li><li class="dropdown-item"><!----> <a href="https://juejin.cn" target="_blank" rel="noopener noreferrer" class="nav-link external"><i class="undefined"></i>
  æ˜é‡‘
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li></ul></div></div> <!----></nav></div></header> <div class="sidebar-mask" data-v-7dd95ae2></div> <aside class="sidebar" data-v-7dd95ae2><div class="personal-info-wrapper" data-v-1fad0c41 data-v-7dd95ae2><img src="/vuepress-starter/images/good.png" alt="author-avatar" class="personal-img" data-v-1fad0c41> <!----> <div class="num" data-v-1fad0c41><div data-v-1fad0c41><h3 data-v-1fad0c41>105</h3> <h6 data-v-1fad0c41>Articles</h6></div> <div data-v-1fad0c41><h3 data-v-1fad0c41>0</h3> <h6 data-v-1fad0c41>Tags</h6></div></div> <ul class="social-links" data-v-1fad0c41></ul> <hr data-v-1fad0c41></div> <nav class="nav-links"><div class="nav-item"><a href="/vuepress-starter/" class="nav-link"><i class="undefined"></i>
  é¦–é¡µ
</a></div><div class="nav-item"><a href="/vuepress-starter/page/js/" class="nav-link"><i class="undefined"></i>
  é¢è¯•é›†åˆ
</a></div><div class="nav-item"><a href="/vuepress-starter/handbook/ConditionalTypes.html" class="nav-link"><i class="undefined"></i>
  vueç»„ä»¶
</a></div><div class="nav-item"><a href="/vuepress-starter/vue/vuebase.html" class="nav-link"><i class="undefined"></i>
  vueå­¦ä¹ 
</a></div><div class="nav-item"><div class="dropdown-wrapper"><a class="dropdown-title"><span class="title"><i class="undefined"></i>
       JavaScript åšå®¢
    </span> <span class="arrow right"></span></a> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="https://github.com/strongkin" target="_blank" rel="noopener noreferrer" class="nav-link external"><i class="undefined"></i>
  Github
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li><li class="dropdown-item"><!----> <a href="https://juejin.cn" target="_blank" rel="noopener noreferrer" class="nav-link external"><i class="undefined"></i>
  æ˜é‡‘
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li></ul></div></div> <!----></nav> <ul class="sidebar-links"><li><section class="sidebar-group collapsable depth-0"><a href="/vuepress-starter/handbook/" class="sidebar-heading clickable router-link-active"><span>åŸºç¡€å­¦ä¹ </span> <span class="arrow right"></span></a> <!----></section></li><li><section class="sidebar-group depth-0"><a href="/vuepress-starter/handbook/vueRabbitTs/01-é¡¹ç›®èµ·æ­¥" class="sidebar-heading clickable open"><span>å°å…”ä»™+TS+pinia</span> <!----></a> <ul class="sidebar-links sidebar-group-items"><li><a href="/vuepress-starter/handbook/vueRabbitTs/01-é¡¹ç›®èµ·æ­¥.html" class="sidebar-link">é¡¹ç›®èµ·æ­¥</a></li><li><a href="/vuepress-starter/handbook/vueRabbitTs/02-é¦–é¡µæ¨¡å—.html" class="sidebar-link">é¦–é¡µæ¨¡å—</a></li><li><a href="/vuepress-starter/handbook/vueRabbitTs/03-åˆ†ç±»æ¨¡å—.html" class="sidebar-link">åˆ†ç±»æ¨¡å—</a></li><li><a href="/vuepress-starter/handbook/vueRabbitTs/04-è¯¦æƒ…æ¨¡å—.html" class="sidebar-link">è¯¦æƒ…æ¨¡å—</a></li><li><a href="/vuepress-starter/handbook/vueRabbitTs/05-ç™»å½•æ¨¡å—.html" class="sidebar-link">ç™»å½•æ¨¡å—</a></li><li><a href="/vuepress-starter/handbook/vueRabbitTs/06-è´­ç‰©è½¦æ¨¡å—.html" class="active sidebar-link">è´­ç‰©è½¦æ¨¡å—</a></li><li><a href="/vuepress-starter/handbook/vueRabbitTs/07-è®¢å•æ¨¡å—.html" class="sidebar-link">è®¢å•æ¨¡å—</a></li><li><a href="/vuepress-starter/handbook/vueRabbitTs/08-æ”¯ä»˜æ¨¡å—.html" class="sidebar-link">æ”¯ä»˜æ¨¡å—</a></li><li><a href="/vuepress-starter/handbook/vueRabbitTs/09-ä¼šå‘˜æ¨¡å—.html" class="sidebar-link">ä¼šå‘˜æ¨¡å—</a></li><li><a href="/vuepress-starter/handbook/vueRabbitTs/æ‹“å±•é˜…è¯».html" class="sidebar-link">æ‹“å±•é˜…è¯»</a></li></ul></section></li></ul> </aside> <div class="password-shadow password-wrapper-in" style="display:none;" data-v-59e6cb88 data-v-7dd95ae2><h3 class="title" data-v-59e6cb88></h3> <!----> <label id="box" class="inputBox" data-v-59e6cb88><input type="password" value="" data-v-59e6cb88> <span data-v-59e6cb88>Konck! Knock!</span> <button data-v-59e6cb88>OK</button></label> <div class="footer" data-v-59e6cb88><span data-v-59e6cb88><i class="iconfont reco-theme" data-v-59e6cb88></i> <a target="blank" href="https://vuepress-theme-reco.recoluan.com" data-v-59e6cb88>vuePress-theme-reco</a></span> <span data-v-59e6cb88><i class="iconfont reco-copyright" data-v-59e6cb88></i> <a data-v-59e6cb88><!---->
        Â Â 
        <!---->
        2022
      </a></span></div></div> <div data-v-7dd95ae2><div data-v-7dd95ae2><main class="page"><section style="display:;"><div class="page-title"><h1 class="title">è´­ç‰©è½¦æ¨¡å—</h1> <div data-v-8a445198><!----> <!----> <!----> <!----></div></div> <div class="theme-reco-content content__default"><h1 id="è´­ç‰©è½¦æ¨¡å—"><a href="#è´­ç‰©è½¦æ¨¡å—" class="header-anchor">#</a> è´­ç‰©è½¦æ¨¡å—</h1> <h2 id="è´­ç‰©è½¦åŠŸèƒ½åˆ†æ"><a href="#è´­ç‰©è½¦åŠŸèƒ½åˆ†æ" class="header-anchor">#</a> è´­ç‰©è½¦åŠŸèƒ½åˆ†æ</h2> <p><img src="/vuepress-starter/assets/img/01-16459814763577.2d4e74b2.png" alt=""></p> <p><strong>æ€è·¯æµç¨‹</strong></p> <ol><li>è´­ç‰©è½¦çš„å„ç§æ“ä½œéƒ½ä¼šæœ‰ä¸¤ç§çŠ¶æ€çš„åŒºåˆ†ï¼Œç™»å½•å’Œæœªç™»å½•</li> <li>æ‰€æœ‰æ“ä½œéƒ½å°è£…åˆ° <code>Pinia</code> ä¸­ï¼Œç»„ä»¶åªéœ€è¦è§¦å‘ <code>actions</code> å‡½æ•°</li> <li>åœ¨<code>actions</code>ä¸­é€šè¿‡ <code>member</code> ä¿¡æ¯å»åŒºåˆ†ç™»å½•çŠ¶æ€
<ol><li>å·²ç™»å½•ï¼Œé€šè¿‡è°ƒç”¨æ¥å£å»æœåŠ¡ç«¯æ“ä½œï¼Œå“åº”æˆåŠŸä¼šé€šè¿‡ <code>actions</code> ä¿®æ”¹ <code>Pinia</code> ä¸­çš„æ•°æ®å³å¯</li> <li>æœªç™»å½•æ—¶ï¼Œé€šè¿‡ <code>actions</code> ä¿®æ”¹ <code>Pinia</code> ä¸­çš„æ•°æ®å³å¯ï¼Œ <code>Pinia</code> å®ç°æŒä¹…åŒ–ï¼ŒåŒæ­¥ä¿å­˜åœ¨æœ¬åœ°</li></ol></li></ol> <h2 id="å‡†å¤‡è´­ç‰©è½¦-store"><a href="#å‡†å¤‡è´­ç‰©è½¦-store" class="header-anchor">#</a> å‡†å¤‡è´­ç‰©è½¦ Store</h2> <blockquote><p>æœ¬èŠ‚ç›®æ ‡ï¼šä¸ºè´­ç‰©è½¦ä¸šåŠ¡å®šä¹‰ä¸“å±çš„ Storeï¼Œå¤šä¸ªç»„ä»¶éƒ½è¦ç”¨åˆ°è´­ç‰©è½¦æ•°æ®ã€‚</p></blockquote> <p><code>Pinia</code>  åŸºæœ¬ç»“æ„</p> <div class="language-jsx extra-class"><pre class="language-jsx"><code><span class="token keyword">import</span> <span class="token punctuation">{</span> defineStore <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&quot;pinia&quot;</span><span class="token punctuation">;</span>

<span class="token keyword">const</span> useCartStore <span class="token operator">=</span> <span class="token function">defineStore</span><span class="token punctuation">(</span><span class="token string">&quot;cart&quot;</span><span class="token punctuation">,</span><span class="token punctuation">{</span>
  <span class="token comment">// çŠ¶æ€</span>
  <span class="token function-variable function">state</span><span class="token operator">:</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">(</span><span class="token punctuation">{</span>
    <span class="token comment">// è´­ç‰©è½¦åˆ—è¡¨</span>
    <span class="token literal-property property">list</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
  <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
  <span class="token comment">// è®¡ç®—</span>
  <span class="token literal-property property">getters</span><span class="token operator">:</span> <span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token comment">// æ–¹æ³•</span>
  <span class="token literal-property property">actions</span><span class="token operator">:</span> <span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token keyword">export</span> <span class="token keyword">default</span> useCartStore<span class="token punctuation">;</span>
</code></pre></div><p>ğŸ“Œæ³¨æ„ï¼šè®°å¾—åˆ° <code>src\store\index.ts</code> åˆå¹¶æ–° <code>Store</code></p> <h2 id="æ·»åŠ è´­ç‰©è½¦åŠŸèƒ½å®ç°-å·²ç™»å½•"><a href="#æ·»åŠ è´­ç‰©è½¦åŠŸèƒ½å®ç°-å·²ç™»å½•" class="header-anchor">#</a> æ·»åŠ è´­ç‰©è½¦åŠŸèƒ½å®ç°-å·²ç™»å½•</h2> <blockquote><p>æœ¬èŠ‚ç›®æ ‡:   å®Œæˆå•†å“è¯¦æƒ…çš„æ·»åŠ è´­ç‰©è½¦æ“ä½œã€‚</p></blockquote> <p><img src="/vuepress-starter/assets/img/03.7e595a37.png" alt=""></p> <p><strong>å®ç°æ­¥éª¤</strong></p> <ol><li><code>actions</code> ä¸­å°è£…åŠ å…¥è´­ç‰©è½¦çš„æ¥å£ã€‚</li> <li>åœ¨å•†å“è¯¦æƒ…é¡µå®ç°æ·»åŠ é€»è¾‘è§¦å‘ <code>actions</code> å‡½æ•°è°ƒç”¨æ¥å£ã€‚</li></ol> <h3 id="æ¥å£-åŠ å…¥è´­ç‰©è½¦"><a href="#æ¥å£-åŠ å…¥è´­ç‰©è½¦" class="header-anchor">#</a> æ¥å£ï¼šåŠ å…¥è´­ç‰©è½¦</h3> <p><strong>æ¥å£åŸºæœ¬ä¿¡æ¯</strong></p> <p><strong>Pathï¼š</strong> /member/cart</p> <p><strong>Methodï¼š</strong> POST</p> <p><strong>è¯·æ±‚å‚æ•°</strong></p> <p><strong>Body</strong></p> <table><thead><tr><th>åç§°</th> <th>ç±»å‹</th> <th>æ˜¯å¦å¿…é¡»</th> <th>é»˜è®¤å€¼</th> <th>å¤‡æ³¨</th> <th>å…¶ä»–ä¿¡æ¯</th></tr></thead> <tbody><tr><td>skuId</td> <td>string</td> <td>å¿…é¡»</td> <td></td> <td>SKUID</td> <td></td></tr> <tr><td>count</td> <td>integer</td> <td>å¿…é¡»</td> <td></td> <td>æ•°é‡</td> <td></td></tr></tbody></table> <p>æ–‡ä»¶ï¼š<code>src\store\modules\cart.ts</code></p> <div class="language-ts extra-class"><pre class="language-ts"><code><span class="token keyword">const</span> useCartStore <span class="token operator">=</span> <span class="token function">defineStore</span><span class="token punctuation">(</span><span class="token string">&quot;cart&quot;</span><span class="token punctuation">,</span> <span class="token punctuation">{</span>
  <span class="token operator">...</span>
  <span class="token comment">// æ–¹æ³•</span>
  actions<span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token comment">// åŠ å…¥è´­ç‰©è½¦</span>
    <span class="token keyword">async</span> <span class="token function">addCart</span><span class="token punctuation">(</span>data<span class="token operator">:</span> <span class="token punctuation">{</span> skuId<span class="token operator">:</span> <span class="token builtin">string</span><span class="token punctuation">;</span> count<span class="token operator">:</span> <span class="token builtin">number</span> <span class="token punctuation">}</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token keyword">const</span> res <span class="token operator">=</span> <span class="token keyword">await</span> <span class="token function">http</span><span class="token punctuation">(</span><span class="token string">&quot;POST&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;/member/cart&quot;</span><span class="token punctuation">,</span> data<span class="token punctuation">)</span><span class="token punctuation">;</span>
      <span class="token builtin">console</span><span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">&quot;POST&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;/member/cart&quot;</span><span class="token punctuation">,</span> res<span class="token punctuation">.</span>data<span class="token punctuation">.</span>result<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

</code></pre></div><h3 id="ç‚¹å‡»æŒ‰é’®è°ƒç”¨æ¥å£"><a href="#ç‚¹å‡»æŒ‰é’®è°ƒç”¨æ¥å£" class="header-anchor">#</a> ç‚¹å‡»æŒ‰é’®è°ƒç”¨æ¥å£</h3> <p>åœ¨å•†å“è¯¦æƒ…ç»„ä»¶è°ƒç”¨ <code>actions</code> å‡½æ•°åŠ å…¥è´­ç‰©è½¦ã€‚</p> <ol><li>å‡†å¤‡å¥½åŠ å…¥è´­ç‰©è½¦æ¥å£æ‰€éœ€çš„å‚æ•°ï¼š<code>skuId</code> å’Œ <code>count</code></li> <li>ç‚¹å‡»æŒ‰é’®ï¼Œè°ƒç”¨æ¥å£ã€‚</li> <li>æ²¡æœ‰ <code>skuId</code> éœ€æç¤ºç”¨æˆ·ã€‚</li></ol> <div class="language-vue extra-class"><pre class="language-vue"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span> <span class="token attr-name">setup</span> <span class="token attr-name">lang</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>ts<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token script"><span class="token language-javascript">

<span class="token comment">// å•†å“æ•°é‡</span>
<span class="token keyword">const</span> count <span class="token operator">=</span> <span class="token function">ref</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">// XtxSku ç»„ä»¶é€‰ä¸­çš„å•†å“ä¿¡æ¯</span>
<span class="token keyword">const</span> skuId <span class="token operator">=</span> <span class="token function">ref</span><span class="token punctuation">(</span><span class="token string">&quot;&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">const</span> <span class="token function-variable function">changeSku</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token parameter"><span class="token literal-property property">value</span><span class="token operator">:</span> SkuEmit</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
  <span class="token comment">// ğŸ””å­˜å‚¨ skuId ç”¨äºåŠ å…¥è´­ç‰©è½¦</span>
  skuId<span class="token punctuation">.</span>value <span class="token operator">=</span> value<span class="token punctuation">.</span>skuId <span class="token operator">||</span> <span class="token string">&quot;&quot;</span><span class="token punctuation">;</span>
  <span class="token comment">// console.log(&quot;å½“å‰é€‰æ‹©çš„SKUä¸ºä¿¡æ¯ä¸º&quot;, value);</span>
  <span class="token operator">...</span>çœç•¥
<span class="token punctuation">}</span><span class="token punctuation">;</span>

<span class="token comment">// åŠ å…¥è´­ç‰©æŒ‰é’®ç‚¹å‡»</span>
<span class="token keyword">const</span> <span class="token punctuation">{</span> cart <span class="token punctuation">}</span> <span class="token operator">=</span> <span class="token function">useStore</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">const</span> <span class="token function-variable function">addCart</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
  <span class="token comment">// æ²¡æœ‰ skuIdï¼Œæé†’ç”¨æˆ·å¹¶é€€å‡ºå‡½æ•°</span>
  <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token operator">!</span>skuId<span class="token punctuation">.</span>value<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> <span class="token function">message</span><span class="token punctuation">(</span><span class="token punctuation">{</span> <span class="token literal-property property">type</span><span class="token operator">:</span> <span class="token string">&quot;warn&quot;</span><span class="token punctuation">,</span> <span class="token literal-property property">text</span><span class="token operator">:</span> <span class="token string">&quot;è¯·é€‰æ‹©å®Œæ•´å•†å“è§„åˆ™~&quot;</span> <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
  <span class="token comment">// è°ƒç”¨åŠ å…¥è´­ç‰©è½¦æ¥å£</span>
  cart<span class="token punctuation">.</span><span class="token function">addCart</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
    <span class="token literal-property property">skuId</span><span class="token operator">:</span> skuId<span class="token punctuation">.</span>value<span class="token punctuation">,</span>
    <span class="token literal-property property">count</span><span class="token operator">:</span> count<span class="token punctuation">.</span>value<span class="token punctuation">,</span>
  <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">&gt;</span></span>

<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>template</span><span class="token punctuation">&gt;</span></span>
   ...
          <span class="token comment">&lt;!-- æŒ‰é’®ç»„ä»¶ --&gt;</span>
          <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>XtxButton</span>
            <span class="token attr-name">@click</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>addCart<span class="token punctuation">&quot;</span></span>
            <span class="token attr-name">size</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>middle<span class="token punctuation">&quot;</span></span>
            <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>primary<span class="token punctuation">&quot;</span></span>
            <span class="token special-attr"><span class="token attr-name">style</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span><span class="token value css language-css"><span class="token property">margin-top</span><span class="token punctuation">:</span> 20px</span><span class="token punctuation">&quot;</span></span></span>
          <span class="token punctuation">&gt;</span></span>
            åŠ å…¥è´­ç‰©è½¦
          <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>XtxButton</span><span class="token punctuation">&gt;</span></span>
   ...
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>template</span><span class="token punctuation">&gt;</span></span>
</code></pre></div><h2 id="å¤´éƒ¨è´­ç‰©è½¦å®ç°-å·²ç™»å½•"><a href="#å¤´éƒ¨è´­ç‰©è½¦å®ç°-å·²ç™»å½•" class="header-anchor">#</a> å¤´éƒ¨è´­ç‰©è½¦å®ç°-å·²ç™»å½•</h2> <p><img src="/vuepress-starter/assets/img/02.60b42d5c.png" alt=""></p> <h3 id="_1-åŸºç¡€å¸ƒå±€"><a href="#_1-åŸºç¡€å¸ƒå±€" class="header-anchor">#</a> 1. åŸºç¡€å¸ƒå±€</h3> <p><code>æœ¬èŠ‚ç›®æ ‡:</code>  åœ¨ç½‘ç«™å¤´éƒ¨è´­ç‰©è½¦å›¾ç‰‡å¤„ï¼Œé¼ æ ‡ç»è¿‡å±•ç¤ºè´­ç‰©è½¦åˆ—è¡¨</p> <p><strong>å®ç°æ­¥éª¤</strong></p> <ol><li>æå–å¤´éƒ¨è´­ç‰©è½¦ç»„ä»¶ï¼Œå®ŒæˆåŸºç¡€å¸ƒå±€</li> <li>é€šè¿‡ <code>getters</code> è¿”å›æœ‰æ•ˆå•†å“æ€»æ•°å’Œæœ‰æ•ˆå•†å“åˆ—è¡¨</li> <li>æ¸²æŸ“å¤´éƒ¨è´­ç‰©è½¦ç»„ä»¶</li></ol> <p><strong>ä»£ç è½åœ°</strong></p> <p>1ï¼‰æ–°å»ºå¤´éƒ¨è´­ç‰©è½¦ç»„ä»¶</p> <p><code>src/views/Layout/components/app-header-cart.vue</code></p> <div class="language-html extra-class"><pre class="language-html"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span> <span class="token attr-name">setup</span> <span class="token attr-name">lang</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>ts<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token script"><span class="token language-javascript">
<span class="token comment">//</span>
</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">&gt;</span></span>

<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>template</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>cart<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>a</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>curr<span class="token punctuation">&quot;</span></span> <span class="token attr-name">href</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>javascript:;<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>i</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>iconfont icon-cart<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>i</span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>em</span><span class="token punctuation">&gt;</span></span>20<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>em</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>a</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>layer<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>list<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>item<span class="token punctuation">&quot;</span></span> <span class="token attr-name">v-for</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>i in 4<span class="token punctuation">&quot;</span></span> <span class="token attr-name">:key</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>i<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
          <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>RouterLink</span> <span class="token attr-name">to</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span><span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>img</span>
              <span class="token attr-name">src</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>https://yanxuan-item.nosdn.127.net/ead73130f3dbdb3cabe1c7b0f4fd3d28.png<span class="token punctuation">&quot;</span></span>
              <span class="token attr-name">alt</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span><span class="token punctuation">&quot;</span></span>
            <span class="token punctuation">/&gt;</span></span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>center<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
              <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>p</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>name ellipsis-2<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
                å’Œæ‰‹è¶³å¹²è£‚è¯´æ‹œæ‹œ ingramsæ‰‹è¶³çš²è£‚ä¿®å¤éœœ
              <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>p</span><span class="token punctuation">&gt;</span></span>
              <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>p</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>attr ellipsis<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>é¢œè‰²ï¼šä¿®å¤ç»¿ç“¶ å®¹é‡ï¼š150ml<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>p</span><span class="token punctuation">&gt;</span></span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>right<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
              <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>p</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>price<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token entity named-entity" title="&amp;yen;">&amp;yen;</span>45.00<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>p</span><span class="token punctuation">&gt;</span></span>
              <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>p</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>count<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>x2<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>p</span><span class="token punctuation">&gt;</span></span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
          <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>RouterLink</span><span class="token punctuation">&gt;</span></span>
          <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>i</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>iconfont icon-close-new<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>i</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>foot<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>total<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
          <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>p</span><span class="token punctuation">&gt;</span></span>å…± 3 ä»¶å•†å“<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>p</span><span class="token punctuation">&gt;</span></span>
          <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>p</span><span class="token punctuation">&gt;</span></span><span class="token entity named-entity" title="&amp;yen;">&amp;yen;</span>135.00<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>p</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>XtxButton</span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>plain<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>å»è´­ç‰©è½¦ç»“ç®—<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>XtxButton</span><span class="token punctuation">&gt;</span></span>
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>template</span><span class="token punctuation">&gt;</span></span>

<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>style</span> <span class="token attr-name">scoped</span> <span class="token attr-name">lang</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>less<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token style"><span class="token language-css">
<span class="token selector">.cart</span> <span class="token punctuation">{</span>
  <span class="token property">width</span><span class="token punctuation">:</span> 50px<span class="token punctuation">;</span>
  <span class="token property">position</span><span class="token punctuation">:</span> relative<span class="token punctuation">;</span>
  <span class="token property">z-index</span><span class="token punctuation">:</span> 600<span class="token punctuation">;</span>
  <span class="token selector">.curr</span> <span class="token punctuation">{</span>
    <span class="token property">height</span><span class="token punctuation">:</span> 32px<span class="token punctuation">;</span>
    <span class="token property">line-height</span><span class="token punctuation">:</span> 32px<span class="token punctuation">;</span>
    <span class="token property">text-align</span><span class="token punctuation">:</span> center<span class="token punctuation">;</span>
    <span class="token property">position</span><span class="token punctuation">:</span> relative<span class="token punctuation">;</span>
    <span class="token property">display</span><span class="token punctuation">:</span> block<span class="token punctuation">;</span>
    <span class="token selector">.icon-cart</span> <span class="token punctuation">{</span>
      <span class="token property">font-size</span><span class="token punctuation">:</span> 22px<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    <span class="token selector">em</span> <span class="token punctuation">{</span>
      <span class="token property">font-style</span><span class="token punctuation">:</span> normal<span class="token punctuation">;</span>
      <span class="token property">position</span><span class="token punctuation">:</span> absolute<span class="token punctuation">;</span>
      <span class="token property">right</span><span class="token punctuation">:</span> 0<span class="token punctuation">;</span>
      <span class="token property">top</span><span class="token punctuation">:</span> 0<span class="token punctuation">;</span>
      <span class="token property">padding</span><span class="token punctuation">:</span> 1px 6px<span class="token punctuation">;</span>
      <span class="token property">line-height</span><span class="token punctuation">:</span> 1<span class="token punctuation">;</span>
      <span class="token property">background</span><span class="token punctuation">:</span> <span class="token atrule"><span class="token rule">@helpColor</span><span class="token punctuation">;</span></span>
      <span class="token property">color</span><span class="token punctuation">:</span> #fff<span class="token punctuation">;</span>
      <span class="token property">font-size</span><span class="token punctuation">:</span> 12px<span class="token punctuation">;</span>
      <span class="token property">border-radius</span><span class="token punctuation">:</span> 10px<span class="token punctuation">;</span>
      <span class="token property">font-family</span><span class="token punctuation">:</span> Arial<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span>
  <span class="token selector">&amp;:hover</span> <span class="token punctuation">{</span>
    <span class="token selector">.layer</span> <span class="token punctuation">{</span>
      <span class="token property">opacity</span><span class="token punctuation">:</span> 1<span class="token punctuation">;</span>
      <span class="token property">transform</span><span class="token punctuation">:</span> none<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span>
  <span class="token selector">.layer</span> <span class="token punctuation">{</span>
    <span class="token property">opacity</span><span class="token punctuation">:</span> 0<span class="token punctuation">;</span>
    <span class="token property">transition</span><span class="token punctuation">:</span> all 0.2s 0.1s<span class="token punctuation">;</span>
    <span class="token property">transform</span><span class="token punctuation">:</span> <span class="token function">translateY</span><span class="token punctuation">(</span>-200px<span class="token punctuation">)</span> <span class="token function">scale</span><span class="token punctuation">(</span>1<span class="token punctuation">,</span> 0<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token property">width</span><span class="token punctuation">:</span> 400px<span class="token punctuation">;</span>
    <span class="token property">height</span><span class="token punctuation">:</span> 400px<span class="token punctuation">;</span>
    <span class="token property">position</span><span class="token punctuation">:</span> absolute<span class="token punctuation">;</span>
    <span class="token property">top</span><span class="token punctuation">:</span> 50px<span class="token punctuation">;</span>
    <span class="token property">right</span><span class="token punctuation">:</span> 0<span class="token punctuation">;</span>
    <span class="token property">box-shadow</span><span class="token punctuation">:</span> 0 0 10px <span class="token function">rgba</span><span class="token punctuation">(</span>0<span class="token punctuation">,</span> 0<span class="token punctuation">,</span> 0<span class="token punctuation">,</span> 0.2<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token property">background</span><span class="token punctuation">:</span> #fff<span class="token punctuation">;</span>
    <span class="token property">border-radius</span><span class="token punctuation">:</span> 4px<span class="token punctuation">;</span>
    <span class="token property">padding-top</span><span class="token punctuation">:</span> 10px<span class="token punctuation">;</span>
    <span class="token selector">&amp;::before</span> <span class="token punctuation">{</span>
      <span class="token property">content</span><span class="token punctuation">:</span> <span class="token string">''</span><span class="token punctuation">;</span>
      <span class="token property">position</span><span class="token punctuation">:</span> absolute<span class="token punctuation">;</span>
      <span class="token property">right</span><span class="token punctuation">:</span> 14px<span class="token punctuation">;</span>
      <span class="token property">top</span><span class="token punctuation">:</span> -10px<span class="token punctuation">;</span>
      <span class="token property">width</span><span class="token punctuation">:</span> 20px<span class="token punctuation">;</span>
      <span class="token property">height</span><span class="token punctuation">:</span> 20px<span class="token punctuation">;</span>
      <span class="token property">background</span><span class="token punctuation">:</span> #fff<span class="token punctuation">;</span>
      <span class="token property">transform</span><span class="token punctuation">:</span> <span class="token function">scale</span><span class="token punctuation">(</span>0.6<span class="token punctuation">,</span> 1<span class="token punctuation">)</span> <span class="token function">rotate</span><span class="token punctuation">(</span>45deg<span class="token punctuation">)</span><span class="token punctuation">;</span>
      <span class="token property">box-shadow</span><span class="token punctuation">:</span> -3px -3px 5px <span class="token function">rgba</span><span class="token punctuation">(</span>0<span class="token punctuation">,</span> 0<span class="token punctuation">,</span> 0<span class="token punctuation">,</span> 0.1<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    <span class="token selector">.foot</span> <span class="token punctuation">{</span>
      <span class="token property">position</span><span class="token punctuation">:</span> absolute<span class="token punctuation">;</span>
      <span class="token property">left</span><span class="token punctuation">:</span> 0<span class="token punctuation">;</span>
      <span class="token property">bottom</span><span class="token punctuation">:</span> 0<span class="token punctuation">;</span>
      <span class="token property">height</span><span class="token punctuation">:</span> 70px<span class="token punctuation">;</span>
      <span class="token property">width</span><span class="token punctuation">:</span> 100%<span class="token punctuation">;</span>
      <span class="token property">padding</span><span class="token punctuation">:</span> 10px<span class="token punctuation">;</span>
      <span class="token property">display</span><span class="token punctuation">:</span> flex<span class="token punctuation">;</span>
      <span class="token property">justify-content</span><span class="token punctuation">:</span> space-between<span class="token punctuation">;</span>
      <span class="token property">background</span><span class="token punctuation">:</span> #f8f8f8<span class="token punctuation">;</span>
      <span class="token property">align-items</span><span class="token punctuation">:</span> center<span class="token punctuation">;</span>
      <span class="token selector">.total</span> <span class="token punctuation">{</span>
        <span class="token property">padding-left</span><span class="token punctuation">:</span> 10px<span class="token punctuation">;</span>
        <span class="token property">color</span><span class="token punctuation">:</span> #999<span class="token punctuation">;</span>
        <span class="token selector">p</span> <span class="token punctuation">{</span>
          <span class="token selector">&amp;:last-child</span> <span class="token punctuation">{</span>
            <span class="token property">font-size</span><span class="token punctuation">:</span> 18px<span class="token punctuation">;</span>
            <span class="token property">color</span><span class="token punctuation">:</span> <span class="token atrule"><span class="token rule">@priceColor</span><span class="token punctuation">;</span></span>
          <span class="token punctuation">}</span>
        <span class="token punctuation">}</span>
      <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span>
  <span class="token selector">.list</span> <span class="token punctuation">{</span>
    <span class="token property">height</span><span class="token punctuation">:</span> 310px<span class="token punctuation">;</span>
    <span class="token property">overflow</span><span class="token punctuation">:</span> auto<span class="token punctuation">;</span>
    <span class="token property">padding</span><span class="token punctuation">:</span> 0 10px<span class="token punctuation">;</span>
    <span class="token selector">&amp;::-webkit-scrollbar</span> <span class="token punctuation">{</span>
      <span class="token property">width</span><span class="token punctuation">:</span> 10px<span class="token punctuation">;</span>
      <span class="token property">height</span><span class="token punctuation">:</span> 10px<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    <span class="token selector">&amp;::-webkit-scrollbar-track</span> <span class="token punctuation">{</span>
      <span class="token property">background</span><span class="token punctuation">:</span> #f8f8f8<span class="token punctuation">;</span>
      <span class="token property">border-radius</span><span class="token punctuation">:</span> 2px<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    <span class="token selector">&amp;::-webkit-scrollbar-thumb</span> <span class="token punctuation">{</span>
      <span class="token property">background</span><span class="token punctuation">:</span> #eee<span class="token punctuation">;</span>
      <span class="token property">border-radius</span><span class="token punctuation">:</span> 10px<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    <span class="token selector">&amp;::-webkit-scrollbar-thumb:hover</span> <span class="token punctuation">{</span>
      <span class="token property">background</span><span class="token punctuation">:</span> #ccc<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    <span class="token selector">.item</span> <span class="token punctuation">{</span>
      <span class="token property">border-bottom</span><span class="token punctuation">:</span> 1px solid #f5f5f5<span class="token punctuation">;</span>
      <span class="token property">padding</span><span class="token punctuation">:</span> 10px 0<span class="token punctuation">;</span>
      <span class="token property">position</span><span class="token punctuation">:</span> relative<span class="token punctuation">;</span>
      <span class="token selector">i</span> <span class="token punctuation">{</span>
        <span class="token property">position</span><span class="token punctuation">:</span> absolute<span class="token punctuation">;</span>
        <span class="token property">bottom</span><span class="token punctuation">:</span> 38px<span class="token punctuation">;</span>
        <span class="token property">right</span><span class="token punctuation">:</span> 0<span class="token punctuation">;</span>
        <span class="token property">opacity</span><span class="token punctuation">:</span> 0<span class="token punctuation">;</span>
        <span class="token property">color</span><span class="token punctuation">:</span> #666<span class="token punctuation">;</span>
        <span class="token property">transition</span><span class="token punctuation">:</span> all 0.5s<span class="token punctuation">;</span>
      <span class="token punctuation">}</span>
      <span class="token selector">&amp;:hover</span> <span class="token punctuation">{</span>
        <span class="token selector">i</span> <span class="token punctuation">{</span>
          <span class="token property">opacity</span><span class="token punctuation">:</span> 1<span class="token punctuation">;</span>
          <span class="token property">cursor</span><span class="token punctuation">:</span> pointer<span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
      <span class="token punctuation">}</span>
      <span class="token selector">a</span> <span class="token punctuation">{</span>
        <span class="token property">display</span><span class="token punctuation">:</span> flex<span class="token punctuation">;</span>
        <span class="token property">align-items</span><span class="token punctuation">:</span> center<span class="token punctuation">;</span>
        <span class="token selector">img</span> <span class="token punctuation">{</span>
          <span class="token property">height</span><span class="token punctuation">:</span> 80px<span class="token punctuation">;</span>
          <span class="token property">width</span><span class="token punctuation">:</span> 80px<span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
        <span class="token selector">.center</span> <span class="token punctuation">{</span>
          <span class="token property">padding</span><span class="token punctuation">:</span> 0 10px<span class="token punctuation">;</span>
          <span class="token property">width</span><span class="token punctuation">:</span> 200px<span class="token punctuation">;</span>
          <span class="token selector">.name</span> <span class="token punctuation">{</span>
            <span class="token property">font-size</span><span class="token punctuation">:</span> 16px<span class="token punctuation">;</span>
          <span class="token punctuation">}</span>
          <span class="token selector">.attr</span> <span class="token punctuation">{</span>
            <span class="token property">color</span><span class="token punctuation">:</span> #999<span class="token punctuation">;</span>
            <span class="token property">padding-top</span><span class="token punctuation">:</span> 5px<span class="token punctuation">;</span>
          <span class="token punctuation">}</span>
        <span class="token punctuation">}</span>
        <span class="token selector">.right</span> <span class="token punctuation">{</span>
          <span class="token property">width</span><span class="token punctuation">:</span> 100px<span class="token punctuation">;</span>
          <span class="token property">padding-right</span><span class="token punctuation">:</span> 20px<span class="token punctuation">;</span>
          <span class="token property">text-align</span><span class="token punctuation">:</span> center<span class="token punctuation">;</span>
          <span class="token selector">.price</span> <span class="token punctuation">{</span>
            <span class="token property">font-size</span><span class="token punctuation">:</span> 16px<span class="token punctuation">;</span>
            <span class="token property">color</span><span class="token punctuation">:</span> <span class="token atrule"><span class="token rule">@priceColor</span><span class="token punctuation">;</span></span>
          <span class="token punctuation">}</span>
          <span class="token selector">.count</span> <span class="token punctuation">{</span>
            <span class="token property">color</span><span class="token punctuation">:</span> #999<span class="token punctuation">;</span>
            <span class="token property">margin-top</span><span class="token punctuation">:</span> 5px<span class="token punctuation">;</span>
            <span class="token property">font-size</span><span class="token punctuation">:</span> 16px<span class="token punctuation">;</span>
          <span class="token punctuation">}</span>
        <span class="token punctuation">}</span>
      <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>style</span><span class="token punctuation">&gt;</span></span>

</code></pre></div><p>2ï¼‰headerç»„ä»¶ä½¿ç”¨è´­ç‰©è½¦ç»„ä»¶</p> <p><code>src/views/Layout/components/header/index.vue</code></p> <div class="language-diff extra-class"><pre class="language-diff"><code><span class="token deleted-arrow deleted"><span class="token prefix deleted">&lt;</span><span class="token line">template&gt;
</span></span><span class="token unchanged"><span class="token prefix unchanged"> </span><span class="token line"> &lt;header class=&quot;app-header&quot;&gt;
</span><span class="token prefix unchanged"> </span><span class="token line">   &lt;div class=&quot;container&quot;&gt;
</span><span class="token prefix unchanged"> </span><span class="token line">     &lt;h1 class=&quot;logo&quot;&gt;
</span><span class="token prefix unchanged"> </span><span class="token line">       &lt;RouterLink to=&quot;/&quot;&gt;å°å…”é²œ&lt;/RouterLink&gt;
</span><span class="token prefix unchanged"> </span><span class="token line">     &lt;/h1&gt;
</span><span class="token prefix unchanged"> </span><span class="token line">     &lt;AppHeaderNav /&gt;
</span><span class="token prefix unchanged"> </span><span class="token line">     &lt;div class=&quot;search&quot;&gt;
</span><span class="token prefix unchanged"> </span><span class="token line">       &lt;i class=&quot;iconfont icon-search&quot;&gt;&lt;/i&gt;
</span><span class="token prefix unchanged"> </span><span class="token line">       &lt;input type=&quot;text&quot; placeholder=&quot;æœä¸€æœ&quot; /&gt;
</span><span class="token prefix unchanged"> </span><span class="token line">     &lt;/div&gt;
</span></span><span class="token deleted-sign deleted"><span class="token prefix deleted">-</span><span class="token line">      &lt;div class=&quot;cart&quot;&gt;
</span><span class="token prefix deleted">-</span><span class="token line">        &lt;a class=&quot;curr&quot; href=&quot;#&quot;&gt;
</span><span class="token prefix deleted">-</span><span class="token line">          &lt;i class=&quot;iconfont icon-cart&quot;&gt;&lt;/i&gt;
</span><span class="token prefix deleted">-</span><span class="token line">          &lt;em&gt;2&lt;/em&gt;
</span><span class="token prefix deleted">-</span><span class="token line">        &lt;/a&gt;
</span><span class="token prefix deleted">-</span><span class="token line">      &lt;/div&gt;  
</span></span><span class="token inserted-sign inserted"><span class="token prefix inserted">+</span><span class="token line">      &lt;!-- è´­ç‰©è½¦ --&gt;
</span><span class="token prefix inserted">+</span><span class="token line">      &lt;AppHeaderCart /&gt;
</span></span><span class="token unchanged"><span class="token prefix unchanged"> </span><span class="token line">   &lt;/div&gt;
</span><span class="token prefix unchanged"> </span><span class="token line"> &lt;/header&gt;
</span></span><span class="token deleted-arrow deleted"><span class="token prefix deleted">&lt;</span><span class="token line">/template&gt;
</span></span></code></pre></div><h3 id="_2-å‡†å¤‡æ•°æ®"><a href="#_2-å‡†å¤‡æ•°æ®" class="header-anchor">#</a> 2. å‡†å¤‡æ•°æ®</h3> <h4 id="æ¥å£-è´­ç‰©è½¦åˆ—è¡¨"><a href="#æ¥å£-è´­ç‰©è½¦åˆ—è¡¨" class="header-anchor">#</a> æ¥å£ï¼šè´­ç‰©è½¦åˆ—è¡¨</h4> <p><strong>Pathï¼š</strong> /member/cart</p> <p><strong>Methodï¼š</strong> GET</p> <p>è¯·æ±‚å‚æ•°ï¼šæ— </p> <h4 id="å°è£…-action"><a href="#å°è£…-action" class="header-anchor">#</a> å°è£… <code>action</code></h4> <div class="language-ts extra-class"><pre class="language-ts"><code><span class="token keyword">const</span> useCartStore <span class="token operator">=</span> <span class="token function">defineStore</span><span class="token punctuation">(</span><span class="token string">'cart'</span><span class="token punctuation">,</span> <span class="token punctuation">{</span>
  <span class="token comment">// ...</span>
  actions<span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token comment">// è·å–è´­ç‰©è½¦åˆ—è¡¨</span>
    <span class="token keyword">async</span> <span class="token function">getCartList</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token comment">// å·²ç™»å½•ï¼Œè°ƒç”¨æ¥å£</span>
      <span class="token keyword">const</span> res <span class="token operator">=</span> <span class="token keyword">await</span> <span class="token function">http</span><span class="token punctuation">(</span><span class="token string">'GET'</span><span class="token punctuation">,</span> <span class="token string">'/member/cart'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
      <span class="token builtin">console</span><span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'GET'</span><span class="token punctuation">,</span> <span class="token string">'/member/cart'</span><span class="token punctuation">,</span> res<span class="token punctuation">.</span>data<span class="token punctuation">.</span>result<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

</code></pre></div><h4 id="å®šä¹‰tsç±»å‹å£°æ˜æ–‡ä»¶"><a href="#å®šä¹‰tsç±»å‹å£°æ˜æ–‡ä»¶" class="header-anchor">#</a> å®šä¹‰TSç±»å‹å£°æ˜æ–‡ä»¶</h4> <ul><li>æ–°å»ºæ–‡ä»¶ï¼š<code>src\types\api\cart.d.ts</code></li></ul> <div class="language-ts extra-class"><pre class="language-ts"><code><span class="token comment">// å•ä¸ªè´­ç‰©è½¦å•†å“</span>
<span class="token keyword">export</span> <span class="token keyword">interface</span> <span class="token class-name">CartItem</span> <span class="token punctuation">{</span>
  id<span class="token operator">:</span> <span class="token builtin">string</span><span class="token punctuation">;</span>
  skuId<span class="token operator">:</span> <span class="token builtin">string</span><span class="token punctuation">;</span>
  name<span class="token operator">:</span> <span class="token builtin">string</span><span class="token punctuation">;</span>
  attrsText<span class="token operator">:</span> <span class="token builtin">string</span><span class="token punctuation">;</span>
  <span class="token comment">// specs: any[];</span>
  picture<span class="token operator">:</span> <span class="token builtin">string</span><span class="token punctuation">;</span>
  price<span class="token operator">:</span> <span class="token builtin">string</span><span class="token punctuation">;</span>
  nowPrice<span class="token operator">:</span> <span class="token builtin">string</span><span class="token punctuation">;</span>
  nowOriginalPrice<span class="token operator">:</span> <span class="token builtin">string</span><span class="token punctuation">;</span>
  selected<span class="token operator">:</span> <span class="token builtin">boolean</span><span class="token punctuation">;</span>
  stock<span class="token operator">:</span> <span class="token builtin">number</span><span class="token punctuation">;</span>
  count<span class="token operator">:</span> <span class="token builtin">number</span><span class="token punctuation">;</span>
  isEffective<span class="token operator">:</span> <span class="token builtin">boolean</span><span class="token punctuation">;</span>
  <span class="token comment">// discount?: any;</span>
  isCollect<span class="token operator">:</span> <span class="token builtin">boolean</span><span class="token punctuation">;</span>
  postFee<span class="token operator">:</span> <span class="token builtin">number</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token comment">// è´­ç‰©è½¦åˆ—è¡¨</span>
<span class="token keyword">export</span> <span class="token keyword">type</span> <span class="token class-name">CartList</span> <span class="token operator">=</span> CartItem<span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">;</span>

</code></pre></div><ul><li>æ•´åˆå¯¼å‡ºï¼š<code>src\types\index.d.ts</code></li></ul> <div class="language-diff extra-class"><pre class="language-diff"><code>// types æ€»ç®¡ï¼Œç»Ÿä¸€å¯¼å‡ºç±»å‹å£°æ˜
export * from './api/home';
export * from './api/category';
export * from './api/goods';
export * from './api/member';
export * from './api/qq';
<span class="token inserted-sign inserted"><span class="token prefix inserted">+</span><span class="token line"> export * from './api/cart';
</span></span></code></pre></div><ul><li>æŒ‡å®šç±»å‹  <code>src\store\modules\cart.ts</code> ï¼Œå¹¶å®Œå–„åŠ å…¥è´­ç‰©è½¦åï¼Œä¸»åŠ¨è·å–æœåŠ¡å™¨æœ€æ–°åˆ—è¡¨ã€‚</li></ul> <div class="language-diff extra-class"><pre class="language-diff"><code><span class="token inserted-sign inserted"><span class="token prefix inserted">+</span><span class="token line"> import type { CartList } from '@/types';
</span></span>
const useCartStore = defineStore('cart', {
<span class="token unchanged"><span class="token prefix unchanged"> </span><span class="token line"> // çŠ¶æ€
</span><span class="token prefix unchanged"> </span><span class="token line"> state: () =&gt; ({
</span><span class="token prefix unchanged"> </span><span class="token line">   // è´­ç‰©è½¦åˆ—è¡¨
</span></span><span class="token deleted-sign deleted"><span class="token prefix deleted">-</span><span class="token line">    list: [],
</span></span><span class="token inserted-sign inserted"><span class="token prefix inserted">+</span><span class="token line">    list: [] as CartList,
</span></span><span class="token unchanged"><span class="token prefix unchanged"> </span><span class="token line"> }),
</span><span class="token prefix unchanged"> </span><span class="token line"> // æ–¹æ³•
</span><span class="token prefix unchanged"> </span><span class="token line"> actions: {
</span><span class="token prefix unchanged"> </span><span class="token line">   // åŠ å…¥è´­ç‰©è½¦
</span><span class="token prefix unchanged"> </span><span class="token line">   async addCart(data: { skuId: string; count: number }) {
</span><span class="token prefix unchanged"> </span><span class="token line">     // å·²ç™»å½•ï¼Œè°ƒç”¨æ¥å£
</span><span class="token prefix unchanged"> </span><span class="token line">     const res = await http('POST', '/member/cart', data);
</span><span class="token prefix unchanged"> </span><span class="token line">     // æˆåŠŸæç¤º
</span><span class="token prefix unchanged"> </span><span class="token line">     message({ type: 'success', text: 'åŠ å…¥è´­ç‰©è½¦æˆåŠŸ' });
</span></span><span class="token inserted-sign inserted"><span class="token prefix inserted">+</span><span class="token line">      // åŠ å…¥æˆåŠŸåï¼Œä¸»åŠ¨è·å–æœåŠ¡å™¨æœ€æ–°åˆ—è¡¨
</span><span class="token prefix inserted">+</span><span class="token line">      this.getCartList();
</span></span><span class="token unchanged"><span class="token prefix unchanged"> </span><span class="token line">   },
</span><span class="token prefix unchanged"> </span><span class="token line">   // è·å–è´­ç‰©è½¦åˆ—è¡¨
</span><span class="token prefix unchanged"> </span><span class="token line">   async getCartList() {
</span><span class="token prefix unchanged"> </span><span class="token line">     // å·²ç™»å½•ï¼Œè°ƒç”¨æ¥å£
</span></span><span class="token deleted-sign deleted"><span class="token prefix deleted">-</span><span class="token line">      const res = await http('GET', '/member/cart');
</span></span><span class="token inserted-sign inserted"><span class="token prefix inserted">+</span><span class="token line">      const res = await http&lt;CartList&gt;('GET', '/member/cart');
</span><span class="token prefix inserted">+</span><span class="token line">      // ä¿å­˜è´­ç‰©è½¦åˆ—è¡¨æ•°æ®
</span><span class="token prefix inserted">+</span><span class="token line">      this.list = res.data.result;
</span></span><span class="token unchanged"><span class="token prefix unchanged"> </span><span class="token line">   },
</span><span class="token prefix unchanged"> </span><span class="token line"> },
</span></span>});

</code></pre></div><h3 id="_3-åˆ—è¡¨æ¸²æŸ“ä¸è®¡ç®—"><a href="#_3-åˆ—è¡¨æ¸²æŸ“ä¸è®¡ç®—" class="header-anchor">#</a> 3. åˆ—è¡¨æ¸²æŸ“ä¸è®¡ç®—</h3> <h4 id="åˆ—è¡¨æ¸²æŸ“"><a href="#åˆ—è¡¨æ¸²æŸ“" class="header-anchor">#</a> åˆ—è¡¨æ¸²æŸ“</h4> <blockquote><p>ğŸš¨æ³¨æ„ï¼š</p> <ol><li>åˆ—è¡¨æ¸²æŸ“çš„æ—¶å€™ <code>key</code> å€¼ç”¨ <code>skuId</code>ï¼Œ<code>RouterLink</code> è·³è½¬çš„æ—¶å€™ç”¨äº§å“ <code>id</code></li> <li>è´­ç‰©è½¦åˆ—è¡¨çš„  <code>price</code> ä¸ºåŠ å…¥æ—¶ä»·æ ¼ï¼Œæœ€æ–°ä»·æ ¼æ˜¯ <code>nowPrice</code></li></ol></blockquote> <div class="language-diff extra-class"><pre class="language-diff"><code><span class="token deleted-arrow deleted"><span class="token prefix deleted">&lt;</span><span class="token line">template&gt;
</span></span><span class="token unchanged"><span class="token prefix unchanged"> </span><span class="token line"> &lt;div class=&quot;cart&quot;&gt;
</span><span class="token prefix unchanged"> </span><span class="token line">   &lt;a class=&quot;curr&quot; href=&quot;javascript:;&quot;&gt;
</span><span class="token prefix unchanged"> </span><span class="token line">     &lt;i class=&quot;iconfont icon-cart&quot;&gt;&lt;/i&gt;&lt;em&gt;2&lt;/em&gt;
</span><span class="token prefix unchanged"> </span><span class="token line">   &lt;/a&gt;
</span><span class="token prefix unchanged"> </span><span class="token line">   &lt;div class=&quot;layer&quot;&gt;
</span><span class="token prefix unchanged"> </span><span class="token line">     &lt;div class=&quot;list&quot;&gt;
</span></span><span class="token inserted-sign inserted"><span class="token prefix inserted">+</span><span class="token line">        &lt;div class=&quot;item&quot; v-for=&quot;item in cart.list&quot; :key=&quot;item.skuId&quot;&gt;
</span><span class="token prefix inserted">+</span><span class="token line">          &lt;RouterLink :to=&quot;`/product/${item.id}`&quot;&gt;
</span><span class="token prefix inserted">+</span><span class="token line">            &lt;img :src=&quot;item.picture&quot; alt=&quot;&quot; /&gt;
</span><span class="token prefix inserted">+</span><span class="token line">            &lt;div class=&quot;center&quot;&gt;
</span><span class="token prefix inserted">+</span><span class="token line">              &lt;p class=&quot;name ellipsis-2&quot;&gt;
</span><span class="token prefix inserted">+</span><span class="token line">                {{ item.name }}
</span><span class="token prefix inserted">+</span><span class="token line">              &lt;/p&gt;
</span><span class="token prefix inserted">+</span><span class="token line">              &lt;p class=&quot;attr ellipsis&quot;&gt;{{ item.attrsText }}&lt;/p&gt;
</span><span class="token prefix inserted">+</span><span class="token line">            &lt;/div&gt;
</span><span class="token prefix inserted">+</span><span class="token line">            &lt;div class=&quot;right&quot;&gt;
</span><span class="token prefix inserted">+</span><span class="token line">              &lt;p class=&quot;price&quot;&gt;&amp;yen;{{ item.nowPrice }}&lt;/p&gt;
</span><span class="token prefix inserted">+</span><span class="token line">              &lt;p class=&quot;count&quot;&gt;x{{ item.count }}&lt;/p&gt;
</span><span class="token prefix inserted">+</span><span class="token line">            &lt;/div&gt;
</span><span class="token prefix inserted">+</span><span class="token line">          &lt;/RouterLink&gt;
</span><span class="token prefix inserted">+</span><span class="token line">          &lt;i class=&quot;iconfont icon-close-new&quot;&gt;&lt;/i&gt;
</span><span class="token prefix inserted">+</span><span class="token line">        &lt;/div&gt;
</span></span><span class="token unchanged"><span class="token prefix unchanged"> </span><span class="token line">     &lt;/div&gt;
</span><span class="token prefix unchanged"> </span><span class="token line">     &lt;div class=&quot;foot&quot;&gt;
</span><span class="token prefix unchanged"> </span><span class="token line">       &lt;div class=&quot;total&quot;&gt;
</span><span class="token prefix unchanged"> </span><span class="token line">         &lt;p&gt;å…± 3 ä»¶å•†å“&lt;/p&gt;
</span><span class="token prefix unchanged"> </span><span class="token line">         &lt;p&gt;&amp;yen;135.00&lt;/p&gt;
</span><span class="token prefix unchanged"> </span><span class="token line">       &lt;/div&gt;
</span><span class="token prefix unchanged"> </span><span class="token line">       &lt;XtxButton type=&quot;plain&quot;&gt;å»è´­ç‰©è½¦ç»“ç®—&lt;/XtxButton&gt;
</span><span class="token prefix unchanged"> </span><span class="token line">     &lt;/div&gt;
</span><span class="token prefix unchanged"> </span><span class="token line">   &lt;/div&gt;
</span><span class="token prefix unchanged"> </span><span class="token line"> &lt;/div&gt;
</span></span><span class="token deleted-arrow deleted"><span class="token prefix deleted">&lt;</span><span class="token line">/template&gt;
</span></span></code></pre></div><h4 id="åˆ—è¡¨è®¡ç®—"><a href="#åˆ—è¡¨è®¡ç®—" class="header-anchor">#</a> åˆ—è¡¨è®¡ç®—</h4> <p>è¯´æ˜ï¼š</p> <ol><li>è´­ç‰©è½¦çš„å•†å“å¯èƒ½ä¼šä¸‹æ¶ï¼Œä¸‹æ¶åå°±å˜æˆæ— æ•ˆå•†å“ã€‚</li> <li>å•†å“ä¼šè¢«å…¶ä»–ç”¨æˆ·è´­ä¹°ï¼Œå•†å“åº“å­˜æ˜¯åŠ¨æ€å˜åŒ–çš„ï¼Œæ²¡æœ‰åº“å­˜çš„å•†å“ä¹Ÿä¸ºæ— æ•ˆå•†å“ã€‚</li></ol> <blockquote><p>æœ¬èŠ‚ç›®æ ‡:  ä½¿ç”¨  <code>Pinia</code>  çš„ <code>getters</code> å±æ€§è®¡ç®— æœ‰æ•ˆå•†å“åˆ—è¡¨ï¼Œæœ‰æ•ˆå•†å“æ€»æ•°ï¼Œæœ‰æ•ˆå•†å“æ€»é‡‘é¢ã€‚</p></blockquote> <p>1ï¼‰ä½¿ç”¨ <code>getters</code> å¾—åˆ°æœ‰æ•ˆå•†å“åˆ—è¡¨ï¼Œæ€»æ•°é‡ï¼Œ æ€»ä»·</p> <div class="language-ts extra-class"><pre class="language-ts"><code>  getters<span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token comment">// è®¡ç®—æœ‰æ•ˆå•†å“åˆ—è¡¨ isEffective = true  filter</span>
    <span class="token function">effectiveList</span><span class="token punctuation">(</span>state<span class="token punctuation">)</span><span class="token operator">:</span> CartList <span class="token punctuation">{</span>
      <span class="token keyword">return</span> state<span class="token punctuation">.</span>list<span class="token punctuation">.</span><span class="token function">filter</span><span class="token punctuation">(</span><span class="token punctuation">(</span>item<span class="token punctuation">)</span> <span class="token operator">=&gt;</span> item<span class="token punctuation">.</span>stock <span class="token operator">&gt;</span> <span class="token number">0</span> <span class="token operator">&amp;&amp;</span> item<span class="token punctuation">.</span>isEffective<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token comment">// æœ‰æ•ˆå•†å“æ€»æ•°é‡ æŠŠeffctiveListä¸­çš„æ¯ä¸€é¡¹çš„countå åŠ èµ·æ¥</span>
    <span class="token function">effectiveListCount</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">:</span> <span class="token builtin">number</span> <span class="token punctuation">{</span>
      <span class="token keyword">return</span> <span class="token keyword">this</span><span class="token punctuation">.</span>effectiveList<span class="token punctuation">.</span><span class="token function">reduce</span><span class="token punctuation">(</span><span class="token punctuation">(</span>sum<span class="token punctuation">,</span> item<span class="token punctuation">)</span> <span class="token operator">=&gt;</span> sum <span class="token operator">+</span> item<span class="token punctuation">.</span>count<span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token comment">// æ€»é’±æ•°  = æ‰€æœ‰å•é¡¹çš„é’±æ•°ç´¯åŠ   å•é¡¹çš„é’±æ•° = æ•°é‡ * å•ä»·</span>
    <span class="token function">effectiveListPrice</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">:</span> <span class="token builtin">string</span> <span class="token punctuation">{</span>
      <span class="token keyword">return</span> <span class="token keyword">this</span><span class="token punctuation">.</span>effectiveList
        <span class="token punctuation">.</span><span class="token function">reduce</span><span class="token punctuation">(</span><span class="token punctuation">(</span>sum<span class="token punctuation">,</span> item<span class="token punctuation">)</span> <span class="token operator">=&gt;</span> sum <span class="token operator">+</span> item<span class="token punctuation">.</span>count <span class="token operator">*</span> <span class="token function">Number</span><span class="token punctuation">(</span>item<span class="token punctuation">.</span>nowPrice<span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">)</span>
        <span class="token punctuation">.</span><span class="token function">toFixed</span><span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
</code></pre></div><p>2ï¼‰æ¸²æŸ“å¤´éƒ¨è´­ç‰©è½¦æ¨¡æ¿</p> <div class="language-diff extra-class"><pre class="language-diff"><code><span class="token deleted-arrow deleted"><span class="token prefix deleted">&lt;</span><span class="token line">template&gt;
</span></span><span class="token unchanged"><span class="token prefix unchanged"> </span><span class="token line"> &lt;div class=&quot;cart&quot;&gt;
</span><span class="token prefix unchanged"> </span><span class="token line">   &lt;a class=&quot;curr&quot; href=&quot;javascript:;&quot;&gt;
</span></span><span class="token inserted-sign inserted"><span class="token prefix inserted">+</span><span class="token line">      &lt;i class=&quot;iconfont icon-cart&quot;&gt;&lt;/i&gt;&lt;em&gt;{{ cart.effectiveListCount }}&lt;/em&gt;
</span></span><span class="token unchanged"><span class="token prefix unchanged"> </span><span class="token line">   &lt;/a&gt;
</span></span>
<span class="token unchanged"><span class="token prefix unchanged"> </span><span class="token line">   &lt;!-- æ˜¾ç¤ºéšè—çš„å¼¹å±‚ --&gt;
</span><span class="token prefix unchanged"> </span><span class="token line">   &lt;div class=&quot;layer&quot;&gt;
</span><span class="token prefix unchanged"> </span><span class="token line">     &lt;div class=&quot;list&quot;&gt;
</span></span><span class="token deleted-sign deleted"><span class="token prefix deleted">-</span><span class="token line">        &lt;div class=&quot;item&quot; v-for=&quot;item in cart.list&quot; :key=&quot;item.skuId&quot;&gt;
</span></span><span class="token inserted-sign inserted"><span class="token prefix inserted">+</span><span class="token line">        &lt;div class=&quot;item&quot; v-for=&quot;item in cart.effectiveList&quot; :key=&quot;item.skuId&quot;&gt;
</span></span><span class="token unchanged"><span class="token prefix unchanged"> </span><span class="token line">         &lt;RouterLink :to=&quot;`/goods/${item.id}`&quot;&gt;
</span><span class="token prefix unchanged"> </span><span class="token line">           &lt;img :src=&quot;item.picture&quot; alt=&quot;&quot;&gt;
</span><span class="token prefix unchanged"> </span><span class="token line">           &lt;div class=&quot;center&quot;&gt;
</span><span class="token prefix unchanged"> </span><span class="token line">             &lt;p class=&quot;name ellipsis-2&quot;&gt;{{ item.name }}&lt;/p&gt;
</span><span class="token prefix unchanged"> </span><span class="token line">             &lt;p class=&quot;attr ellipsis&quot;&gt;{{ item.attrsText }}&lt;/p&gt;
</span><span class="token prefix unchanged"> </span><span class="token line">           &lt;/div&gt;
</span><span class="token prefix unchanged"> </span><span class="token line">           &lt;div class=&quot;right&quot;&gt;
</span><span class="token prefix unchanged"> </span><span class="token line">             &lt;p class=&quot;price&quot;&gt;&amp;yen;{{ item.nowPrice }}&lt;/p&gt;
</span><span class="token prefix unchanged"> </span><span class="token line">             &lt;p class=&quot;count&quot;&gt;x{{ item.count }}&lt;/p&gt;
</span><span class="token prefix unchanged"> </span><span class="token line">           &lt;/div&gt;
</span><span class="token prefix unchanged"> </span><span class="token line">         &lt;/RouterLink&gt;
</span><span class="token prefix unchanged"> </span><span class="token line">         &lt;i class=&quot;iconfont icon-close-new&quot;&gt;&lt;/i&gt;
</span><span class="token prefix unchanged"> </span><span class="token line">       &lt;/div&gt;
</span><span class="token prefix unchanged"> </span><span class="token line">     &lt;/div&gt;
</span><span class="token prefix unchanged"> </span><span class="token line">     &lt;div class=&quot;foot&quot;&gt;
</span><span class="token prefix unchanged"> </span><span class="token line">       &lt;div class=&quot;total&quot;&gt;
</span></span><span class="token inserted-sign inserted"><span class="token prefix inserted">+</span><span class="token line">          &lt;p&gt;å…± {{ cart.effectiveListCount }} ä»¶å•†å“&lt;/p&gt;
</span><span class="token prefix inserted">+</span><span class="token line">          &lt;p&gt;&amp;yen;{{ cart.effectiveListPrice }}&lt;/p&gt;
</span></span><span class="token unchanged"><span class="token prefix unchanged"> </span><span class="token line">       &lt;/div&gt;
</span><span class="token prefix unchanged"> </span><span class="token line">       &lt;XtxButton type=&quot;plain&quot;&gt;å»è´­ç‰©è½¦ç»“ç®—&lt;/XtxButton&gt;
</span><span class="token prefix unchanged"> </span><span class="token line">     &lt;/div&gt;
</span><span class="token prefix unchanged"> </span><span class="token line">   &lt;/div&gt;
</span><span class="token prefix unchanged"> </span><span class="token line"> &lt;/div&gt;
</span></span><span class="token deleted-arrow deleted"><span class="token prefix deleted">&lt;</span><span class="token line">/template&gt;
</span></span></code></pre></div><h3 id="_4-åˆ é™¤åŠŸèƒ½å®ç°"><a href="#_4-åˆ é™¤åŠŸèƒ½å®ç°" class="header-anchor">#</a> 4. åˆ é™¤åŠŸèƒ½å®ç°</h3> <blockquote><p>æœ¬èŠ‚ç›®æ ‡:  å®ç°å¤´éƒ¨è´­ç‰©è½¦ä¸­çš„åˆ—è¡¨åˆ é™¤åŠŸèƒ½</p></blockquote> <p><img src="/vuepress-starter/assets/img/04.d54c275a.png" alt=""></p> <h4 id="æ¥å£-åˆ é™¤-æ¸…ç©ºè´­ç‰©è½¦å•†å“"><a href="#æ¥å£-åˆ é™¤-æ¸…ç©ºè´­ç‰©è½¦å•†å“" class="header-anchor">#</a> æ¥å£ï¼šåˆ é™¤/æ¸…ç©ºè´­ç‰©è½¦å•†å“</h4> <p><strong>åŸºæœ¬ä¿¡æ¯</strong></p> <p><strong>Pathï¼š</strong> /member/cart</p> <p><strong>Methodï¼š</strong> DELETE</p> <p><strong>è¯·æ±‚å‚æ•°</strong></p> <p><strong>Body</strong></p> <table><thead><tr><th>åç§°</th> <th>ç±»å‹</th> <th>æ˜¯å¦å¿…é¡»</th> <th>é»˜è®¤å€¼</th> <th>å¤‡æ³¨</th> <th>å…¶ä»–ä¿¡æ¯</th></tr></thead> <tbody><tr><td>ids</td> <td>string []</td> <td>å¿…é¡»</td> <td></td> <td>SKUID é›†åˆ</td> <td>item ç±»å‹: string</td></tr></tbody></table> <p><strong>å®ç°æ­¥éª¤</strong></p> <ol><li>ç¼–å†™ actions è¿›è¡Œåˆ é™¤æ“ä½œ</li> <li>åœ¨å¤´éƒ¨è´­ç‰©è½¦è¿›è¡Œ action è°ƒç”¨</li> <li>åˆ é™¤è¯·æ±‚å‘é€åï¼Œä¸»åŠ¨è·å–è´­ç‰©è½¦æœ€æ–°åˆ—è¡¨</li> <li>ä¼˜åŒ–ï¼šè´­ç‰©è½¦æ²¡æœ‰æ•°æ®çš„æ—¶å€™ï¼Œä¸éœ€è¦æ¸²æŸ“åˆ—è¡¨</li></ol> <p><strong>ä»£ç è½åœ°</strong></p> <p>1ï¼‰ Pinia çš„actionsä»£ç </p> <p><code>src/store/modules/cart.js</code></p> <div class="language-js extra-class"><pre class="language-js"><code>
  <span class="token literal-property property">actions</span><span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token comment">// åˆ é™¤è´­ç‰©è½¦å•†å“</span>
    <span class="token keyword">async</span> <span class="token function">deleteCart</span><span class="token punctuation">(</span><span class="token parameter"><span class="token literal-property property">ids</span><span class="token operator">:</span> string<span class="token punctuation">[</span><span class="token punctuation">]</span></span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token comment">// å‘é€è¯·æ±‚è®©åç«¯åˆ é™¤å•†å“</span>
      <span class="token keyword">await</span> <span class="token function">http</span><span class="token punctuation">(</span><span class="token string">&quot;DELETE&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;/member/cart&quot;</span><span class="token punctuation">,</span> <span class="token punctuation">{</span><span class="token literal-property property">ids</span><span class="token operator">:</span> ids<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
      <span class="token comment">// ğŸ¯ä¸»åŠ¨è·å–æœ€æ–°è´­ç‰©è½¦åˆ—è¡¨</span>
      <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">getCartList</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
      <span class="token comment">// æç¤º</span>
      <span class="token function">message</span><span class="token punctuation">(</span><span class="token punctuation">{</span> <span class="token literal-property property">type</span><span class="token operator">:</span> <span class="token string">'success'</span><span class="token punctuation">,</span> <span class="token literal-property property">text</span><span class="token operator">:</span> <span class="token string">'åˆ é™¤æˆåŠŸ'</span> <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
</code></pre></div><p>3ï¼‰å°ä¼˜åŒ–</p> <blockquote><p>è´­ç‰©è½¦æ²¡æœ‰æ•°æ®çš„æ—¶å€™ï¼Œä¸æ˜¾ç¤ºç§»å…¥é¼ æ ‡æ•ˆæœ</p></blockquote> <div class="language-html extra-class"><pre class="language-html"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>layer<span class="token punctuation">&quot;</span></span> <span class="token attr-name">v-if</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>cart.effectiveList.length &gt; 0<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
</code></pre></div><h2 id="åˆ—è¡¨è´­ç‰©è½¦å®ç°-å·²ç™»å½•"><a href="#åˆ—è¡¨è´­ç‰©è½¦å®ç°-å·²ç™»å½•" class="header-anchor">#</a> åˆ—è¡¨è´­ç‰©è½¦å®ç°-å·²ç™»å½•</h2> <h3 id="_1-è·¯ç”±å’Œç»„ä»¶"><a href="#_1-è·¯ç”±å’Œç»„ä»¶" class="header-anchor">#</a> 1. è·¯ç”±å’Œç»„ä»¶</h3> <blockquote><p>æœ¬èŠ‚ç›®æ ‡ï¼šå®Œæˆè´­ç‰©è½¦ç»„ä»¶åŸºç¡€å¸ƒå±€å’Œè·¯ç”±é…ç½®ä¸è·³è½¬é“¾æ¥ã€‚</p></blockquote> <p><img src="/vuepress-starter/assets/img/05.881acefe.png" alt=""></p> <p>1ï¼‰æ–°å»ºè´­ç‰©è½¦é¡µé¢ç»„ä»¶</p> <p><code>src/views/Cart/index.vue</code></p> <div class="language-vue extra-class"><pre class="language-vue"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span> <span class="token attr-name">setup</span> <span class="token attr-name">lang</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>ts<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token script"><span class="token language-javascript">
<span class="token comment">//</span>
</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">&gt;</span></span>

<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>template</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>xtx-cart-page<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>container<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>XtxBread</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>XtxBreadItem</span> <span class="token attr-name">to</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>/<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>é¦–é¡µ<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>XtxBreadItem</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>XtxBreadItem</span><span class="token punctuation">&gt;</span></span>è´­ç‰©è½¦<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>XtxBreadItem</span><span class="token punctuation">&gt;</span></span>
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>XtxBread</span><span class="token punctuation">&gt;</span></span>
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>cart<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>table</span><span class="token punctuation">&gt;</span></span>
          <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>thead</span><span class="token punctuation">&gt;</span></span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>tr</span><span class="token punctuation">&gt;</span></span>
              <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>th</span> <span class="token attr-name">width</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>120<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>XtxCheckBox</span><span class="token punctuation">&gt;</span></span>å…¨é€‰<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>XtxCheckBox</span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>th</span><span class="token punctuation">&gt;</span></span>
              <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>th</span> <span class="token attr-name">width</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>400<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>å•†å“ä¿¡æ¯<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>th</span><span class="token punctuation">&gt;</span></span>
              <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>th</span> <span class="token attr-name">width</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>220<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>å•ä»·<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>th</span><span class="token punctuation">&gt;</span></span>
              <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>th</span> <span class="token attr-name">width</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>180<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>æ•°é‡<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>th</span><span class="token punctuation">&gt;</span></span>
              <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>th</span> <span class="token attr-name">width</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>180<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>å°è®¡<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>th</span><span class="token punctuation">&gt;</span></span>
              <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>th</span> <span class="token attr-name">width</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>140<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>æ“ä½œ<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>th</span><span class="token punctuation">&gt;</span></span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>tr</span><span class="token punctuation">&gt;</span></span>
          <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>thead</span><span class="token punctuation">&gt;</span></span>
          <span class="token comment">&lt;!-- æœ‰æ•ˆå•†å“ --&gt;</span>
          <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>tbody</span><span class="token punctuation">&gt;</span></span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>tr</span> <span class="token attr-name">v-for</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>i in 3<span class="token punctuation">&quot;</span></span> <span class="token attr-name">:key</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>i<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
              <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>td</span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>XtxCheckBox</span> <span class="token attr-name">:model-value</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>true<span class="token punctuation">&quot;</span></span> <span class="token punctuation">/&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>td</span><span class="token punctuation">&gt;</span></span>
              <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>td</span><span class="token punctuation">&gt;</span></span>
                <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>goods<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
                  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>RouterLink</span> <span class="token attr-name">to</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>/<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
                    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>img</span>
                      <span class="token attr-name">src</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>https://yanxuan-item.nosdn.127.net/13ab302f8f2c954d873f03be36f8fb03.png<span class="token punctuation">&quot;</span></span>
                      <span class="token attr-name">alt</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span><span class="token punctuation">&quot;</span></span>
                    <span class="token punctuation">/&gt;</span></span>
                  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>RouterLink</span><span class="token punctuation">&gt;</span></span>
                  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span><span class="token punctuation">&gt;</span></span>
                    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>p</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>name ellipsis<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
                      å’Œæ‰‹è¶³å¹²è£‚è¯´æ‹œæ‹œ ingramsæ‰‹è¶³çš²è£‚ä¿®å¤éœœ
                    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>p</span><span class="token punctuation">&gt;</span></span>
                    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>p</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>attr<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>å•†å“è§„æ ¼<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>p</span><span class="token punctuation">&gt;</span></span>
                  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
                <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
              <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>td</span><span class="token punctuation">&gt;</span></span>
              <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>td</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>tc<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
                <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>p</span><span class="token punctuation">&gt;</span></span><span class="token entity named-entity" title="&amp;yen;">&amp;yen;</span>200.00<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>p</span><span class="token punctuation">&gt;</span></span>
              <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>td</span><span class="token punctuation">&gt;</span></span>
              <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>td</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>tc<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
                <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>XtxCount</span> <span class="token attr-name">:model-value</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>1<span class="token punctuation">&quot;</span></span> <span class="token punctuation">/&gt;</span></span>
              <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>td</span><span class="token punctuation">&gt;</span></span>
              <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>td</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>tc<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>p</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>f16 red<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token entity named-entity" title="&amp;yen;">&amp;yen;</span>200.00<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>p</span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>td</span><span class="token punctuation">&gt;</span></span>
              <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>td</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>tc<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
                <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>p</span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>a</span> <span class="token attr-name">href</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>javascript:;<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>ç§»å…¥æ”¶è—å¤¹<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>a</span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>p</span><span class="token punctuation">&gt;</span></span>
                <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>p</span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>a</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>green<span class="token punctuation">&quot;</span></span> <span class="token attr-name">href</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>javascript:;<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>åˆ é™¤<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>a</span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>p</span><span class="token punctuation">&gt;</span></span>
                <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>p</span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>a</span> <span class="token attr-name">href</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>javascript:;<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>æ‰¾ç›¸ä¼¼<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>a</span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>p</span><span class="token punctuation">&gt;</span></span>
              <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>td</span><span class="token punctuation">&gt;</span></span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>tr</span><span class="token punctuation">&gt;</span></span>
          <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>tbody</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>table</span><span class="token punctuation">&gt;</span></span>
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
      <span class="token comment">&lt;!-- æ“ä½œæ  --&gt;</span>
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>action<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>batch<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>total<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
          å…± 7 ä»¶æœ‰æ•ˆå•†å“ï¼Œå·²é€‰æ‹© 2 ä»¶ï¼Œå•†å“åˆè®¡ï¼š
          <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>span</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>red<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>Â¥400<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>span</span><span class="token punctuation">&gt;</span></span>
          <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>XtxButton</span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>primary<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>ä¸‹å•ç»“ç®—<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>XtxButton</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>template</span><span class="token punctuation">&gt;</span></span>

<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>style</span> <span class="token attr-name">scoped</span> <span class="token attr-name">lang</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>less<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token style"><span class="token language-css">
<span class="token selector">.tc</span> <span class="token punctuation">{</span>
  <span class="token property">text-align</span><span class="token punctuation">:</span> center<span class="token punctuation">;</span>
  <span class="token selector">.xtx-numbox</span> <span class="token punctuation">{</span>
    <span class="token property">margin</span><span class="token punctuation">:</span> 0 auto<span class="token punctuation">;</span>
    <span class="token property">width</span><span class="token punctuation">:</span> 120px<span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
<span class="token selector">.red</span> <span class="token punctuation">{</span>
  <span class="token property">color</span><span class="token punctuation">:</span> <span class="token atrule"><span class="token rule">@priceColor</span><span class="token punctuation">;</span></span>
<span class="token punctuation">}</span>
<span class="token selector">.green</span> <span class="token punctuation">{</span>
  <span class="token property">color</span><span class="token punctuation">:</span> <span class="token atrule"><span class="token rule">@xtxColor</span><span class="token punctuation">;</span></span>
<span class="token punctuation">}</span>
<span class="token selector">.f16</span> <span class="token punctuation">{</span>
  <span class="token property">font-size</span><span class="token punctuation">:</span> 16px<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token selector">.goods</span> <span class="token punctuation">{</span>
  <span class="token property">display</span><span class="token punctuation">:</span> flex<span class="token punctuation">;</span>
  <span class="token property">align-items</span><span class="token punctuation">:</span> center<span class="token punctuation">;</span>
  <span class="token selector">img</span> <span class="token punctuation">{</span>
    <span class="token property">width</span><span class="token punctuation">:</span> 100px<span class="token punctuation">;</span>
    <span class="token property">height</span><span class="token punctuation">:</span> 100px<span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
  <span class="token selector">&gt; div</span> <span class="token punctuation">{</span>
    <span class="token property">width</span><span class="token punctuation">:</span> 280px<span class="token punctuation">;</span>
    <span class="token property">font-size</span><span class="token punctuation">:</span> 16px<span class="token punctuation">;</span>
    <span class="token property">padding-left</span><span class="token punctuation">:</span> 10px<span class="token punctuation">;</span>
    <span class="token selector">.attr</span> <span class="token punctuation">{</span>
      <span class="token property">font-size</span><span class="token punctuation">:</span> 14px<span class="token punctuation">;</span>
      <span class="token property">color</span><span class="token punctuation">:</span> #999<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
<span class="token selector">.action</span> <span class="token punctuation">{</span>
  <span class="token property">display</span><span class="token punctuation">:</span> flex<span class="token punctuation">;</span>
  <span class="token property">background</span><span class="token punctuation">:</span> #fff<span class="token punctuation">;</span>
  <span class="token property">margin-top</span><span class="token punctuation">:</span> 20px<span class="token punctuation">;</span>
  <span class="token property">height</span><span class="token punctuation">:</span> 80px<span class="token punctuation">;</span>
  <span class="token property">align-items</span><span class="token punctuation">:</span> center<span class="token punctuation">;</span>
  <span class="token property">font-size</span><span class="token punctuation">:</span> 16px<span class="token punctuation">;</span>
  <span class="token property">justify-content</span><span class="token punctuation">:</span> space-between<span class="token punctuation">;</span>
  <span class="token property">padding</span><span class="token punctuation">:</span> 0 30px<span class="token punctuation">;</span>
  <span class="token selector">.xtx-checkbox</span> <span class="token punctuation">{</span>
    <span class="token property">color</span><span class="token punctuation">:</span> #999<span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
  <span class="token selector">.batch</span> <span class="token punctuation">{</span>
    <span class="token selector">a</span> <span class="token punctuation">{</span>
      <span class="token property">margin-left</span><span class="token punctuation">:</span> 20px<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span>
  <span class="token selector">.red</span> <span class="token punctuation">{</span>
    <span class="token property">font-size</span><span class="token punctuation">:</span> 18px<span class="token punctuation">;</span>
    <span class="token property">margin-right</span><span class="token punctuation">:</span> 20px<span class="token punctuation">;</span>
    <span class="token property">font-weight</span><span class="token punctuation">:</span> bold<span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
<span class="token selector">.tit</span> <span class="token punctuation">{</span>
  <span class="token property">color</span><span class="token punctuation">:</span> #666<span class="token punctuation">;</span>
  <span class="token property">font-size</span><span class="token punctuation">:</span> 16px<span class="token punctuation">;</span>
  <span class="token property">font-weight</span><span class="token punctuation">:</span> normal<span class="token punctuation">;</span>
  <span class="token property">line-height</span><span class="token punctuation">:</span> 50px<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token selector">.xtx-cart-page</span> <span class="token punctuation">{</span>
  <span class="token selector">.cart</span> <span class="token punctuation">{</span>
    <span class="token property">background</span><span class="token punctuation">:</span> #fff<span class="token punctuation">;</span>
    <span class="token property">color</span><span class="token punctuation">:</span> #666<span class="token punctuation">;</span>
    <span class="token selector">table</span> <span class="token punctuation">{</span>
      <span class="token property">border-spacing</span><span class="token punctuation">:</span> 0<span class="token punctuation">;</span>
      <span class="token property">border-collapse</span><span class="token punctuation">:</span> collapse<span class="token punctuation">;</span>
      <span class="token property">line-height</span><span class="token punctuation">:</span> 24px<span class="token punctuation">;</span>
      <span class="token selector">th,
      td</span> <span class="token punctuation">{</span>
        <span class="token property">padding</span><span class="token punctuation">:</span> 10px<span class="token punctuation">;</span>
        <span class="token property">border-bottom</span><span class="token punctuation">:</span> 1px solid #f5f5f5<span class="token punctuation">;</span>
        <span class="token selector">&amp;:first-child</span> <span class="token punctuation">{</span>
          <span class="token property">text-align</span><span class="token punctuation">:</span> left<span class="token punctuation">;</span>
          <span class="token property">padding-left</span><span class="token punctuation">:</span> 30px<span class="token punctuation">;</span>
          <span class="token property">color</span><span class="token punctuation">:</span> #999<span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
      <span class="token punctuation">}</span>
      <span class="token selector">th</span> <span class="token punctuation">{</span>
        <span class="token property">font-size</span><span class="token punctuation">:</span> 16px<span class="token punctuation">;</span>
        <span class="token property">font-weight</span><span class="token punctuation">:</span> normal<span class="token punctuation">;</span>
        <span class="token property">line-height</span><span class="token punctuation">:</span> 50px<span class="token punctuation">;</span>
      <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>style</span><span class="token punctuation">&gt;</span></span>

</code></pre></div><p>2ï¼‰å‡†å¤‡è·¯ç”±</p> <div class="language-jsx extra-class"><pre class="language-jsx"><code><span class="token punctuation">{</span>
  <span class="token literal-property property">path</span><span class="token operator">:</span> <span class="token string">'/cart'</span><span class="token punctuation">,</span>
  <span class="token function-variable function">component</span><span class="token operator">:</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token keyword">import</span><span class="token punctuation">(</span><span class="token string">'@/views/Cart/index.vue'</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span>
</code></pre></div><ol start="3"><li>ç‚¹å‡»è´­ç‰©è½¦æŒ‰é’®è·³è½¬</li></ol> <div class="language-jsx extra-class"><pre class="language-jsx"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span><span class="token class-name">RouterLink</span></span> <span class="token attr-name">to</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>/cart<span class="token punctuation">&quot;</span></span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>curr<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token plain-text">
  </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>i</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>iconfont icon-cart<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>i</span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>em</span><span class="token punctuation">&gt;</span></span><span class="token punctuation">{</span><span class="token punctuation">{</span> cart<span class="token punctuation">.</span>effectiveListCount <span class="token punctuation">}</span><span class="token punctuation">}</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>em</span><span class="token punctuation">&gt;</span></span><span class="token plain-text">
</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span><span class="token class-name">RouterLink</span></span><span class="token punctuation">&gt;</span></span>


<span class="token operator">&lt;</span>XtxButton @click<span class="token operator">=</span><span class="token string">&quot;$router.push('/cart')&quot;</span> type<span class="token operator">=</span><span class="token string">&quot;plain&quot;</span><span class="token operator">&gt;</span>å»è´­ç‰©è½¦ç»“ç®—<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span><span class="token class-name">XtxButton</span></span><span class="token punctuation">&gt;</span></span>
</code></pre></div><h3 id="_2-åˆ—è¡¨æ•°æ®å±•ç¤º"><a href="#_2-åˆ—è¡¨æ•°æ®å±•ç¤º" class="header-anchor">#</a> 2.åˆ—è¡¨æ•°æ®å±•ç¤º</h3> <blockquote><p><code>æœ¬èŠ‚ç›®æ ‡:</code>  å®ç°è´­ç‰©è½¦å•†å“åˆ—è¡¨å±•ç¤ºåŠŸèƒ½</p></blockquote> <ol><li>æ¸²æŸ“æœ‰æ•ˆå•†å“</li></ol> <ul><li>æœ€æ–°ä»·æ ¼æ˜¯ <code>nowPrice</code></li> <li>è®¡æ•°å™¨éœ€è¦è®¾ç½®æœ€å¤§åº“å­˜å€¼ <code>max</code></li> <li>ä»·æ ¼å°è®¡éœ€è¦ <code>toFixed(2)</code> ä¿ç•™ä¸¤ä½å°æ•°</li></ul> <div class="language-html extra-class"><pre class="language-html"><code><span class="token comment">&lt;!-- æœ‰æ•ˆå•†å“ --&gt;</span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>tbody</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>tr</span> <span class="token attr-name">v-for</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>goods in cart.effectiveList<span class="token punctuation">&quot;</span></span> <span class="token attr-name">:key</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>goods.skuId<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>td</span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>XtxCheckBox</span> <span class="token attr-name">:model-value</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>goods.selected<span class="token punctuation">&quot;</span></span> <span class="token punctuation">/&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>td</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>td</span><span class="token punctuation">&gt;</span></span>
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>goods<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>RouterLink</span> <span class="token attr-name">:to</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>`/product/${goods.id}`<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
          <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>img</span> <span class="token attr-name">:src</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>goods.picture<span class="token punctuation">&quot;</span></span> <span class="token attr-name">:alt</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>goods.name<span class="token punctuation">&quot;</span></span> <span class="token punctuation">/&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>RouterLink</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span><span class="token punctuation">&gt;</span></span>
          <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>p</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>name ellipsis<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>{{ goods.name }}<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>p</span><span class="token punctuation">&gt;</span></span>
          <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>p</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>attr<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>{{ goods.attrsText }}<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>p</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>td</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>td</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>tc<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>p</span><span class="token punctuation">&gt;</span></span><span class="token entity named-entity" title="&amp;yen;">&amp;yen;</span>{{ goods.nowPrice }}<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>p</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>td</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>td</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>tc<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>XtxCount</span> <span class="token attr-name">:model-value</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>goods.count<span class="token punctuation">&quot;</span></span> <span class="token attr-name">:max</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>goods.stock<span class="token punctuation">&quot;</span></span> <span class="token punctuation">/&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>td</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>td</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>tc<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>p</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>f16 red<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
        <span class="token entity named-entity" title="&amp;yen;">&amp;yen;</span>{{ (Number(goods.nowPrice) * goods.count).toFixed(2) }}
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>p</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>td</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>td</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>tc<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>p</span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>a</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>green<span class="token punctuation">&quot;</span></span> <span class="token attr-name">href</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>javascript:;<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>åˆ é™¤<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>a</span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>p</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>td</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>tr</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>tbody</span><span class="token punctuation">&gt;</span></span>
</code></pre></div><h3 id="_3-åˆ é™¤æ“ä½œå®ç°"><a href="#_3-åˆ é™¤æ“ä½œå®ç°" class="header-anchor">#</a> 3. åˆ é™¤æ“ä½œå®ç°</h3> <blockquote><p><code>æœ¬èŠ‚ç›®æ ‡:</code>  å®ç°å•†å“åˆ é™¤åŠŸèƒ½</p></blockquote> <p><strong>æ€è·¯åˆ†æ</strong></p> <ol><li>ç‚¹å‡»åˆ é™¤æŒ‰é’®è®°å½•å½“å‰ç‚¹å‡»çš„å•†å“ <code>skuId</code></li> <li>è°ƒç”¨ action å‡½æ•°å®ç°åˆ é™¤å³å¯ã€‚</li></ol> <p><strong>ä»£ç è½åœ°</strong></p> <blockquote><p>åˆ é™¤æŒ‰é’®ç»‘å®šäº‹ä»¶è§¦å‘åˆ é™¤actionå‡½æ•°</p></blockquote> <div class="language-jsx extra-class"><pre class="language-jsx"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>td</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>tc<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token plain-text">
  </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>p</span><span class="token punctuation">&gt;</span></span><span class="token plain-text">&lt;a @click=&quot;cart.deleteCart([goods.skuId])&quot; class=&quot;green&quot; href=&quot;javascript:;&quot;&gt;åˆ é™¤</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>a</span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>p</span><span class="token punctuation">&gt;</span></span><span class="token plain-text">
</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>td</span><span class="token punctuation">&gt;</span></span>
</code></pre></div><p>åˆ é™¤å…‰è´­ç‰©è½¦ä¹‹åä½¿ç”¨å…ƒç´ å ä½</p> <div class="language-html extra-class"><pre class="language-html"><code><span class="token comment">&lt;!-- åˆ é™¤å…‰è´­ç‰©è½¦ä¹‹åä½¿ç”¨å…ƒç´ å ä½ --&gt;</span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>tr</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>td</span> <span class="token attr-name">colspan</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>6<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>cart-none<span class="token punctuation">&quot;</span></span> <span class="token special-attr"><span class="token attr-name">style</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span><span class="token value css language-css"><span class="token property">text-align</span><span class="token punctuation">:</span> center</span><span class="token punctuation">&quot;</span></span></span><span class="token punctuation">&gt;</span></span>
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>img</span> <span class="token attr-name">src</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>@/assets/images/none.png<span class="token punctuation">&quot;</span></span> <span class="token attr-name">alt</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span><span class="token punctuation">&quot;</span></span> <span class="token punctuation">/&gt;</span></span>
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>p</span><span class="token punctuation">&gt;</span></span>è´­ç‰©è½¦å†…æš‚æ—¶æ²¡æœ‰å•†å“<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>p</span><span class="token punctuation">&gt;</span></span>
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>btn<span class="token punctuation">&quot;</span></span> <span class="token special-attr"><span class="token attr-name">style</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span><span class="token value css language-css"><span class="token property">margin</span><span class="token punctuation">:</span> 20px</span><span class="token punctuation">&quot;</span></span></span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>XtxButton</span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>primary<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
          ç»§ç»­é€›é€›
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>XtxButton</span><span class="token punctuation">&gt;</span></span>
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>td</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>tr</span><span class="token punctuation">&gt;</span></span>
</code></pre></div><h3 id="_4-å•é€‰æ“ä½œå®ç°ğŸš¨"><a href="#_4-å•é€‰æ“ä½œå®ç°ğŸš¨" class="header-anchor">#</a> 4. å•é€‰æ“ä½œå®ç°ğŸš¨</h3> <blockquote><p><code>æœ¬èŠ‚ç›®æ ‡:</code>  å®ç°çš„å•†å“å•é€‰åŠŸèƒ½</p> <p>ä»å•é€‰å¼€å§‹ï¼Œæˆ‘ä»¬è¿›å…¥åˆ°ä¸€ä¸ª <code>Pinia</code>  + è¡¨å•æ•°æ®çš„äº¤äº’åŠŸèƒ½å®ç°ï¼Œè¿™é‡Œé¢æœ‰äº›å°å‘ï¼Œæˆ‘ä»¬å…ˆæ¥çœ‹ä¸€ä¸‹</p></blockquote> <p><img src="/vuepress-starter/assets/img/06.5a14f7c8.png" alt=""></p> <p><strong>æ€è·¯åˆ†æ</strong></p> <ol><li>é€šè¿‡åˆ‡æ¢é€‰æ‹©æ¡†ç»„ä»¶è·å¾—å½“å‰çš„æœ€æ–°çŠ¶æ€</li> <li>è·å–ç‚¹å‡»å•é€‰æ¡†çš„å•†å“ <code>skuId</code></li> <li>è·å–ç‚¹å‡»å•é€‰æ¡†çš„<code>selected</code>çš„æœ€æ–°çŠ¶æ€</li></ol> <h4 id="æ¥å£-ä¿®æ”¹è´­ç‰©è½¦å•†å“"><a href="#æ¥å£-ä¿®æ”¹è´­ç‰©è½¦å•†å“" class="header-anchor">#</a> æ¥å£ï¼šä¿®æ”¹è´­ç‰©è½¦å•†å“</h4> <p><strong>Pathï¼š</strong> /member/cart/:id</p> <p><strong>Methodï¼š</strong> PUT</p> <p><strong>è¯·æ±‚å‚æ•°</strong></p> <p><strong>è·¯å¾„å‚æ•°</strong></p> <table><thead><tr><th>å‚æ•°åç§°</th> <th>ç¤ºä¾‹</th> <th>å¤‡æ³¨</th></tr></thead> <tbody><tr><td>id</td> <td></td> <td>SKUID</td></tr></tbody></table> <p><strong>Body</strong></p> <table><thead><tr><th>åç§°</th> <th>ç±»å‹</th> <th>æ˜¯å¦å¿…é¡»</th> <th>é»˜è®¤å€¼</th> <th>å¤‡æ³¨</th> <th>å…¶ä»–ä¿¡æ¯</th></tr></thead> <tbody><tr><td>selected</td> <td>boolean</td> <td>éå¿…é¡»</td> <td></td> <td>æ˜¯å¦é€‰ä¸­</td> <td></td></tr> <tr><td>count</td> <td>integer</td> <td>éå¿…é¡»</td> <td></td> <td>æ•°é‡</td> <td></td></tr></tbody></table> <p><strong>ä»£ç è½åœ°</strong></p> <p>1ï¼‰å®šä¹‰ <code>Pinia</code> ä¸­æ“ä½œ selected çš„ action å‡½æ•°</p> <div class="language-ts extra-class"><pre class="language-ts"><code>
<span class="token keyword">const</span> useCartStore <span class="token operator">=</span> <span class="token function">defineStore</span><span class="token punctuation">(</span><span class="token string">'cart'</span><span class="token punctuation">,</span> <span class="token punctuation">{</span>
  <span class="token comment">// æ–¹æ³•</span>
  actions<span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token comment">// ä¿®æ”¹è´­ç‰©è½¦å•†å“(æ˜¯å¦é€‰ä¸­,å•†å“æ•°é‡)</span>
    <span class="token keyword">async</span> <span class="token function">updateCart</span><span class="token punctuation">(</span> skuId<span class="token operator">:</span> <span class="token builtin">string</span><span class="token punctuation">,</span>data<span class="token operator">:</span> <span class="token punctuation">{</span> selected<span class="token operator">?</span><span class="token operator">:</span> <span class="token builtin">boolean</span><span class="token punctuation">;</span> count<span class="token operator">?</span><span class="token operator">:</span> <span class="token builtin">number</span> <span class="token punctuation">}</span> <span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token comment">// å·²ç™»å½•ï¼Œè°ƒç”¨æ¥å£</span>
      <span class="token keyword">const</span> res <span class="token operator">=</span> <span class="token keyword">await</span> <span class="token function">http</span><span class="token punctuation">(</span><span class="token string">'PUT'</span><span class="token punctuation">,</span> <span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">/member/cart/</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>skuId<span class="token interpolation-punctuation punctuation">}</span></span><span class="token template-punctuation string">`</span></span><span class="token punctuation">,</span> data<span class="token punctuation">)</span><span class="token punctuation">;</span>
      <span class="token comment">// ä¸»åŠ¨è·å–æœ€æ–°åˆ—è¡¨</span>
      <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">getCartList</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

</code></pre></div><p>2ï¼‰è·å–åˆ°å½“å‰é€‰æ‹©æ¡†çš„æœ€æ–°çŠ¶æ€</p> <div class="language-tsx extra-class"><pre class="language-tsx"><code><span class="token operator">&lt;</span>XtxCheckBox
  <span class="token operator">:</span>model<span class="token operator">-</span>value<span class="token operator">=</span><span class="token string">&quot;item.selected&quot;</span>
  <span class="token decorator"><span class="token at operator">@</span><span class="token function">update</span></span><span class="token operator">:</span>model<span class="token operator">-</span>value<span class="token operator">=</span><span class="token string">&quot;cart.updateCart(item.skuId, { selected: $event })&quot;</span>
<span class="token operator">/</span><span class="token operator">&gt;</span>
</code></pre></div><h3 id="_5-ä¿®æ”¹æ•°é‡å®ç°"><a href="#_5-ä¿®æ”¹æ•°é‡å®ç°" class="header-anchor">#</a> 5. ä¿®æ”¹æ•°é‡å®ç°</h3> <blockquote><p><code>æœ¬èŠ‚ç›®æ ‡:</code>  å®ç°å•†å“æ•°é‡ä¿®æ”¹åŠŸèƒ½</p></blockquote> <p><strong>æ€è·¯åˆ†æ</strong></p> <ol><li>å‚è€ƒå•é€‰æ“ä½œå®ç°ã€‚</li> <li>ğŸ””æ¸©é¦¨æé†’ï¼šXtxUI ç»„ä»¶åº“ä¸ºäº†æ–¹ä¾¿å¼€å‘è€…ä½¿ç”¨ï¼Œæä¾›ä¸¤ç§è‡ªå®šä¹‰äº‹ä»¶è·å–å€¼ @update:model-value å’Œ @change åŠŸèƒ½æ˜¯ç­‰ä»·çš„ã€‚</li></ol> <p><strong>ä»£ç è½åœ°</strong></p> <p>2ï¼‰ç»‘å®šäº‹ä»¶è§¦å‘ action</p> <div class="language-tsx extra-class"><pre class="language-tsx"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>td</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>tc<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token plain-text">
  &lt;XtxCount
    :max=&quot;goods.stock&quot;
    :model-value=&quot;goods.count&quot;
    @change=&quot;cart.updateCart(item.skuId, { count: $event })&quot;
  /&gt;
</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>td</span><span class="token punctuation">&gt;</span></span>
</code></pre></div><h3 id="_6-å…¨é€‰åˆ‡æ¢å®ç°ğŸš¨ğŸš¨"><a href="#_6-å…¨é€‰åˆ‡æ¢å®ç°ğŸš¨ğŸš¨" class="header-anchor">#</a> 6. å…¨é€‰åˆ‡æ¢å®ç°ğŸš¨ğŸš¨</h3> <blockquote><p><code>æœ¬èŠ‚ç›®æ ‡:</code>  å®ç°å•†å“å…¨é€‰åˆ‡æ¢åŠŸèƒ½ã€‚</p></blockquote> <h4 id="æ¥å£-è´­ç‰©è½¦å…¨é€‰-å–æ¶ˆå…¨é€‰"><a href="#æ¥å£-è´­ç‰©è½¦å…¨é€‰-å–æ¶ˆå…¨é€‰" class="header-anchor">#</a> æ¥å£ï¼šè´­ç‰©è½¦å…¨é€‰/å–æ¶ˆå…¨é€‰</h4> <p><strong>Pathï¼š</strong> /member/cart/selected</p> <p><strong>Methodï¼š</strong> PUT</p> <p><strong>æ¥å£æè¿°ï¼š</strong></p> <p>idså‚æ•°å¦‚æœä¸ä¼ ï¼Œè¡¨ç¤ºç”¨æˆ·è®¿é—®çš„æ˜¯å…¨é€‰å’Œå–æ¶ˆå…¨é€‰æ“ä½œï¼Œåç«¯æ ¹æ® selected ç¡®å®šç”¨æˆ·æ˜¯å…¨é€‰å’Œå–æ¶ˆå…¨é€‰</p> <p><strong>è¯·æ±‚å‚æ•°</strong></p> <p><strong>Body</strong></p> <table><thead><tr><th>åç§°</th> <th>ç±»å‹</th> <th>æ˜¯å¦å¿…é¡»</th> <th>é»˜è®¤å€¼</th> <th>å¤‡æ³¨</th> <th>å…¶ä»–ä¿¡æ¯</th></tr></thead> <tbody><tr><td>selected</td> <td>boolean</td> <td>å¿…é¡»</td> <td></td> <td>æ˜¯å¦é€‰ä¸­</td> <td></td></tr> <tr><td>ids</td> <td>string []</td> <td>éå¿…é¡»</td> <td></td> <td>skuIdé›†åˆ</td> <td>item ç±»å‹: string</td></tr> <tr><td>â”œâ”€</td> <td></td> <td>éå¿…é¡»</td> <td></td> <td>skuId</td> <td></td></tr></tbody></table> <p><strong>æ€è·¯åˆ†æ</strong></p> <ol><li>é€šè¿‡ <code>getters</code> è®¡ç®—å‡ºé€‰ä¸­çŠ¶æ€ ï¼ˆæ³¨æ„ï¼š <code>Pinia</code> çš„ <code>getters</code> æ²¡æœ‰ <code>set</code> ï¼‰</li> <li>å°è£…è°ƒç”¨ä¿®æ”¹å…¨é€‰æ¥å£çš„ <code>actions</code> ã€‚</li> <li>å®ç°å…¨é€‰æ•ˆæœã€‚ğŸš¨ğŸš¨
<ol><li>æ–¹æ¡ˆ1ï¼š<code>:model-value</code> å’Œ <code>@update:model-value</code> ç»„åˆã€‚</li> <li>æ–¹æ¡ˆ2ï¼š <code>v-model</code> å’Œ <code>computed</code> ç»„åˆã€‚</li></ol></li></ol> <p><strong>ä»£ç è½åœ°</strong></p> <p>1ï¼‰åœ¨ <code>src\store\modules\cart.ts</code> ä¸­å°è£… <code>actions</code>  å’Œ <code>getters</code> ã€‚</p> <div class="language-jsx extra-class"><pre class="language-jsx"><code><span class="token keyword">const</span> useCartStore <span class="token operator">=</span> <span class="token function">defineStore</span><span class="token punctuation">(</span><span class="token string">&quot;cart&quot;</span><span class="token punctuation">,</span> <span class="token punctuation">{</span>
  <span class="token comment">// è®¡ç®—</span>
  <span class="token literal-property property">getters</span><span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token operator">...</span>
    <span class="token comment">// è®¡ç®—å…¨é€‰çŠ¶æ€</span>
    <span class="token function">isAllSelected</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">:</span> boolean <span class="token punctuation">{</span>
      <span class="token keyword">return</span> <span class="token punctuation">(</span>
        <span class="token keyword">this</span><span class="token punctuation">.</span>effectiveList<span class="token punctuation">.</span>length <span class="token operator">&gt;</span> <span class="token number">0</span> <span class="token operator">&amp;&amp;</span>
        <span class="token keyword">this</span><span class="token punctuation">.</span>effectiveList<span class="token punctuation">.</span><span class="token function">every</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">v</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> v<span class="token punctuation">.</span>selected<span class="token punctuation">)</span>
      <span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token comment">// æ–¹æ³•</span>
  <span class="token literal-property property">actions</span><span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token operator">...</span>
    <span class="token comment">// è´­ç‰©è½¦å…¨é€‰/å–æ¶ˆå…¨é€‰</span>
    <span class="token keyword">async</span> <span class="token function">updateCartAllSelected</span><span class="token punctuation">(</span><span class="token parameter"><span class="token literal-property property">data</span><span class="token operator">:</span> <span class="token punctuation">{</span> <span class="token literal-property property">selected</span><span class="token operator">:</span> boolean<span class="token punctuation">;</span> ids<span class="token operator">?</span><span class="token operator">:</span> string<span class="token punctuation">[</span><span class="token punctuation">]</span> <span class="token punctuation">}</span></span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token comment">// å·²ç™»å½•ï¼Œè°ƒç”¨æ¥å£</span>
      <span class="token keyword">const</span> res <span class="token operator">=</span> <span class="token keyword">await</span> <span class="token function">http</span><span class="token punctuation">(</span><span class="token string">&quot;PUT&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;/member/cart/selected&quot;</span><span class="token punctuation">,</span> data<span class="token punctuation">)</span><span class="token punctuation">;</span>
      <span class="token comment">// è·å–è´­ç‰©è½¦åˆ—è¡¨</span>
      <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">getCartList</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

</code></pre></div><p>2ï¼‰é¡µé¢ä¸­è°ƒç”¨</p> <div class="language-vue extra-class"><pre class="language-vue"><code>  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>XtxCheckBox</span>
    <span class="token attr-name">:model-value</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>cart.isAllSelected<span class="token punctuation">&quot;</span></span>
    <span class="token attr-name"><span class="token namespace">@update:</span>model-value</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>cart.updateCartAllSelected({ selected: $event })<span class="token punctuation">&quot;</span></span>
  <span class="token punctuation">&gt;</span></span>
    å…¨é€‰
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>XtxCheckBox</span><span class="token punctuation">&gt;</span></span>
</code></pre></div><h3 id="_7-æ“ä½œæ æ•°æ®è®¡ç®—å’Œæ¸²æŸ“"><a href="#_7-æ“ä½œæ æ•°æ®è®¡ç®—å’Œæ¸²æŸ“" class="header-anchor">#</a> 7. æ“ä½œæ æ•°æ®è®¡ç®—å’Œæ¸²æŸ“</h3> <p><img src="/vuepress-starter/assets/img/image-20210819135539000.6b482a4d.png" alt="image-20210819135539000"></p> <div class="language-jsx extra-class"><pre class="language-jsx"><code><span class="token comment">// å·²é€‰æ‹©çš„åˆ—è¡¨</span>
<span class="token function">selectedList</span> <span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">:</span>CartList <span class="token punctuation">{</span>
  <span class="token keyword">return</span> <span class="token keyword">this</span><span class="token punctuation">.</span>effectiveList<span class="token punctuation">.</span><span class="token function">filter</span><span class="token punctuation">(</span><span class="token parameter">item</span> <span class="token operator">=&gt;</span> item<span class="token punctuation">.</span>selected<span class="token punctuation">)</span>
<span class="token punctuation">}</span><span class="token punctuation">,</span>
<span class="token comment">// å·²é€‰æ‹©çš„å•†å“æ€»æ•°</span>
<span class="token function">selectedListCount</span> <span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">:</span>number <span class="token punctuation">{</span>
  <span class="token keyword">return</span> <span class="token keyword">this</span><span class="token punctuation">.</span>selectedList<span class="token punctuation">.</span><span class="token function">reduce</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">sum<span class="token punctuation">,</span> item</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> sum <span class="token operator">+</span> item<span class="token punctuation">.</span>count<span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span><span class="token punctuation">,</span>
<span class="token comment">// å·²é€‰æ‹©çš„åˆ—è¡¨æ€»ä»·</span>
<span class="token function">selectedListPrice</span> <span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">:</span>string <span class="token punctuation">{</span>
  <span class="token keyword">return</span> <span class="token keyword">this</span><span class="token punctuation">.</span>selectedList<span class="token punctuation">.</span><span class="token function">reduce</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">sum<span class="token punctuation">,</span> item</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> sum <span class="token operator">+</span> item<span class="token punctuation">.</span>count <span class="token operator">*</span> <span class="token function">Number</span><span class="token punctuation">(</span>item<span class="token punctuation">.</span>nowPrice<span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">toFixed</span><span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span>
</code></pre></div><div class="language-vue extra-class"><pre class="language-vue"><code><span class="token comment">&lt;!-- æ“ä½œæ  --&gt;</span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>action<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>total<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
    å…± {{ cart.effectiveListCount }} ä»¶æœ‰æ•ˆå•†å“ï¼Œå·²é€‰æ‹© {{ cart.selectedListCount }} ä»¶ï¼Œæœ‰æ•ˆå•†å“åˆè®¡ï¼š
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>span</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>red<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>Â¥{{ cart.selectedListPrice }}<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>span</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>XtxButton</span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>primary<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>ä¸‹å•ç»“ç®—<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>XtxButton</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
</code></pre></div><h2 id="ã€è½¬æŠ˜ç‚¹ã€‘é€€å‡ºç™»å½•"><a href="#ã€è½¬æŠ˜ç‚¹ã€‘é€€å‡ºç™»å½•" class="header-anchor">#</a> ã€è½¬æŠ˜ç‚¹ã€‘é€€å‡ºç™»å½•</h2> <blockquote><p><code>æœ¬èŠ‚ç›®æ ‡:</code>  é€€å‡ºç™»å½•ï¼Œä¸ºå®ç°æœªç™»å½•ç‰ˆè´­ç‰©è½¦åšå‡†å¤‡ã€‚</p></blockquote> <p><img src="/vuepress-starter/assets/img/01.2d4e74b2.png" alt=""></p> <h3 id="é—®é¢˜æ€è€ƒ"><a href="#é—®é¢˜æ€è€ƒ" class="header-anchor">#</a> é—®é¢˜æ€è€ƒ</h3> <ul><li><p>æ€è€ƒ1ï¼šé€€å‡ºç™»å½•åï¼Œç›´æ¥è°ƒç”¨è´­ç‰©è½¦ç³»åˆ—æ¥å£ä¼šæŠ¥é”™ï¼Œæ€ä¹ˆåŠï¼Ÿ</p> <ul><li>è°ƒç”¨æ¥å£å‰ï¼Œåˆ¤æ–­æ˜¯å¦å·²ç™»å½•ã€‚</li></ul></li> <li><p>æ€è€ƒ2ï¼šé€€å‡ºç™»å½•åï¼Œä¸ºä»€ä¹ˆè¿˜èƒ½çœ‹åˆ°è´­ç‰©è½¦æ•°æ®ï¼Œè¦æ€ä¹ˆå¤„ç†ï¼Ÿ</p> <ul><li>æ•°æ®å­˜å‚¨åˆ° <code>Pinia</code> ä¸­ï¼Œé€€å‡ºç™»å½•åè¦æ¸…ç©ºè´­ç‰©è½¦åˆ—è¡¨ã€‚</li></ul></li> <li><p>æ€è€ƒ3ï¼šå¦‚ä½•åˆ¤æ–­ç”¨æˆ·ç™»å½•è¿˜æ˜¯æœªç™»å½•ï¼Œè¦å¦‚ä½•å¤„ç†ï¼Ÿï¼Ÿ</p> <ul><li>è·å– <code>member</code> æ¨¡å—çš„ <code>æ˜¯å¦æœ‰ token</code> å³å¯ã€‚</li></ul></li> <li><p>æ€è€ƒ4ï¼šæ ¹æ®ä¸Šé¢éœ€æ±‚ï¼Œè¯¥å¦‚ä½•è®¾è®¡ç¨‹åºï¼Ÿ</p> <ul><li>ç»™æ“ä½œè´­ç‰©è½¦æ•°æ®çš„ <code>actions</code> å†…éƒ¨éƒ½æ·»åŠ åˆ¤æ–­ï¼Œå·²ç™»å½•è°ƒç”¨æ¥å£ï¼Œæœªç™»å½•æœ¬åœ°æ“ä½œã€‚</li></ul></li></ul> <h3 id="é€€å‡ºç™»å½•æ¸…ç©ºè´­ç‰©è½¦"><a href="#é€€å‡ºç™»å½•æ¸…ç©ºè´­ç‰©è½¦" class="header-anchor">#</a> é€€å‡ºç™»å½•æ¸…ç©ºè´­ç‰©è½¦</h3> <p>è´­ç‰©è½¦æ¨¡å—ï¼š<code>src\store\modules\cart.ts</code></p> <div class="language-diff extra-class"><pre class="language-diff"><code>const useCartStore = defineStore(&quot;cart&quot;, {
<span class="token unchanged"><span class="token prefix unchanged"> </span><span class="token line"> // æ–¹æ³•
</span><span class="token prefix unchanged"> </span><span class="token line"> actions: {
</span><span class="token prefix unchanged"> </span><span class="token line">   ...
</span></span><span class="token inserted-sign inserted"><span class="token prefix inserted">+</span><span class="token line">    // æ¸…ç©ºè´­ç‰©è½¦
</span><span class="token prefix inserted">+</span><span class="token line">    clearCart() {
</span><span class="token prefix inserted">+</span><span class="token line">      // é€€å‡ºç™»å½•éœ€æ¸…ç©ºè´­ç‰©è½¦
</span><span class="token prefix inserted">+</span><span class="token line">      this.list = [];
</span><span class="token prefix inserted">+</span><span class="token line">    },
</span></span><span class="token unchanged"><span class="token prefix unchanged"> </span><span class="token line"> },
</span></span>});
</code></pre></div><p>ä¼šå‘˜ä¸­å¿ƒæ¨¡å—ï¼š<code>src\store\modules\member.ts</code></p> <div class="language-diff extra-class"><pre class="language-diff"><code>const useMemberStore = defineStore(&quot;member&quot;,{
<span class="token unchanged"><span class="token prefix unchanged"> </span><span class="token line"> ...
</span><span class="token prefix unchanged"> </span><span class="token line"> actions: {
</span><span class="token prefix unchanged"> </span><span class="token line">   ...
</span><span class="token prefix unchanged"> </span><span class="token line">   // é€€å‡ºç™»å½•
</span><span class="token prefix unchanged"> </span><span class="token line">   async logout() {
</span><span class="token prefix unchanged"> </span><span class="token line">     this.profile = {} as Profile;
</span><span class="token prefix unchanged"> </span><span class="token line">     clearStorageProfile();
</span><span class="token prefix unchanged"> </span><span class="token line">     router.push(&quot;/login&quot;);
</span></span><span class="token inserted-sign inserted"><span class="token prefix inserted">+</span><span class="token line">      // é€€å‡ºç™»å½•-ä¸»åŠ¨æ¸…ç©ºè´­ç‰©è½¦æ•°æ®
</span><span class="token prefix inserted">+</span><span class="token line">      const { cart } = useStore();
</span><span class="token prefix inserted">+</span><span class="token line">      cart.clearCart();
</span></span><span class="token unchanged"><span class="token prefix unchanged"> </span><span class="token line">   },
</span><span class="token prefix unchanged"> </span><span class="token line"> },
</span></span>});
</code></pre></div><h3 id="å·²ç™»å½•å’Œæœªç™»å½•ç¨‹åºè®¾è®¡"><a href="#å·²ç™»å½•å’Œæœªç™»å½•ç¨‹åºè®¾è®¡" class="header-anchor">#</a> å·²ç™»å½•å’Œæœªç™»å½•ç¨‹åºè®¾è®¡</h3> <div class="language-diff extra-class"><pre class="language-diff"><code>const useCartStore = defineStore(&quot;cart&quot;,{
<span class="token unchanged"><span class="token prefix unchanged"> </span><span class="token line"> ...
</span><span class="token prefix unchanged"> </span><span class="token line"> // è®¡ç®—
</span><span class="token prefix unchanged"> </span><span class="token line"> getters: {
</span></span><span class="token inserted-sign inserted"><span class="token prefix inserted">+</span><span class="token line">    // ğŸ”‘ç™»å½•çŠ¶æ€ï¼Œè´­ç‰©è½¦æ¨¡å—ç¼“å­˜ member.isLogin ç™»å½•çŠ¶æ€
</span><span class="token prefix inserted">+</span><span class="token line">    isMemberLogin(): boolean {
</span><span class="token prefix inserted">+</span><span class="token line">      const { member } = useStore();
</span><span class="token prefix inserted">+</span><span class="token line">      return member.isLogin;
</span><span class="token prefix inserted">+</span><span class="token line">    },
</span></span><span class="token unchanged"><span class="token prefix unchanged"> </span><span class="token line">   ...
</span><span class="token prefix unchanged"> </span><span class="token line"> },
</span><span class="token prefix unchanged"> </span><span class="token line"> // æ–¹æ³•
</span><span class="token prefix unchanged"> </span><span class="token line"> actions: {
</span><span class="token prefix unchanged"> </span><span class="token line">   // åŠ å…¥è´­ç‰©è½¦
</span><span class="token prefix unchanged"> </span><span class="token line">   async addCart(data: CartItem) {
</span></span><span class="token inserted-sign inserted"><span class="token prefix inserted">+</span><span class="token line">      // ğŸš¨åˆ¤æ–­ç™»å½•çŠ¶æ€
</span><span class="token prefix inserted">+</span><span class="token line">      if (this.isMemberLogin) {
</span><span class="token prefix inserted">+</span><span class="token line">        // 1ï¸âƒ£å·²ç™»å½•æƒ…å†µ - è°ƒç”¨æ¥å£
</span></span><span class="token unchanged"><span class="token prefix unchanged"> </span><span class="token line">         const { skuId, count } = data;
</span><span class="token prefix unchanged"> </span><span class="token line">         const res = await http(&quot;POST&quot;, &quot;/member/cart&quot;, { skuId, count });
</span><span class="token prefix unchanged"> </span><span class="token line">         this.getCartList();
</span></span><span class="token inserted-sign inserted"><span class="token prefix inserted">+</span><span class="token line">      } else {
</span><span class="token prefix inserted">+</span><span class="token line">        // 2ï¸âƒ£æœªç™»å½•æƒ…å†µ - æ“ä½œæœ¬åœ°æ•°æ®(ç›¸å½“äºé«˜çº§ç‰ˆtodos)
</span><span class="token prefix inserted">+</span><span class="token line">      }
</span></span><span class="token unchanged"><span class="token prefix unchanged"> </span><span class="token line">     message({ type: &quot;success&quot;, text: &quot;æ·»åŠ æˆåŠŸ~&quot; });
</span><span class="token prefix unchanged"> </span><span class="token line">   }
</span><span class="token prefix unchanged"> </span><span class="token line">   ...
</span><span class="token prefix unchanged"> </span><span class="token line"> },
</span></span>});

export default useCartStore;

</code></pre></div><p>é€€å‡ºç™»å½•è¿˜éœ€è¦æ¸…ç©º <code>Pinia</code> ä¸­çš„è´­ç‰©è½¦æ•°æ®ã€‚</p> <h2 id="è´­ç‰©è½¦æ“ä½œ-æœªç™»å½•"><a href="#è´­ç‰©è½¦æ“ä½œ-æœªç™»å½•" class="header-anchor">#</a> è´­ç‰©è½¦æ“ä½œ-æœªç™»å½•</h2> <h3 id="_1-åŠ å…¥è´­ç‰©è½¦ğŸš¨ğŸš¨ğŸš¨"><a href="#_1-åŠ å…¥è´­ç‰©è½¦ğŸš¨ğŸš¨ğŸš¨" class="header-anchor">#</a> 1. åŠ å…¥è´­ç‰©è½¦ğŸš¨ğŸš¨ğŸš¨</h3> <blockquote><p><code>æœ¬èŠ‚ç›®æ ‡:</code>  å®ç°åŠ å…¥è´­ç‰©è½¦ä¸šåŠ¡ã€‚</p></blockquote> <p><strong>å®ç°æ­¥éª¤</strong></p> <ol><li>ç‚¹å‡»åŠ å…¥è´­ç‰©è½¦çš„æ—¶å€™ï¼Œä»å•†å“è¯¦æƒ…ä¸­æ”¶é›†è´­ç‰©è½¦å•†å“å±•ç¤ºæ‰€éœ€æ•°æ®ã€‚ï¼ˆğŸš¨ğŸš¨å­—æ®µå¾ˆå¤šï¼Œæ“ä½œå°å¿ƒï¼‰</li> <li>actions ä¸­å®Œæˆæ·»åŠ æ“ä½œï¼ˆæœªç™»å½•ï¼‰ã€‚</li></ol> <p><strong>è½åœ°ä»£ç </strong></p> <p>å•†å“è¯¦æƒ…é¡µï¼š<code>src\views\Goods\index.vue</code></p> <div class="language-vue extra-class"><pre class="language-vue"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span> <span class="token attr-name">setup</span> <span class="token attr-name">lang</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>ts<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token script"><span class="token language-javascript">
<span class="token operator">...</span>
<span class="token comment">// é€‰ä¸­çš„å•†å“è§„æ ¼æ–‡æœ¬</span>
<span class="token keyword">const</span> attrsText <span class="token operator">=</span> <span class="token function">ref</span><span class="token punctuation">(</span><span class="token string">&quot;&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">// åŠ å…¥è´­ç‰©æŒ‰é’®ç‚¹å‡»</span>
<span class="token keyword">const</span> <span class="token function-variable function">addCart</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
  <span class="token comment">// æ²¡æœ‰ skuIdï¼Œæé†’ç”¨æˆ·å¹¶é€€å‡ºå‡½æ•°</span>
  <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token operator">!</span>skuId<span class="token punctuation">.</span>value<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> <span class="token function">message</span><span class="token punctuation">(</span><span class="token punctuation">{</span> <span class="token literal-property property">type</span><span class="token operator">:</span> <span class="token string">&quot;warn&quot;</span><span class="token punctuation">,</span> <span class="token literal-property property">text</span><span class="token operator">:</span> <span class="token string">&quot;è¯·é€‰æ‹©å®Œæ•´å•†å“è§„åˆ™~&quot;</span> <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>

  <span class="token comment">// ğŸš¨ğŸš¨ é«˜çº§ç‰ˆtodosè€Œå·²ï¼Œä½†æ˜¯æ•°æ®æ”¶é›†å­—æ®µåå¾ˆå¤šå‘ï¼Œå°å¿ƒæ“ä½œï¼Œå®¹æ˜“å‡ºé”™</span>
  <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token operator">!</span>goods<span class="token punctuation">.</span>value<span class="token punctuation">)</span> <span class="token keyword">return</span><span class="token punctuation">;</span>
  <span class="token keyword">const</span> cartItem <span class="token operator">=</span> <span class="token punctuation">{</span>
    <span class="token comment">// ç¬¬ä¸€éƒ¨åˆ†ï¼šå•†å“è¯¦æƒ…ä¸­æœ‰çš„</span>
    <span class="token literal-property property">id</span><span class="token operator">:</span> goods<span class="token punctuation">.</span>value<span class="token punctuation">.</span>id<span class="token punctuation">,</span> <span class="token comment">// å•†å“id</span>
    <span class="token literal-property property">name</span><span class="token operator">:</span> goods<span class="token punctuation">.</span>value<span class="token punctuation">.</span>name<span class="token punctuation">,</span> <span class="token comment">// å•†å“åç§°</span>
    <span class="token literal-property property">picture</span><span class="token operator">:</span> goods<span class="token punctuation">.</span>value<span class="token punctuation">.</span>mainPictures<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token comment">// å›¾ç‰‡</span>
    <span class="token literal-property property">price</span><span class="token operator">:</span> goods<span class="token punctuation">.</span>value<span class="token punctuation">.</span>oldPrice<span class="token punctuation">,</span> <span class="token comment">// æ—§ä»·æ ¼</span>
    <span class="token literal-property property">nowPrice</span><span class="token operator">:</span> goods<span class="token punctuation">.</span>value<span class="token punctuation">.</span>price<span class="token punctuation">,</span> <span class="token comment">// æ–°ä»·æ ¼</span>
    <span class="token literal-property property">stock</span><span class="token operator">:</span> goods<span class="token punctuation">.</span>value<span class="token punctuation">.</span>inventory<span class="token punctuation">,</span> <span class="token comment">// åº“å­˜</span>
    <span class="token comment">// ç¬¬äºŒéƒ¨åˆ†ï¼šå•†å“è¯¦æƒ…ä¸­æ²¡æœ‰çš„ï¼Œè‡ªå·±é€šè¿‡å“åº”å¼æ•°æ®æ”¶é›†</span>
    <span class="token literal-property property">count</span><span class="token operator">:</span> count<span class="token punctuation">.</span>value<span class="token punctuation">,</span> <span class="token comment">// å•†å“æ•°é‡</span>
    <span class="token literal-property property">skuId</span><span class="token operator">:</span> skuId<span class="token punctuation">.</span>value<span class="token punctuation">,</span> <span class="token comment">// skuId</span>
    <span class="token literal-property property">attrsText</span><span class="token operator">:</span> attrsText<span class="token punctuation">.</span>value<span class="token punctuation">,</span> <span class="token comment">// å•†å“è§„æ ¼æ–‡æœ¬</span>
    <span class="token comment">// ç¬¬ä¸‰éƒ¨åˆ†ï¼šè®¾ç½®é»˜è®¤å€¼å³å¯</span>
    <span class="token literal-property property">selected</span><span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span> <span class="token comment">// é»˜è®¤å•†å“é€‰ä¸­</span>
    <span class="token literal-property property">isEffective</span><span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span> <span class="token comment">// é»˜è®¤å•†å“æœ‰æ•ˆ</span>
  <span class="token punctuation">}</span> <span class="token keyword">as</span> CartItem<span class="token punctuation">;</span>  <span class="token comment">// ğŸ“Œ as æ–­è¨€é˜²æ­¢ç±»å‹æŠ¥é”™</span>
 
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'ğŸ“ŒcartItem æ•°æ®ç»ˆäºå‡†å¤‡å®Œæ¯•äº†'</span><span class="token punctuation">,</span> cartItem<span class="token punctuation">)</span><span class="token punctuation">;</span>

  <span class="token comment">// è°ƒç”¨åŠ å…¥è´­ç‰©è½¦æ¥å£</span>
  cart<span class="token punctuation">.</span><span class="token function">addCart</span><span class="token punctuation">(</span>cartItem<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">&gt;</span></span>
</code></pre></div><p>è´­ç‰©è½¦æ¨¡å—ï¼š<code>src/store/modules/cart.js</code></p> <div class="language-jsx extra-class"><pre class="language-jsx"><code><span class="token literal-property property">actions</span><span class="token operator">:</span> <span class="token punctuation">{</span>
  <span class="token comment">// åŠ å…¥è´­ç‰©è½¦</span>
  <span class="token keyword">async</span> <span class="token function">addCart</span><span class="token punctuation">(</span><span class="token parameter"><span class="token literal-property property">data</span><span class="token operator">:</span> CartItem</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token comment">// è§£æ„å‡ºæ¥å£æ‰€éœ€å‚æ•°</span>
    <span class="token keyword">const</span> <span class="token punctuation">{</span> skuId<span class="token punctuation">,</span> count <span class="token punctuation">}</span> <span class="token operator">=</span> data<span class="token punctuation">;</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>isMemberLogin<span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token comment">// å·²ç™»å½•æƒ…å†µ - è°ƒç”¨æ¥å£</span>
      <span class="token keyword">const</span> res <span class="token operator">=</span> <span class="token keyword">await</span> <span class="token function">http</span><span class="token punctuation">(</span><span class="token string">&quot;POST&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;/member/cart&quot;</span><span class="token punctuation">,</span> <span class="token punctuation">{</span> skuId<span class="token punctuation">,</span> count <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
      <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">getCartList</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>
      <span class="token comment">// æœªç™»å½•æƒ…å†µ - æ“ä½œæœ¬åœ°æ•°æ®(ç›¸å½“äºé«˜çº§ç‰ˆtodos)</span>
      <span class="token comment">// æ·»åŠ å•†å“åˆ†ä¸¤ç§æƒ…å†µï¼š</span>
      <span class="token keyword">const</span> cartItem <span class="token operator">=</span> <span class="token keyword">this</span><span class="token punctuation">.</span>list<span class="token punctuation">.</span><span class="token function">find</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">item</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> item<span class="token punctuation">.</span>skuId <span class="token operator">===</span> skuId<span class="token punctuation">)</span><span class="token punctuation">;</span>
      <span class="token keyword">if</span> <span class="token punctuation">(</span>cartItem<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token comment">// æƒ…å†µ1ï¼šå·²æ·»åŠ è¿‡çš„çš„å•†å“ï¼Œç´¯åŠ æ•°é‡å³å¯</span>
        cartItem<span class="token punctuation">.</span>count <span class="token operator">+=</span> count<span class="token punctuation">;</span>
      <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>
        <span class="token comment">// æƒ…å†µ2ï¼šæ–°æ·»åŠ çš„å•†å“ï¼Œå‰æ·»åŠ åˆ°æ•°ç»„ä¸­</span>
        <span class="token keyword">this</span><span class="token punctuation">.</span>list<span class="token punctuation">.</span><span class="token function">unshift</span><span class="token punctuation">(</span>data<span class="token punctuation">)</span><span class="token punctuation">;</span>
      <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
    <span class="token function">message</span><span class="token punctuation">(</span><span class="token punctuation">{</span> <span class="token literal-property property">type</span><span class="token operator">:</span> <span class="token string">&quot;success&quot;</span><span class="token punctuation">,</span> <span class="token literal-property property">text</span><span class="token operator">:</span> <span class="token string">&quot;æ·»åŠ æˆåŠŸ~&quot;</span> <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span>
</code></pre></div><h3 id="_2-åˆ é™¤è´­ç‰©è½¦"><a href="#_2-åˆ é™¤è´­ç‰©è½¦" class="header-anchor">#</a> 2. åˆ é™¤è´­ç‰©è½¦</h3> <blockquote><p><code>æœ¬èŠ‚ç›®æ ‡:</code>  å®ç°åˆ é™¤æ“ä½œã€‚</p></blockquote> <p><strong>å®ç°æ­¥éª¤</strong></p> <ul><li>actions ä¸­å®Œæˆåˆ é™¤æ“ä½œï¼ˆæœªç™»å½•ï¼‰ã€‚</li></ul> <p><strong>è½åœ°ä»£ç </strong></p> <p>å®Œå–„ä¸šåŠ¡ï¼š<code>src/store/modules/cart.js</code></p> <div class="language-diff extra-class"><pre class="language-diff"><code>actions: {    
<span class="token unchanged"><span class="token prefix unchanged"> </span><span class="token line">   // åˆ é™¤è´­ç‰©è½¦å•†å“
</span><span class="token prefix unchanged"> </span><span class="token line">   async deleteCart(data: { ids: string[] }) {
</span><span class="token prefix unchanged"> </span><span class="token line">     // æ˜¯å¦ç™»å½•ä¸¤ç§æƒ…å†µ
</span><span class="token prefix unchanged"> </span><span class="token line">     if (this.isMemberLogin) {
</span><span class="token prefix unchanged"> </span><span class="token line">       // å·²ç™»å½•ï¼Œè°ƒç”¨æ¥å£
</span><span class="token prefix unchanged"> </span><span class="token line">       const res = await http('DELETE', '/member/cart', data);
</span><span class="token prefix unchanged"> </span><span class="token line">       console.log('DELETE', '/member/cart', res.data.result);
</span><span class="token prefix unchanged"> </span><span class="token line">       // ä¸»åŠ¨è·å–æœ€æ–°åˆ—è¡¨
</span><span class="token prefix unchanged"> </span><span class="token line">       this.getCartList();
</span><span class="token prefix unchanged"> </span><span class="token line">       // æˆåŠŸæç¤º
</span><span class="token prefix unchanged"> </span><span class="token line">       message({ type: 'success', text: 'åˆ é™¤æˆåŠŸ' });
</span><span class="token prefix unchanged"> </span><span class="token line">     } else {
</span><span class="token prefix unchanged"> </span><span class="token line">       // æœªç™»å½•ï¼Œæ“ä½œæœ¬åœ°æ•°æ®(ç›¸å½“äºé«˜çº§ç‰ˆtodos)
</span></span><span class="token inserted-sign inserted"><span class="token prefix inserted">+</span><span class="token line">        this.list = this.list.filter((v) =&gt; !data.ids.includes(v.skuId));
</span></span><span class="token unchanged"><span class="token prefix unchanged"> </span><span class="token line">     }
</span><span class="token prefix unchanged"> </span><span class="token line">   },
</span></span>}
</code></pre></div><h3 id="_3-è´­ç‰©è½¦åˆ—è¡¨æŒä¹…åŒ–å­˜å‚¨"><a href="#_3-è´­ç‰©è½¦åˆ—è¡¨æŒä¹…åŒ–å­˜å‚¨" class="header-anchor">#</a> 3. è´­ç‰©è½¦åˆ—è¡¨æŒä¹…åŒ–å­˜å‚¨</h3> <blockquote><p><code>æœ¬èŠ‚ç›®æ ‡:</code>  å®ç° <code>Pinia</code> è´­ç‰©è½¦åˆ—è¡¨çš„æŒä¹…åŒ–å­˜å‚¨ã€‚</p></blockquote> <p><strong>å®ç°æ­¥éª¤</strong></p> <ul><li>å‰é¢æˆ‘ä»¬å·²ç»å®‰è£…äº† <code>Pinia</code> æŒä¹…åŒ–å­˜å‚¨æ’ä»¶ï¼Œåœ¨æ¨¡å—ä¸­å¼€å¯æ’ä»¶åŠŸèƒ½å³å¯ã€‚</li></ul> <p><strong>ä»£ç è½åœ°</strong></p> <p><code>src/store/modules/cart.js</code></p> <div class="language-diff extra-class"><pre class="language-diff"><code>const useCartStore = defineStore(&quot;cart&quot;, {
<span class="token inserted-sign inserted"><span class="token prefix inserted">+</span><span class="token line">  // ğŸ””è´­ç‰©è½¦å¼€å¯æŒä¹…åŒ–
</span><span class="token prefix inserted">+</span><span class="token line">  persist: true,
</span></span><span class="token unchanged"><span class="token prefix unchanged"> </span><span class="token line"> ...
</span></span>});
</code></pre></div><p>æ­¥éª¤éªŒè¯ï¼šå¼€å¯æŒä¹…åŒ–è®¾ç½®åï¼Œæ‰“å¼€æµè§ˆå™¨æœ¬åœ°å­˜å‚¨é¢æ¿æ£€æŸ¥æ˜¯å¦ç”Ÿæ•ˆã€‚</p> <h3 id="_4-é€‰ä¸­çŠ¶æ€åˆ‡æ¢-ä¿®æ”¹æ•°é‡"><a href="#_4-é€‰ä¸­çŠ¶æ€åˆ‡æ¢-ä¿®æ”¹æ•°é‡" class="header-anchor">#</a> 4. é€‰ä¸­çŠ¶æ€åˆ‡æ¢&amp;ä¿®æ”¹æ•°é‡</h3> <blockquote><p><code>æœ¬èŠ‚ç›®æ ‡:</code>  å®ç°å•†å“é€‰ä¸­çŠ¶æ€çš„åˆ‡æ¢å’Œä¿®æ”¹å•†å“æ•°é‡ã€‚</p></blockquote> <p><strong>å®ç°æ­¥éª¤</strong></p> <ul><li>actions ä¸­å®Œæˆä¿®æ”¹æ“ä½œï¼ˆæœªç™»å½•ï¼‰ã€‚</li> <li>æ³¨æ„ç‚¹ï¼šç”±äºä¿®æ”¹æ•°é‡å’Œä¿®æ”¹é€‰æ‹©çŠ¶æ€éƒ½æ˜¯åŒä¸€ä¸ª action å®Œæˆï¼Œæ‰€ä»¥æœ¬åœ°ä¿®æ”¹å‰éœ€è¦åˆ¤æ–­ã€‚</li></ul> <p><strong>ä»£ç è½åœ°</strong></p> <p>å®Œå–„ä¸šåŠ¡ï¼š<code>src/store/modules/cart.js</code></p> <div class="language-diff extra-class"><pre class="language-diff"><code>actions: { 
<span class="token unchanged"><span class="token prefix unchanged"> </span><span class="token line">   // ä¿®æ”¹è´­ç‰©è½¦å•†å“-ä¿®æ”¹é€‰ä¸­-ä¿®æ”¹æ•°é‡
</span><span class="token prefix unchanged"> </span><span class="token line">   async updateCart( skuId: string,data: { selected?: boolean; count?: number } ) {
</span><span class="token prefix unchanged"> </span><span class="token line">     if (this.isMemberLogin) {
</span><span class="token prefix unchanged"> </span><span class="token line">       // å·²ç™»å½•æƒ…å†µ - è°ƒç”¨æ¥å£
</span><span class="token prefix unchanged"> </span><span class="token line">       await http(&quot;PUT&quot;, `/member/cart/${skuId}`, data);
</span><span class="token prefix unchanged"> </span><span class="token line">       this.getCartList();
</span><span class="token prefix unchanged"> </span><span class="token line">     } else {
</span><span class="token prefix unchanged"> </span><span class="token line">       // æœªç™»å½•æƒ…å†µ - æ“ä½œæœ¬åœ°æ•°æ®(ç›¸å½“äºé«˜çº§ç‰ˆtodos)
</span></span><span class="token inserted-sign inserted"><span class="token prefix inserted">+</span><span class="token line">        // æ ¹æ® skuId æŸ¥æ‰¾å¾…ä¿®æ”¹çš„å•†å“é¡¹
</span><span class="token prefix inserted">+</span><span class="token line">        const cartItem = this.list.find((v) =&gt; v.skuId === skuId);
</span><span class="token prefix inserted">+</span><span class="token line">        // å¦‚æœèƒ½æŸ¥æ‰¾åˆ°
</span><span class="token prefix inserted">+</span><span class="token line">        if (cartItem) {
</span><span class="token prefix inserted">+</span><span class="token line">          // è§£æ„å‡ºéœ€è¦ä¿®æ”¹çš„å­—æ®µ
</span><span class="token prefix inserted">+</span><span class="token line">          const { selected, count } = data;
</span><span class="token prefix inserted">+</span><span class="token line">          // ç”±äºä¿®æ”¹æ•°é‡å’Œä¿®æ”¹é€‰æ‹©çŠ¶æ€éƒ½æ˜¯åŒä¸€ä¸ª action å®Œæˆï¼Œæ‰€ä»¥æœ¬åœ°ä¿®æ”¹å‰éœ€è¦åˆ¤æ–­
</span><span class="token prefix inserted">+</span><span class="token line">          if (count !== undefined) cartItem.count = count;
</span><span class="token prefix inserted">+</span><span class="token line">          if (selected !== undefined) cartItem.selected = selected;
</span><span class="token prefix inserted">+</span><span class="token line">        }
</span></span><span class="token unchanged"><span class="token prefix unchanged"> </span><span class="token line">     }
</span><span class="token prefix unchanged"> </span><span class="token line">   },
</span></span>}
</code></pre></div><h3 id="_5-å…¨é€‰åˆ‡æ¢-æœ¬åœ°"><a href="#_5-å…¨é€‰åˆ‡æ¢-æœ¬åœ°" class="header-anchor">#</a> 5. å…¨é€‰åˆ‡æ¢-æœ¬åœ°</h3> <blockquote><p><code>æœ¬èŠ‚ç›®æ ‡:</code>  å®ç°å•†å“é€‰ä¸­çŠ¶æ€çš„åˆ‡æ¢ã€‚</p></blockquote> <p><strong>å®ç°æ­¥éª¤</strong></p> <ul><li>actions ä¸­å®Œæˆå…¨é€‰åˆ‡æ¢æ“ä½œï¼ˆæœªç™»å½•ï¼‰ã€‚</li></ul> <p><strong>ä»£ç è½åœ°</strong></p> <p>å®Œå–„ä¸šåŠ¡ï¼š<code>src/store/modules/cart.js</code></p> <div class="language-diff extra-class"><pre class="language-diff"><code>actions: { 
<span class="token unchanged"><span class="token prefix unchanged"> </span><span class="token line">   // è´­ç‰©è½¦å…¨é€‰/å–æ¶ˆå…¨é€‰
</span><span class="token prefix unchanged"> </span><span class="token line">   async updateCartAllSelected(data: { selected: boolean; ids?: string[] }) {
</span><span class="token prefix unchanged"> </span><span class="token line">     if (this.isMemberLogin) {
</span><span class="token prefix unchanged"> </span><span class="token line">       // å·²ç™»å½•æƒ…å†µ - è°ƒç”¨æ¥å£
</span><span class="token prefix unchanged"> </span><span class="token line">       await http(&quot;PUT&quot;, &quot;/member/cart/selected&quot;, data);
</span><span class="token prefix unchanged"> </span><span class="token line">       this.getCartList();
</span><span class="token prefix unchanged"> </span><span class="token line">     } else {
</span><span class="token prefix unchanged"> </span><span class="token line">       // æœªç™»å½•æƒ…å†µ - æ“ä½œæœ¬åœ°æ•°æ®(ç›¸å½“äºé«˜çº§ç‰ˆtodos)
</span></span><span class="token inserted-sign inserted"><span class="token prefix inserted">+</span><span class="token line">        this.list.forEach((item) =&gt; {
</span><span class="token prefix inserted">+</span><span class="token line">          item.selected = data.selected;
</span><span class="token prefix inserted">+</span><span class="token line">        });
</span></span><span class="token unchanged"><span class="token prefix unchanged"> </span><span class="token line">     }
</span><span class="token prefix unchanged"> </span><span class="token line">   },
</span></span>}
</code></pre></div><h3 id="_6-æ›´æ–°æœ¬åœ°è´­ç‰©è½¦å•†å“å…³é”®ä¿¡æ¯ğŸš¨ğŸš¨"><a href="#_6-æ›´æ–°æœ¬åœ°è´­ç‰©è½¦å•†å“å…³é”®ä¿¡æ¯ğŸš¨ğŸš¨" class="header-anchor">#</a> 6. æ›´æ–°æœ¬åœ°è´­ç‰©è½¦å•†å“å…³é”®ä¿¡æ¯ğŸš¨ğŸš¨</h3> <blockquote><p><strong>æœ¬èŠ‚ç›®æ ‡ï¼š</strong> æœªç™»å½•æƒ…å†µä¸‹ï¼Œæ›´æ–°æœ¬åœ°è´­ç‰©è½¦å•†å“å…³é”®ä¿¡æ¯ã€‚</p> <p>åŸå› è§£é‡Šï¼šæœ¬åœ°å­˜å‚¨çš„åº“å­˜ä¿¡æ¯å’Œä»·æ ¼<strong>ä¸æ˜¯æœåŠ¡å™¨æœ€æ–°çš„</strong>ï¼Œæ‰€ä»¥éœ€<strong>è¦ä¸»åŠ¨æ›´æ–°</strong>æœ€æ–°å•†å“å…³é”®ä¿¡æ¯ã€‚</p> <p>å…³é”®ä¿¡æ¯ä¸»è¦åŒ…æ‹¬ï¼šå•†å“æœ€æ–°ä»·æ ¼ï¼Œå•†å“æœ€æ–°åº“å­˜ï¼Œå•†å“æ˜¯å¦è¿˜æœ‰æ•ˆã€‚</p></blockquote> <h4 id="æ¥å£-æŸ¥è¯¢å•†å“åº“å­˜ä»·æ ¼ä¿¡æ¯"><a href="#æ¥å£-æŸ¥è¯¢å•†å“åº“å­˜ä»·æ ¼ä¿¡æ¯" class="header-anchor">#</a> æ¥å£ï¼šæŸ¥è¯¢å•†å“åº“å­˜ä»·æ ¼ä¿¡æ¯</h4> <p><strong>Pathï¼š</strong> /goods/stock/:id</p> <p><strong>Methodï¼š</strong> GET</p> <p><strong>è¯·æ±‚å‚æ•°</strong></p> <p><strong>è·¯å¾„å‚æ•°</strong></p> <table><thead><tr><th>å‚æ•°åç§°</th> <th>ç¤ºä¾‹</th> <th>å¤‡æ³¨</th></tr></thead> <tbody><tr><td>id</td> <td>1352956998412406785</td> <td>SKU_ID</td></tr></tbody></table> <p><strong>å®ç°æ€è·¯</strong></p> <ol><li>è·å–è´­ç‰©è½¦åˆ—è¡¨çš„ action ä¸­ï¼Œ<strong>æœªç™»å½•æƒ…å†µ</strong> ä¸‹ä¸»åŠ¨è·å–å•†å“åº“å­˜ä»·æ ¼ã€‚</li> <li>è´­ç‰©è½¦çš„å•†å“åº“å­˜ï¼Œä»·æ ¼ï¼Œæ˜¯å¦æœ‰æ•ˆï¼Œæ›´æ–°æˆæœ€æ–°çš„ã€‚</li></ol> <p><strong>ä»£ç è½åœ°</strong></p> <p>å®Œå–„ä¸šåŠ¡ï¼š<code>src/store/modules/cart.js</code></p> <div class="language-diff extra-class"><pre class="language-diff"><code>actions: { 
<span class="token unchanged"><span class="token prefix unchanged"> </span><span class="token line">   // è·å–è´­ç‰©è½¦åˆ—è¡¨
</span><span class="token prefix unchanged"> </span><span class="token line">   async getCartList() {
</span><span class="token prefix unchanged"> </span><span class="token line">     if (this.isMemberLogin) {
</span><span class="token prefix unchanged"> </span><span class="token line">       // å·²ç™»å½•æƒ…å†µ - è°ƒç”¨æ¥å£
</span><span class="token prefix unchanged"> </span><span class="token line">       const res = await http&lt;CartList&gt;(&quot;GET&quot;, &quot;/member/cart&quot;);
</span><span class="token prefix unchanged"> </span><span class="token line">       this.list = res.data.result;
</span><span class="token prefix unchanged"> </span><span class="token line">     } else {
</span></span><span class="token inserted-sign inserted"><span class="token prefix inserted">+</span><span class="token line">        // ğŸš¨æœªç™»å½•æƒ…å†µï¼Œé¦–æ¬¡æ‰“å¼€æ—¶éœ€æŸ¥è¯¢è´­ç‰©è½¦åˆ—è¡¨å•†å“æœ€æ–°ä»·æ ¼ï¼Œåº“å­˜ï¼Œæ˜¯å¦æœ‰æ•ˆ
</span><span class="token prefix inserted">+</span><span class="token line">        this.list.forEach(async (item) =&gt; {
</span><span class="token prefix inserted">+</span><span class="token line">          // æ ¹æ® skuId è·å–æœ€æ–°å•†å“ä¿¡æ¯
</span><span class="token prefix inserted">+</span><span class="token line">          const res = await http&lt;CartItem&gt;(&quot;GET&quot;, `/goods/stock/${item.skuId}`);
</span><span class="token prefix inserted">+</span><span class="token line">          // ä¿å­˜æœ€æ–°å•†å“ä¿¡æ¯
</span><span class="token prefix inserted">+</span><span class="token line">          const newCartItemInfo = res.data.result;
</span><span class="token prefix inserted">+</span><span class="token line">          // æ›´æ–°å•†å“ç°ä»·
</span><span class="token prefix inserted">+</span><span class="token line">          item.nowPrice = newCartItemInfo.nowPrice;
</span><span class="token prefix inserted">+</span><span class="token line">          // æ›´æ–°å•†å“åº“å­˜
</span><span class="token prefix inserted">+</span><span class="token line">          item.stock = newCartItemInfo.stock;
</span><span class="token prefix inserted">+</span><span class="token line">          // æ›´æ–°å•†å“æ˜¯å¦æœ‰æ•ˆ
</span><span class="token prefix inserted">+</span><span class="token line">          item.isEffective = newCartItemInfo.isEffective;
</span><span class="token prefix inserted">+</span><span class="token line">        });
</span></span><span class="token unchanged"><span class="token prefix unchanged"> </span><span class="token line">     }
</span><span class="token prefix unchanged"> </span><span class="token line">   },
</span></span>}
</code></pre></div><h2 id="ä¸¤ä¸ªç‰ˆæœ¬è´­ç‰©è½¦åŒæ­¥"><a href="#ä¸¤ä¸ªç‰ˆæœ¬è´­ç‰©è½¦åŒæ­¥" class="header-anchor">#</a> ä¸¤ä¸ªç‰ˆæœ¬è´­ç‰©è½¦åŒæ­¥</h2> <h3 id="_1-ç™»å½•ååˆå¹¶è´­ç‰©è½¦ğŸš¨ğŸš¨"><a href="#_1-ç™»å½•ååˆå¹¶è´­ç‰©è½¦ğŸš¨ğŸš¨" class="header-anchor">#</a> 1. ç™»å½•ååˆå¹¶è´­ç‰©è½¦ğŸš¨ğŸš¨</h3> <p><code>æœ¬èŠ‚ç›®æ ‡:</code>  ç™»å½•åæŠŠæœ¬åœ°çš„è´­ç‰©è½¦æ•°æ®åˆå¹¶åˆ°åç«¯æœåŠ¡</p> <blockquote><p>æœ¬åœ°å·²ç»å­˜å¥½çš„æ‰€æœ‰è´­ç‰©è½¦åˆ—è¡¨æ•°æ®éƒ½éœ€è¦å’ŒæœåŠ¡å™¨åˆå¹¶ä¸€ä¸‹ã€‚</p></blockquote> <p><strong>å®ç°æ€è·¯</strong></p> <ol><li><p>ç¼–å†™å¹¶è°ƒç”¨  åˆå¹¶è´­ç‰©è½¦çš„ <code>action</code> å‡½æ•° ï¼ˆå°†å¯¹äºè´­ç‰©è½¦çš„å¤„ç†ï¼Œç»Ÿä¸€åˆ° <code>Pinia</code> ä¸­ï¼‰</p> <p>æ€è€ƒï¼šåœ¨å“ªè°ƒç”¨ åˆå¹¶è´­ç‰©è½¦çš„ <code>action</code> å‡½æ•°ï¼Ÿ</p> <p>ç­”ï¼šç™»å½•å®Œæˆåã€‚</p></li></ol> <h3 id="æ¥å£-åˆå¹¶è´­ç‰©è½¦"><a href="#æ¥å£-åˆå¹¶è´­ç‰©è½¦" class="header-anchor">#</a> æ¥å£ï¼šåˆå¹¶è´­ç‰©è½¦</h3> <p><strong>åŸºæœ¬ä¿¡æ¯</strong></p> <p><strong>Pathï¼š</strong> /member/cart/merge</p> <p><strong>Methodï¼š</strong> POST</p> <p>è¯·æ±‚å‚æ•°</p> <p><strong>Body</strong></p> <table><thead><tr><th>åç§°</th> <th>ç±»å‹</th> <th>æ˜¯å¦å¿…é¡»</th> <th>é»˜è®¤å€¼</th> <th>å¤‡æ³¨</th> <th>å…¶ä»–ä¿¡æ¯</th></tr></thead> <tbody><tr><td></td> <td>object []</td> <td>å¿…é¡»</td> <td></td> <td>è´­ç‰©è½¦skué›†åˆ</td> <td>item ç±»å‹: object</td></tr> <tr><td>â”œâ”€ skuId</td> <td>string</td> <td>å¿…é¡»</td> <td></td> <td>skuId</td> <td></td></tr> <tr><td>â”œâ”€ selected</td> <td>boolean</td> <td>å¿…é¡»</td> <td></td> <td>æ˜¯å¦é€‰ä¸­</td> <td></td></tr> <tr><td>â”œâ”€ count</td> <td>integer</td> <td>å¿…é¡»</td> <td></td> <td>æ•°é‡</td> <td></td></tr></tbody></table> <h3 id="ç™»å½•ååˆå¹¶è´­ç‰©è½¦"><a href="#ç™»å½•ååˆå¹¶è´­ç‰©è½¦" class="header-anchor">#</a> ç™»å½•ååˆå¹¶è´­ç‰©è½¦</h3> <p><strong>è½åœ°ä»£ç </strong></p> <p>1ï¼‰ç¼–å†™åˆå¹¶è´­ç‰©è½¦çš„ <code>actions</code> å‡½æ•°</p> <ul><li>æ˜ å°„æ¥å£æ‰€éœ€å‚æ•°</li> <li>è°ƒç”¨åˆå¹¶è´­ç‰©è½¦çš„æ¥å£</li> <li>ä¸»åŠ¨è·å–æœ€æ–°åˆ—è¡¨</li></ul> <p>è´­ç‰©è½¦æ¨¡å—ï¼š<code>src/store/modules/cart.js</code></p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token literal-property property">actions</span><span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token comment">// åˆå¹¶è´­ç‰©è½¦</span>
    <span class="token keyword">async</span> <span class="token function">mergeLocalCart</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token comment">// æ˜ å°„æ¥å£æ‰€éœ€å‚æ•°</span>
      <span class="token keyword">const</span> data <span class="token operator">=</span> <span class="token keyword">this</span><span class="token punctuation">.</span>list<span class="token punctuation">.</span><span class="token function">map</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter"><span class="token punctuation">{</span> skuId<span class="token punctuation">,</span> selected<span class="token punctuation">,</span> count <span class="token punctuation">}</span></span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">(</span><span class="token punctuation">{</span>
        skuId<span class="token punctuation">,</span>
        selected<span class="token punctuation">,</span>
        count<span class="token punctuation">,</span>
      <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
      <span class="token comment">// è°ƒç”¨åˆå¹¶è´­ç‰©è½¦çš„æ¥å£</span>
      <span class="token keyword">await</span> <span class="token function">http</span><span class="token punctuation">(</span><span class="token string">&quot;POST&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;/member/cart/merge&quot;</span><span class="token punctuation">,</span> data<span class="token punctuation">)</span><span class="token punctuation">;</span>
      <span class="token comment">// åˆå¹¶æˆåŠŸï¼Œé‡æ–°è·å–è´­ç‰©è½¦åˆ—è¡¨</span>
      <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">getCartList</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span>
</code></pre></div><p>2ï¼‰åœ¨ç™»å½•å®ŒæˆåŠŸåï¼Œè°ƒç”¨åˆå¹¶è´­ç‰©è½¦ <code>actions</code>  å‡½æ•°</p> <p>ç”¨æˆ·æ¨¡å—ï¼š<code>src\store\modules\member.ts</code></p> <div class="language-diff extra-class"><pre class="language-diff"><code>const useMemberStore = defineStore(&quot;member&quot;, {
<span class="token unchanged"><span class="token prefix unchanged"> </span><span class="token line"> ...
</span><span class="token prefix unchanged"> </span><span class="token line"> // æ–¹æ³•
</span><span class="token prefix unchanged"> </span><span class="token line"> actions: {
</span><span class="token prefix unchanged"> </span><span class="token line">   // ç™»å½•æˆåŠŸé€šç”¨ä¸šåŠ¡
</span><span class="token prefix unchanged"> </span><span class="token line">   loginSuccess(profile: Profile) {
</span><span class="token prefix unchanged"> </span><span class="token line">     // ç™»å½•æˆåŠŸåçš„ä¸šåŠ¡
</span><span class="token prefix unchanged"> </span><span class="token line">     // 1. æˆåŠŸæç¤º
</span><span class="token prefix unchanged"> </span><span class="token line">     message({ type: 'success', text: 'ç™»å½•æˆåŠŸ~' });
</span><span class="token prefix unchanged"> </span><span class="token line">     // 2. å­˜å‚¨æ•°æ®
</span><span class="token prefix unchanged"> </span><span class="token line">     this.profile = profile;
</span><span class="token prefix unchanged"> </span><span class="token line">     // è·å–ç›®æ ‡é¡µé¢ targetï¼Œå¦‚æœæ²¡æœ‰ç›®æ ‡é¡µï¼Œåˆ™è®¾ç½®é»˜è®¤å€¼ '/' å»é¦–é¡µ
</span><span class="token prefix unchanged"> </span><span class="token line">     const { target = '/' } = router.currentRoute.value.query;
</span><span class="token prefix unchanged"> </span><span class="token line">     // 3. è·³è½¬é¡µé¢
</span><span class="token prefix unchanged"> </span><span class="token line">     router.push(target as string);
</span></span><span class="token inserted-sign inserted"><span class="token prefix inserted">+</span><span class="token line">      // 4. åˆå¹¶è´­ç‰©è½¦
</span><span class="token prefix inserted">+</span><span class="token line">      const { cart } = useStore();
</span><span class="token prefix inserted">+</span><span class="token line">      cart.mergeLocalCart();
</span></span><span class="token unchanged"><span class="token prefix unchanged"> </span><span class="token line">   },
</span><span class="token prefix unchanged"> </span><span class="token line"> },
</span></span>});

</code></pre></div></div></section> <footer class="page-edit"><!----> <!----></footer> <div class="page-nav"><p class="inner"><span class="prev"><a href="/vuepress-starter/handbook/vueRabbitTs/05-ç™»å½•æ¨¡å—.html" class="prev">
          ç™»å½•æ¨¡å—
        </a></span> <span class="next"><a href="/vuepress-starter/handbook/vueRabbitTs/07-è®¢å•æ¨¡å—.html">
          è®¢å•æ¨¡å—
        </a></span></p></div> <div class="comments-wrapper"><!----></div></main></div> <!----></div> <ul class="sub-sidebar sub-sidebar-wrapper" style="width:12rem;" data-v-b57cc07c data-v-7dd95ae2><li class="level-2" data-v-b57cc07c><a href="/vuepress-starter/handbook/vueRabbitTs/06-%E8%B4%AD%E7%89%A9%E8%BD%A6%E6%A8%A1%E5%9D%97.html#è´­ç‰©è½¦åŠŸèƒ½åˆ†æ" class="sidebar-link reco-side-è´­ç‰©è½¦åŠŸèƒ½åˆ†æ" data-v-b57cc07c>è´­ç‰©è½¦åŠŸèƒ½åˆ†æ</a></li><li class="level-2" data-v-b57cc07c><a href="/vuepress-starter/handbook/vueRabbitTs/06-%E8%B4%AD%E7%89%A9%E8%BD%A6%E6%A8%A1%E5%9D%97.html#å‡†å¤‡è´­ç‰©è½¦-store" class="sidebar-link reco-side-å‡†å¤‡è´­ç‰©è½¦-store" data-v-b57cc07c>å‡†å¤‡è´­ç‰©è½¦ Store</a></li><li class="level-2" data-v-b57cc07c><a href="/vuepress-starter/handbook/vueRabbitTs/06-%E8%B4%AD%E7%89%A9%E8%BD%A6%E6%A8%A1%E5%9D%97.html#æ·»åŠ è´­ç‰©è½¦åŠŸèƒ½å®ç°-å·²ç™»å½•" class="sidebar-link reco-side-æ·»åŠ è´­ç‰©è½¦åŠŸèƒ½å®ç°-å·²ç™»å½•" data-v-b57cc07c>æ·»åŠ è´­ç‰©è½¦åŠŸèƒ½å®ç°-å·²ç™»å½•</a></li><li class="level-3" data-v-b57cc07c><a href="/vuepress-starter/handbook/vueRabbitTs/06-%E8%B4%AD%E7%89%A9%E8%BD%A6%E6%A8%A1%E5%9D%97.html#æ¥å£-åŠ å…¥è´­ç‰©è½¦" class="sidebar-link reco-side-æ¥å£-åŠ å…¥è´­ç‰©è½¦" data-v-b57cc07c>æ¥å£ï¼šåŠ å…¥è´­ç‰©è½¦</a></li><li class="level-3" data-v-b57cc07c><a href="/vuepress-starter/handbook/vueRabbitTs/06-%E8%B4%AD%E7%89%A9%E8%BD%A6%E6%A8%A1%E5%9D%97.html#ç‚¹å‡»æŒ‰é’®è°ƒç”¨æ¥å£" class="sidebar-link reco-side-ç‚¹å‡»æŒ‰é’®è°ƒç”¨æ¥å£" data-v-b57cc07c>ç‚¹å‡»æŒ‰é’®è°ƒç”¨æ¥å£</a></li><li class="level-2" data-v-b57cc07c><a href="/vuepress-starter/handbook/vueRabbitTs/06-%E8%B4%AD%E7%89%A9%E8%BD%A6%E6%A8%A1%E5%9D%97.html#å¤´éƒ¨è´­ç‰©è½¦å®ç°-å·²ç™»å½•" class="sidebar-link reco-side-å¤´éƒ¨è´­ç‰©è½¦å®ç°-å·²ç™»å½•" data-v-b57cc07c>å¤´éƒ¨è´­ç‰©è½¦å®ç°-å·²ç™»å½•</a></li><li class="level-3" data-v-b57cc07c><a href="/vuepress-starter/handbook/vueRabbitTs/06-%E8%B4%AD%E7%89%A9%E8%BD%A6%E6%A8%A1%E5%9D%97.html#_1-åŸºç¡€å¸ƒå±€" class="sidebar-link reco-side-_1-åŸºç¡€å¸ƒå±€" data-v-b57cc07c>1. åŸºç¡€å¸ƒå±€</a></li><li class="level-3" data-v-b57cc07c><a href="/vuepress-starter/handbook/vueRabbitTs/06-%E8%B4%AD%E7%89%A9%E8%BD%A6%E6%A8%A1%E5%9D%97.html#_2-å‡†å¤‡æ•°æ®" class="sidebar-link reco-side-_2-å‡†å¤‡æ•°æ®" data-v-b57cc07c>2. å‡†å¤‡æ•°æ®</a></li><li class="level-3" data-v-b57cc07c><a href="/vuepress-starter/handbook/vueRabbitTs/06-%E8%B4%AD%E7%89%A9%E8%BD%A6%E6%A8%A1%E5%9D%97.html#_3-åˆ—è¡¨æ¸²æŸ“ä¸è®¡ç®—" class="sidebar-link reco-side-_3-åˆ—è¡¨æ¸²æŸ“ä¸è®¡ç®—" data-v-b57cc07c>3. åˆ—è¡¨æ¸²æŸ“ä¸è®¡ç®—</a></li><li class="level-3" data-v-b57cc07c><a href="/vuepress-starter/handbook/vueRabbitTs/06-%E8%B4%AD%E7%89%A9%E8%BD%A6%E6%A8%A1%E5%9D%97.html#_4-åˆ é™¤åŠŸèƒ½å®ç°" class="sidebar-link reco-side-_4-åˆ é™¤åŠŸèƒ½å®ç°" data-v-b57cc07c>4. åˆ é™¤åŠŸèƒ½å®ç°</a></li><li class="level-2" data-v-b57cc07c><a href="/vuepress-starter/handbook/vueRabbitTs/06-%E8%B4%AD%E7%89%A9%E8%BD%A6%E6%A8%A1%E5%9D%97.html#åˆ—è¡¨è´­ç‰©è½¦å®ç°-å·²ç™»å½•" class="sidebar-link reco-side-åˆ—è¡¨è´­ç‰©è½¦å®ç°-å·²ç™»å½•" data-v-b57cc07c>åˆ—è¡¨è´­ç‰©è½¦å®ç°-å·²ç™»å½•</a></li><li class="level-3" data-v-b57cc07c><a href="/vuepress-starter/handbook/vueRabbitTs/06-%E8%B4%AD%E7%89%A9%E8%BD%A6%E6%A8%A1%E5%9D%97.html#_1-è·¯ç”±å’Œç»„ä»¶" class="sidebar-link reco-side-_1-è·¯ç”±å’Œç»„ä»¶" data-v-b57cc07c>1. è·¯ç”±å’Œç»„ä»¶</a></li><li class="level-3" data-v-b57cc07c><a href="/vuepress-starter/handbook/vueRabbitTs/06-%E8%B4%AD%E7%89%A9%E8%BD%A6%E6%A8%A1%E5%9D%97.html#_2-åˆ—è¡¨æ•°æ®å±•ç¤º" class="sidebar-link reco-side-_2-åˆ—è¡¨æ•°æ®å±•ç¤º" data-v-b57cc07c>2.åˆ—è¡¨æ•°æ®å±•ç¤º</a></li><li class="level-3" data-v-b57cc07c><a href="/vuepress-starter/handbook/vueRabbitTs/06-%E8%B4%AD%E7%89%A9%E8%BD%A6%E6%A8%A1%E5%9D%97.html#_3-åˆ é™¤æ“ä½œå®ç°" class="sidebar-link reco-side-_3-åˆ é™¤æ“ä½œå®ç°" data-v-b57cc07c>3. åˆ é™¤æ“ä½œå®ç°</a></li><li class="level-3" data-v-b57cc07c><a href="/vuepress-starter/handbook/vueRabbitTs/06-%E8%B4%AD%E7%89%A9%E8%BD%A6%E6%A8%A1%E5%9D%97.html#_4-å•é€‰æ“ä½œå®ç°ğŸš¨" class="sidebar-link reco-side-_4-å•é€‰æ“ä½œå®ç°ğŸš¨" data-v-b57cc07c>4. å•é€‰æ“ä½œå®ç°ğŸš¨</a></li><li class="level-3" data-v-b57cc07c><a href="/vuepress-starter/handbook/vueRabbitTs/06-%E8%B4%AD%E7%89%A9%E8%BD%A6%E6%A8%A1%E5%9D%97.html#_5-ä¿®æ”¹æ•°é‡å®ç°" class="sidebar-link reco-side-_5-ä¿®æ”¹æ•°é‡å®ç°" data-v-b57cc07c>5. ä¿®æ”¹æ•°é‡å®ç°</a></li><li class="level-3" data-v-b57cc07c><a href="/vuepress-starter/handbook/vueRabbitTs/06-%E8%B4%AD%E7%89%A9%E8%BD%A6%E6%A8%A1%E5%9D%97.html#_6-å…¨é€‰åˆ‡æ¢å®ç°ğŸš¨ğŸš¨" class="sidebar-link reco-side-_6-å…¨é€‰åˆ‡æ¢å®ç°ğŸš¨ğŸš¨" data-v-b57cc07c>6. å…¨é€‰åˆ‡æ¢å®ç°ğŸš¨ğŸš¨</a></li><li class="level-3" data-v-b57cc07c><a href="/vuepress-starter/handbook/vueRabbitTs/06-%E8%B4%AD%E7%89%A9%E8%BD%A6%E6%A8%A1%E5%9D%97.html#_7-æ“ä½œæ æ•°æ®è®¡ç®—å’Œæ¸²æŸ“" class="sidebar-link reco-side-_7-æ“ä½œæ æ•°æ®è®¡ç®—å’Œæ¸²æŸ“" data-v-b57cc07c>7. æ“ä½œæ æ•°æ®è®¡ç®—å’Œæ¸²æŸ“</a></li><li class="level-2" data-v-b57cc07c><a href="/vuepress-starter/handbook/vueRabbitTs/06-%E8%B4%AD%E7%89%A9%E8%BD%A6%E6%A8%A1%E5%9D%97.html#ã€è½¬æŠ˜ç‚¹ã€‘é€€å‡ºç™»å½•" class="sidebar-link reco-side-ã€è½¬æŠ˜ç‚¹ã€‘é€€å‡ºç™»å½•" data-v-b57cc07c>ã€è½¬æŠ˜ç‚¹ã€‘é€€å‡ºç™»å½•</a></li><li class="level-3" data-v-b57cc07c><a href="/vuepress-starter/handbook/vueRabbitTs/06-%E8%B4%AD%E7%89%A9%E8%BD%A6%E6%A8%A1%E5%9D%97.html#é—®é¢˜æ€è€ƒ" class="sidebar-link reco-side-é—®é¢˜æ€è€ƒ" data-v-b57cc07c>é—®é¢˜æ€è€ƒ</a></li><li class="level-3" data-v-b57cc07c><a href="/vuepress-starter/handbook/vueRabbitTs/06-%E8%B4%AD%E7%89%A9%E8%BD%A6%E6%A8%A1%E5%9D%97.html#é€€å‡ºç™»å½•æ¸…ç©ºè´­ç‰©è½¦" class="sidebar-link reco-side-é€€å‡ºç™»å½•æ¸…ç©ºè´­ç‰©è½¦" data-v-b57cc07c>é€€å‡ºç™»å½•æ¸…ç©ºè´­ç‰©è½¦</a></li><li class="level-3" data-v-b57cc07c><a href="/vuepress-starter/handbook/vueRabbitTs/06-%E8%B4%AD%E7%89%A9%E8%BD%A6%E6%A8%A1%E5%9D%97.html#å·²ç™»å½•å’Œæœªç™»å½•ç¨‹åºè®¾è®¡" class="sidebar-link reco-side-å·²ç™»å½•å’Œæœªç™»å½•ç¨‹åºè®¾è®¡" data-v-b57cc07c>å·²ç™»å½•å’Œæœªç™»å½•ç¨‹åºè®¾è®¡</a></li><li class="level-2" data-v-b57cc07c><a href="/vuepress-starter/handbook/vueRabbitTs/06-%E8%B4%AD%E7%89%A9%E8%BD%A6%E6%A8%A1%E5%9D%97.html#è´­ç‰©è½¦æ“ä½œ-æœªç™»å½•" class="sidebar-link reco-side-è´­ç‰©è½¦æ“ä½œ-æœªç™»å½•" data-v-b57cc07c>è´­ç‰©è½¦æ“ä½œ-æœªç™»å½•</a></li><li class="level-3" data-v-b57cc07c><a href="/vuepress-starter/handbook/vueRabbitTs/06-%E8%B4%AD%E7%89%A9%E8%BD%A6%E6%A8%A1%E5%9D%97.html#_1-åŠ å…¥è´­ç‰©è½¦ğŸš¨ğŸš¨ğŸš¨" class="sidebar-link reco-side-_1-åŠ å…¥è´­ç‰©è½¦ğŸš¨ğŸš¨ğŸš¨" data-v-b57cc07c>1. åŠ å…¥è´­ç‰©è½¦ğŸš¨ğŸš¨ğŸš¨</a></li><li class="level-3" data-v-b57cc07c><a href="/vuepress-starter/handbook/vueRabbitTs/06-%E8%B4%AD%E7%89%A9%E8%BD%A6%E6%A8%A1%E5%9D%97.html#_2-åˆ é™¤è´­ç‰©è½¦" class="sidebar-link reco-side-_2-åˆ é™¤è´­ç‰©è½¦" data-v-b57cc07c>2. åˆ é™¤è´­ç‰©è½¦</a></li><li class="level-3" data-v-b57cc07c><a href="/vuepress-starter/handbook/vueRabbitTs/06-%E8%B4%AD%E7%89%A9%E8%BD%A6%E6%A8%A1%E5%9D%97.html#_3-è´­ç‰©è½¦åˆ—è¡¨æŒä¹…åŒ–å­˜å‚¨" class="sidebar-link reco-side-_3-è´­ç‰©è½¦åˆ—è¡¨æŒä¹…åŒ–å­˜å‚¨" data-v-b57cc07c>3. è´­ç‰©è½¦åˆ—è¡¨æŒä¹…åŒ–å­˜å‚¨</a></li><li class="level-3" data-v-b57cc07c><a href="/vuepress-starter/handbook/vueRabbitTs/06-%E8%B4%AD%E7%89%A9%E8%BD%A6%E6%A8%A1%E5%9D%97.html#_4-é€‰ä¸­çŠ¶æ€åˆ‡æ¢-ä¿®æ”¹æ•°é‡" class="sidebar-link reco-side-_4-é€‰ä¸­çŠ¶æ€åˆ‡æ¢-ä¿®æ”¹æ•°é‡" data-v-b57cc07c>4. é€‰ä¸­çŠ¶æ€åˆ‡æ¢&amp;ä¿®æ”¹æ•°é‡</a></li><li class="level-3" data-v-b57cc07c><a href="/vuepress-starter/handbook/vueRabbitTs/06-%E8%B4%AD%E7%89%A9%E8%BD%A6%E6%A8%A1%E5%9D%97.html#_5-å…¨é€‰åˆ‡æ¢-æœ¬åœ°" class="sidebar-link reco-side-_5-å…¨é€‰åˆ‡æ¢-æœ¬åœ°" data-v-b57cc07c>5. å…¨é€‰åˆ‡æ¢-æœ¬åœ°</a></li><li class="level-3" data-v-b57cc07c><a href="/vuepress-starter/handbook/vueRabbitTs/06-%E8%B4%AD%E7%89%A9%E8%BD%A6%E6%A8%A1%E5%9D%97.html#_6-æ›´æ–°æœ¬åœ°è´­ç‰©è½¦å•†å“å…³é”®ä¿¡æ¯ğŸš¨ğŸš¨" class="sidebar-link reco-side-_6-æ›´æ–°æœ¬åœ°è´­ç‰©è½¦å•†å“å…³é”®ä¿¡æ¯ğŸš¨ğŸš¨" data-v-b57cc07c>6. æ›´æ–°æœ¬åœ°è´­ç‰©è½¦å•†å“å…³é”®ä¿¡æ¯ğŸš¨ğŸš¨</a></li><li class="level-2" data-v-b57cc07c><a href="/vuepress-starter/handbook/vueRabbitTs/06-%E8%B4%AD%E7%89%A9%E8%BD%A6%E6%A8%A1%E5%9D%97.html#ä¸¤ä¸ªç‰ˆæœ¬è´­ç‰©è½¦åŒæ­¥" class="sidebar-link reco-side-ä¸¤ä¸ªç‰ˆæœ¬è´­ç‰©è½¦åŒæ­¥" data-v-b57cc07c>ä¸¤ä¸ªç‰ˆæœ¬è´­ç‰©è½¦åŒæ­¥</a></li><li class="level-3" data-v-b57cc07c><a href="/vuepress-starter/handbook/vueRabbitTs/06-%E8%B4%AD%E7%89%A9%E8%BD%A6%E6%A8%A1%E5%9D%97.html#_1-ç™»å½•ååˆå¹¶è´­ç‰©è½¦ğŸš¨ğŸš¨" class="sidebar-link reco-side-_1-ç™»å½•ååˆå¹¶è´­ç‰©è½¦ğŸš¨ğŸš¨" data-v-b57cc07c>1. ç™»å½•ååˆå¹¶è´­ç‰©è½¦ğŸš¨ğŸš¨</a></li><li class="level-3" data-v-b57cc07c><a href="/vuepress-starter/handbook/vueRabbitTs/06-%E8%B4%AD%E7%89%A9%E8%BD%A6%E6%A8%A1%E5%9D%97.html#æ¥å£-åˆå¹¶è´­ç‰©è½¦" class="sidebar-link reco-side-æ¥å£-åˆå¹¶è´­ç‰©è½¦" data-v-b57cc07c>æ¥å£ï¼šåˆå¹¶è´­ç‰©è½¦</a></li><li class="level-3" data-v-b57cc07c><a href="/vuepress-starter/handbook/vueRabbitTs/06-%E8%B4%AD%E7%89%A9%E8%BD%A6%E6%A8%A1%E5%9D%97.html#ç™»å½•ååˆå¹¶è´­ç‰©è½¦" class="sidebar-link reco-side-ç™»å½•ååˆå¹¶è´­ç‰©è½¦" data-v-b57cc07c>ç™»å½•ååˆå¹¶è´­ç‰©è½¦</a></li></ul></div></div></div><div class="global-ui"><div class="back-to-ceiling" style="right:1rem;bottom:6rem;width:2.5rem;height:2.5rem;border-radius:.25rem;line-height:2.5rem;display:none;" data-v-c6073ba8 data-v-c6073ba8><svg t="1574745035067" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="5404" class="icon" data-v-c6073ba8><path d="M526.60727968 10.90185116a27.675 27.675 0 0 0-29.21455937 0c-131.36607665 82.28402758-218.69155461 228.01873535-218.69155402 394.07834331a462.20625001 462.20625001 0 0 0 5.36959153 69.94390903c1.00431239 6.55289093-0.34802892 13.13561351-3.76865779 18.80351572-32.63518765 54.11355614-51.75690182 118.55860487-51.7569018 187.94566865a371.06718723 371.06718723 0 0 0 11.50484808 91.98906777c6.53300375 25.50556257 41.68394495 28.14064038 52.69160883 4.22606766 17.37162448-37.73630017 42.14135425-72.50938081 72.80769204-103.21549295 2.18761121 3.04276886 4.15646224 6.24463696 6.40373557 9.22774369a1871.4375 1871.4375 0 0 0 140.04691725 5.34970492 1866.36093723 1866.36093723 0 0 0 140.04691723-5.34970492c2.24727335-2.98310674 4.21612437-6.18497483 6.3937923-9.2178004 30.66633723 30.70611158 55.4360664 65.4791928 72.80769147 103.21549355 11.00766384 23.91457269 46.15860503 21.27949489 52.69160879-4.22606768a371.15156223 371.15156223 0 0 0 11.514792-91.99901164c0-69.36717486-19.13165746-133.82216804-51.75690182-187.92578088-3.42062944-5.66790279-4.76302748-12.26056868-3.76865837-18.80351632a462.20625001 462.20625001 0 0 0 5.36959269-69.943909c-0.00994388-166.08943902-87.32547796-311.81420293-218.6915546-394.09823051zM605.93803103 357.87693858a93.93749974 93.93749974 0 1 1-187.89594924 6.1e-7 93.93749974 93.93749974 0 0 1 187.89594924-6.1e-7z" p-id="5405" data-v-c6073ba8></path><path d="M429.50777625 765.63860547C429.50777625 803.39355007 466.44236686 1000.39046097 512.00932183 1000.39046097c45.56695499 0 82.4922232-197.00623328 82.5015456-234.7518555 0-37.75494459-36.9345906-68.35043303-82.4922232-68.34111062-45.57627738-0.00932239-82.52019037 30.59548842-82.51086798 68.34111062z" p-id="5406" data-v-c6073ba8></path></svg></div><!----><div class="kanbanniang" data-v-5775ee02><div class="banniang-container" style="display:;" data-v-5775ee02><div class="messageBox" style="right:68px;bottom:190px;display:none;" data-v-5775ee02>
      æ¬¢è¿æ¥åˆ° TSæ–‡æ¡£
    </div> <div class="operation" style="right:90px;bottom:40px;display:;" data-v-5775ee02><i class="kbnfont kbn-ban-home ban-home" data-v-5775ee02></i> <i class="kbnfont kbn-ban-message message" data-v-5775ee02></i> <i class="kbnfont kbn-ban-close close" data-v-5775ee02></i> <a target="_blank" href="https://vuepress-theme-reco.recoluan.com/views/plugins/kanbanniang.html" data-v-5775ee02><i class="kbnfont kbn-ban-info info" data-v-5775ee02></i></a> <i class="kbnfont kbn-ban-theme skin" style="display:;" data-v-5775ee02></i></div> <canvas id="banniang" width="150" height="220" class="live2d" style="right:90px;bottom:-20px;opacity:0.9;" data-v-5775ee02></canvas></div> <div class="showBanNiang" style="display:none;" data-v-5775ee02>
    çœ‹æ¿å¨˜
  </div></div></div></div>
    <script src="/vuepress-starter/assets/js/app.9588c189.js" defer></script><script src="/vuepress-starter/assets/js/9.d0fd5d46.js" defer></script><script src="/vuepress-starter/assets/js/1.a4aa22ef.js" defer></script><script src="/vuepress-starter/assets/js/45.dde77433.js" defer></script>
  </body>
</html>
