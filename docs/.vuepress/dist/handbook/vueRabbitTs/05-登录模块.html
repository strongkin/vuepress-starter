<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>ç™»å½•æ¨¡å— | TSæ–‡æ¡£</title>
    <meta name="generator" content="VuePress 1.9.7">
    
    <meta name="description" content="TSæ–‡æ¡£ç¿»è¯‘">
    
    <link rel="preload" href="/vuepress-starter/assets/css/0.styles.d7e25954.css" as="style"><link rel="preload" href="/vuepress-starter/assets/js/app.e3fb7a36.js" as="script"><link rel="preload" href="/vuepress-starter/assets/js/2.659413da.js" as="script"><link rel="preload" href="/vuepress-starter/assets/js/3.419d79d3.js" as="script"><link rel="prefetch" href="/vuepress-starter/assets/js/10.f0a54ab5.js"><link rel="prefetch" href="/vuepress-starter/assets/js/11.d2f2be24.js"><link rel="prefetch" href="/vuepress-starter/assets/js/12.35e804de.js"><link rel="prefetch" href="/vuepress-starter/assets/js/13.3cc25877.js"><link rel="prefetch" href="/vuepress-starter/assets/js/14.31666be5.js"><link rel="prefetch" href="/vuepress-starter/assets/js/15.162fc1ed.js"><link rel="prefetch" href="/vuepress-starter/assets/js/16.7367de07.js"><link rel="prefetch" href="/vuepress-starter/assets/js/17.148da913.js"><link rel="prefetch" href="/vuepress-starter/assets/js/18.3c4946c5.js"><link rel="prefetch" href="/vuepress-starter/assets/js/19.b89a248b.js"><link rel="prefetch" href="/vuepress-starter/assets/js/20.3e6bb9a7.js"><link rel="prefetch" href="/vuepress-starter/assets/js/21.a6f71e56.js"><link rel="prefetch" href="/vuepress-starter/assets/js/22.7cbca601.js"><link rel="prefetch" href="/vuepress-starter/assets/js/23.c9b13606.js"><link rel="prefetch" href="/vuepress-starter/assets/js/4.795ea2c9.js"><link rel="prefetch" href="/vuepress-starter/assets/js/5.f572c9b5.js"><link rel="prefetch" href="/vuepress-starter/assets/js/6.01825db4.js"><link rel="prefetch" href="/vuepress-starter/assets/js/7.d872f524.js"><link rel="prefetch" href="/vuepress-starter/assets/js/8.20633d30.js"><link rel="prefetch" href="/vuepress-starter/assets/js/9.57110574.js">
    <link rel="stylesheet" href="/vuepress-starter/assets/css/0.styles.d7e25954.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/vuepress-starter/" class="home-link router-link-active"><!----> <span class="site-name">TSæ–‡æ¡£</span></a> <div class="links"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"><div class="nav-item"><a href="/vuepress-starter/" class="nav-link">
  é¦–é¡µ
</a></div><div class="nav-item"><a href="/vuepress-starter/handbook/ConditionalTypes.html" class="nav-link">
  vueç»„ä»¶
</a></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label=" JavaScript åšå®¢" class="dropdown-title"><span class="title"> JavaScript åšå®¢</span> <span class="arrow down"></span></button> <button type="button" aria-label=" JavaScript åšå®¢" class="mobile-dropdown-title"><span class="title"> JavaScript åšå®¢</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="https://github.com/strongkin" target="_blank" rel="noopener noreferrer" class="nav-link external">
  Github
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li><li class="dropdown-item"><!----> <a href="https://juejin.cn" target="_blank" rel="noopener noreferrer" class="nav-link external">
  æ˜é‡‘
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li></ul></div></div> <!----></nav></div></header> <div class="sidebar-mask"></div> <aside class="sidebar"><nav class="nav-links"><div class="nav-item"><a href="/vuepress-starter/" class="nav-link">
  é¦–é¡µ
</a></div><div class="nav-item"><a href="/vuepress-starter/handbook/ConditionalTypes.html" class="nav-link">
  vueç»„ä»¶
</a></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label=" JavaScript åšå®¢" class="dropdown-title"><span class="title"> JavaScript åšå®¢</span> <span class="arrow down"></span></button> <button type="button" aria-label=" JavaScript åšå®¢" class="mobile-dropdown-title"><span class="title"> JavaScript åšå®¢</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="https://github.com/strongkin" target="_blank" rel="noopener noreferrer" class="nav-link external">
  Github
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li><li class="dropdown-item"><!----> <a href="https://juejin.cn" target="_blank" rel="noopener noreferrer" class="nav-link external">
  æ˜é‡‘
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li></ul></div></div> <!----></nav>  <ul class="sidebar-links"><li><section class="sidebar-group collapsable depth-0"><a href="/vuepress-starter/handbook/" class="sidebar-heading clickable router-link-active"><span>åŸºç¡€å­¦ä¹ </span> <span class="arrow right"></span></a> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading open"><span>å°å…”ä»™+TS+pinia</span> <span class="arrow down"></span></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/vuepress-starter/handbook/vueRabbitTs/01-é¡¹ç›®èµ·æ­¥.html" class="sidebar-link">é¡¹ç›®èµ·æ­¥</a></li><li><a href="/vuepress-starter/handbook/vueRabbitTs/02-é¦–é¡µæ¨¡å—.html" class="sidebar-link">é¦–é¡µæ¨¡å—</a></li><li><a href="/vuepress-starter/handbook/vueRabbitTs/03-åˆ†ç±»æ¨¡å—.html" class="sidebar-link">åˆ†ç±»æ¨¡å—</a></li><li><a href="/vuepress-starter/handbook/vueRabbitTs/04-è¯¦æƒ…æ¨¡å—.html" class="sidebar-link">è¯¦æƒ…æ¨¡å—</a></li><li><a href="/vuepress-starter/handbook/vueRabbitTs/05-ç™»å½•æ¨¡å—.html" class="active sidebar-link">ç™»å½•æ¨¡å—</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/vuepress-starter/handbook/vueRabbitTs/05-ç™»å½•æ¨¡å—.html#è·¯ç”±ä¸ç»„ä»¶" class="sidebar-link">è·¯ç”±ä¸ç»„ä»¶</a></li><li class="sidebar-sub-header"><a href="/vuepress-starter/handbook/vueRabbitTs/05-ç™»å½•æ¨¡å—.html#æ¶ˆæ¯æç¤ºç»„ä»¶-å’Œ-å¤é€‰æ¡†ç»„ä»¶" class="sidebar-link">æ¶ˆæ¯æç¤ºç»„ä»¶ å’Œ å¤é€‰æ¡†ç»„ä»¶</a></li><li class="sidebar-sub-header"><a href="/vuepress-starter/handbook/vueRabbitTs/05-ç™»å½•æ¨¡å—.html#ç™»å½•å‰è¡¨å•æ ¡éªŒ" class="sidebar-link">ç™»å½•å‰è¡¨å•æ ¡éªŒ</a></li><li class="sidebar-sub-header"><a href="/vuepress-starter/handbook/vueRabbitTs/05-ç™»å½•æ¨¡å—.html#ä¼šå‘˜-pinia-çŠ¶æ€ç®¡ç†" class="sidebar-link">ä¼šå‘˜ Pinia çŠ¶æ€ç®¡ç†</a></li><li class="sidebar-sub-header"><a href="/vuepress-starter/handbook/vueRabbitTs/05-ç™»å½•æ¨¡å—.html#è´¦æˆ·ç™»å½•å®ç°" class="sidebar-link">è´¦æˆ·ç™»å½•å®ç°</a></li><li class="sidebar-sub-header"><a href="/vuepress-starter/handbook/vueRabbitTs/05-ç™»å½•æ¨¡å—.html#é€€å‡ºç™»å½•å®ç°" class="sidebar-link">é€€å‡ºç™»å½•å®ç°</a></li><li class="sidebar-sub-header"><a href="/vuepress-starter/handbook/vueRabbitTs/05-ç™»å½•æ¨¡å—.html#ä¼˜åŒ–-ç™»å½•æˆåŠŸé¡µé¢å›è·³" class="sidebar-link">ä¼˜åŒ–ï¼šç™»å½•æˆåŠŸé¡µé¢å›è·³</a></li><li class="sidebar-sub-header"><a href="/vuepress-starter/handbook/vueRabbitTs/05-ç™»å½•æ¨¡å—.html#è¯·æ±‚æ‹¦æˆªå™¨å’Œå“åº”æ‹¦æˆªå™¨" class="sidebar-link">è¯·æ±‚æ‹¦æˆªå™¨å’Œå“åº”æ‹¦æˆªå™¨</a></li><li class="sidebar-sub-header"><a href="/vuepress-starter/handbook/vueRabbitTs/05-ç™»å½•æ¨¡å—.html#qqä¸‰æ–¹ç™»å½•-å‰ç½®ç¯å¢ƒå’Œäº¤äº’" class="sidebar-link">QQä¸‰æ–¹ç™»å½• - å‰ç½®ç¯å¢ƒå’Œäº¤äº’</a></li><li class="sidebar-sub-header"><a href="/vuepress-starter/handbook/vueRabbitTs/05-ç™»å½•æ¨¡å—.html#qqä¸‰æ–¹ç™»å½•-ç”µè„‘ç¯å¢ƒè®¾ç½®ğŸš¨" class="sidebar-link">QQä¸‰æ–¹ç™»å½•-ç”µè„‘ç¯å¢ƒè®¾ç½®ğŸš¨</a></li><li class="sidebar-sub-header"><a href="/vuepress-starter/handbook/vueRabbitTs/05-ç™»å½•æ¨¡å—.html#å›è·³é¡µé¢è·¯ç”±å‡†å¤‡" class="sidebar-link">å›è·³é¡µé¢è·¯ç”±å‡†å¤‡</a></li><li class="sidebar-sub-header"><a href="/vuepress-starter/handbook/vueRabbitTs/05-ç™»å½•æ¨¡å—.html#qqæˆæƒç™»å½•å®ç°" class="sidebar-link">QQæˆæƒç™»å½•å®ç°</a></li><li class="sidebar-sub-header"><a href="/vuepress-starter/handbook/vueRabbitTs/05-ç™»å½•æ¨¡å—.html#qqäº’è”æ ¸å¿ƒ-api" class="sidebar-link">QQäº’è”æ ¸å¿ƒ API</a></li><li class="sidebar-sub-header"><a href="/vuepress-starter/handbook/vueRabbitTs/05-ç™»å½•æ¨¡å—.html#å›è·³ç»„ä»¶é™æ€ç»“æ„" class="sidebar-link">å›è·³ç»„ä»¶é™æ€ç»“æ„</a></li><li class="sidebar-sub-header"><a href="/vuepress-starter/handbook/vueRabbitTs/05-ç™»å½•æ¨¡å—.html#qqä¸‰æ–¹ç™»å½•-å¤šçŠ¶æ€ä»‹ç»" class="sidebar-link">QQä¸‰æ–¹ç™»å½• - å¤šçŠ¶æ€ä»‹ç»</a></li><li class="sidebar-sub-header"><a href="/vuepress-starter/handbook/vueRabbitTs/05-ç™»å½•æ¨¡å—.html#æœ‰è´¦å·æœªç»‘å®š-ç»‘å®šæµ‹è¯•è´¦å·-ğŸš¨ğŸš¨" class="sidebar-link">æœ‰è´¦å·æœªç»‘å®š ï¼ˆç»‘å®šæµ‹è¯•è´¦å·ï¼‰ğŸš¨ğŸš¨</a></li><li class="sidebar-sub-header"><a href="/vuepress-starter/handbook/vueRabbitTs/05-ç™»å½•æ¨¡å—.html#æœ‰è´¦å·å·²ç»‘å®š-qqç™»å½•ç›´æ¥è·³è½¬-ğŸš¨" class="sidebar-link">æœ‰è´¦å·å·²ç»‘å®š ï¼ˆQQç™»å½•ç›´æ¥è·³è½¬ï¼‰ğŸš¨</a></li><li class="sidebar-sub-header"><a href="/vuepress-starter/handbook/vueRabbitTs/05-ç™»å½•æ¨¡å—.html#æ— è´¦å·æœªç»‘å®š-æ³¨å†Œç™»å½•-è¯¾åä½œä¸š" class="sidebar-link">æ— è´¦å·æœªç»‘å®š ï¼ˆæ³¨å†Œç™»å½•-è¯¾åä½œä¸šï¼‰</a></li><li class="sidebar-sub-header"><a href="/vuepress-starter/handbook/vueRabbitTs/05-ç™»å½•æ¨¡å—.html#å€’è®¡æ—¶é€»è¾‘å‡½æ•°å°è£…-è¯¾åç»ƒä¹ " class="sidebar-link">å€’è®¡æ—¶é€»è¾‘å‡½æ•°å°è£…-è¯¾åç»ƒä¹ </a></li></ul></li><li><a href="/vuepress-starter/handbook/vueRabbitTs/06-è´­ç‰©è½¦æ¨¡å—.html" class="sidebar-link">è´­ç‰©è½¦æ¨¡å—</a></li><li><a href="/vuepress-starter/handbook/vueRabbitTs/07-è®¢å•æ¨¡å—.html" class="sidebar-link">è®¢å•æ¨¡å—</a></li><li><a href="/vuepress-starter/handbook/vueRabbitTs/08-æ”¯ä»˜æ¨¡å—.html" class="sidebar-link">æ”¯ä»˜æ¨¡å—</a></li><li><a href="/vuepress-starter/handbook/vueRabbitTs/09-ä¼šå‘˜æ¨¡å—.html" class="sidebar-link">ä¼šå‘˜æ¨¡å—</a></li><li><a href="/vuepress-starter/handbook/vueRabbitTs/æ‹“å±•é˜…è¯».html" class="sidebar-link">æ‹“å±•é˜…è¯»</a></li></ul></section></li></ul> </aside> <main class="page"> <div class="theme-default-content content__default"><h1 id="ç™»å½•æ¨¡å—"><a href="#ç™»å½•æ¨¡å—" class="header-anchor">#</a> ç™»å½•æ¨¡å—</h1> <h2 id="è·¯ç”±ä¸ç»„ä»¶"><a href="#è·¯ç”±ä¸ç»„ä»¶" class="header-anchor">#</a> è·¯ç”±ä¸ç»„ä»¶</h2> <blockquote><p>ç›®æ ‡ï¼šç™»å½•ç»„ä»¶åœ¨ä¹¦å†™ä¸€çº§è·¯ç”±çš„æ—¶å€™å·²ç»å‡†å¤‡ï¼Œæ·»åŠ è·¯ç”±é“¾æ¥è·³è½¬åˆ°ç™»å½•é¡µå³å¯ã€‚</p></blockquote> <ul><li>æ·»åŠ è·³è½¬é“¾æ¥ï¼š<code>src/components/app-topnav.vue</code></li></ul> <div class="language-html extra-class"><pre class="language-html"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>li</span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>RouterLink</span> <span class="token attr-name">to</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>/login<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>è¯·å…ˆç™»å½•<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>RouterLink</span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>li</span><span class="token punctuation">&gt;</span></span>
</code></pre></div><h3 id="ç»“æ„å¸ƒå±€-cv"><a href="#ç»“æ„å¸ƒå±€-cv" class="header-anchor">#</a> ç»“æ„å¸ƒå±€-CV</h3> <p><img src="/vuepress-starter/assets/img/01-16459813154986.5471d149.png" alt=""></p> <p>é™æ€ç»“æ„å‚è€ƒä»£ç  - CV</p> <div class="language-vue extra-class"><pre class="language-vue"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span> <span class="token attr-name">setup</span> <span class="token attr-name">lang</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>ts<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token script"><span class="token language-javascript">
<span class="token comment">//</span>
</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">&gt;</span></span>

<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>template</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>page-login<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
    <span class="token comment">&lt;!-- 1. å¤´éƒ¨ --&gt;</span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>header</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>login-header<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>container<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>h1</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>logo<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>RouterLink</span> <span class="token attr-name">to</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>/<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>å°å…”é²œ<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>RouterLink</span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>h1</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>h3</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>sub<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>slot</span><span class="token punctuation">&gt;</span></span>æ¬¢è¿ç™»å½•<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>slot</span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>h3</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>RouterLink</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>entry<span class="token punctuation">&quot;</span></span> <span class="token attr-name">to</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>/<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
          è¿›å…¥ç½‘ç«™é¦–é¡µ
          <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>i</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>iconfont icon-angle-right<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>i</span><span class="token punctuation">&gt;</span></span>
          <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>i</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>iconfont icon-angle-right<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>i</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>RouterLink</span><span class="token punctuation">&gt;</span></span>
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>header</span><span class="token punctuation">&gt;</span></span>
    <span class="token comment">&lt;!-- 2. ä¸»ä½“ç™»å½•åŒºåŸŸ --&gt;</span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>section</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>login-section<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>wrapper<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>nav</span><span class="token punctuation">&gt;</span></span>
          <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>a</span> <span class="token attr-name">href</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>javascript:;<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>è´¦æˆ·ç™»å½•<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>a</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>nav</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>LoginForm</span> <span class="token punctuation">/&gt;</span></span>
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>section</span><span class="token punctuation">&gt;</span></span>
    <span class="token comment">&lt;!-- 3. åº•éƒ¨ --&gt;</span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>footer</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>login-footer<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>container<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>p</span><span class="token punctuation">&gt;</span></span>
          <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>a</span> <span class="token attr-name">href</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>javascript:;<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>å…³äºæˆ‘ä»¬<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>a</span><span class="token punctuation">&gt;</span></span>
          <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>a</span> <span class="token attr-name">href</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>javascript:;<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>å¸®åŠ©ä¸­å¿ƒ<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>a</span><span class="token punctuation">&gt;</span></span>
          <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>a</span> <span class="token attr-name">href</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>javascript:;<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>å”®åæœåŠ¡<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>a</span><span class="token punctuation">&gt;</span></span>
          <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>a</span> <span class="token attr-name">href</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>javascript:;<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>é…é€ä¸éªŒæ”¶<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>a</span><span class="token punctuation">&gt;</span></span>
          <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>a</span> <span class="token attr-name">href</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>javascript:;<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>å•†åŠ¡åˆä½œ<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>a</span><span class="token punctuation">&gt;</span></span>
          <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>a</span> <span class="token attr-name">href</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>javascript:;<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>æœç´¢æ¨è<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>a</span><span class="token punctuation">&gt;</span></span>
          <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>a</span> <span class="token attr-name">href</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>javascript:;<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>å‹æƒ…é“¾æ¥<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>a</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>p</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>p</span><span class="token punctuation">&gt;</span></span>CopyRight <span class="token entity named-entity" title="&amp;copy;">&amp;copy;</span> å°å…”é²œå„¿<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>p</span><span class="token punctuation">&gt;</span></span>
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>footer</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>template</span><span class="token punctuation">&gt;</span></span>

<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>style</span> <span class="token attr-name">scoped</span> <span class="token attr-name">lang</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>less<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token style"><span class="token language-css">
<span class="token selector">// å¤´éƒ¨æ ·å¼
.login-header</span> <span class="token punctuation">{</span>
  <span class="token property">background</span><span class="token punctuation">:</span> #fff<span class="token punctuation">;</span>
  <span class="token property">border-bottom</span><span class="token punctuation">:</span> 1px solid #e4e4e4<span class="token punctuation">;</span>
  <span class="token selector">.container</span> <span class="token punctuation">{</span>
    <span class="token property">display</span><span class="token punctuation">:</span> flex<span class="token punctuation">;</span>
    <span class="token property">align-items</span><span class="token punctuation">:</span> flex-end<span class="token punctuation">;</span>
    <span class="token property">justify-content</span><span class="token punctuation">:</span> space-between<span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
  <span class="token selector">.logo</span> <span class="token punctuation">{</span>
    <span class="token property">width</span><span class="token punctuation">:</span> 200px<span class="token punctuation">;</span>
    <span class="token selector">a</span> <span class="token punctuation">{</span>
      <span class="token property">display</span><span class="token punctuation">:</span> block<span class="token punctuation">;</span>
      <span class="token property">height</span><span class="token punctuation">:</span> 132px<span class="token punctuation">;</span>
      <span class="token property">width</span><span class="token punctuation">:</span> 100%<span class="token punctuation">;</span>
      <span class="token property">text-indent</span><span class="token punctuation">:</span> -9999px<span class="token punctuation">;</span>
      <span class="token property">background</span><span class="token punctuation">:</span> <span class="token url"><span class="token function">url</span><span class="token punctuation">(</span>@/assets/images/logo.png<span class="token punctuation">)</span></span> no-repeat center 18px / contain<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span>
  <span class="token selector">.sub</span> <span class="token punctuation">{</span>
    <span class="token property">flex</span><span class="token punctuation">:</span> 1<span class="token punctuation">;</span>
    <span class="token property">font-size</span><span class="token punctuation">:</span> 24px<span class="token punctuation">;</span>
    <span class="token property">font-weight</span><span class="token punctuation">:</span> normal<span class="token punctuation">;</span>
    <span class="token property">margin-bottom</span><span class="token punctuation">:</span> 38px<span class="token punctuation">;</span>
    <span class="token property">margin-left</span><span class="token punctuation">:</span> 20px<span class="token punctuation">;</span>
    <span class="token property">color</span><span class="token punctuation">:</span> #666<span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
  <span class="token selector">.entry</span> <span class="token punctuation">{</span>
    <span class="token property">width</span><span class="token punctuation">:</span> 120px<span class="token punctuation">;</span>
    <span class="token property">margin-bottom</span><span class="token punctuation">:</span> 38px<span class="token punctuation">;</span>
    <span class="token property">font-size</span><span class="token punctuation">:</span> 16px<span class="token punctuation">;</span>
    <span class="token selector">i</span> <span class="token punctuation">{</span>
      <span class="token property">font-size</span><span class="token punctuation">:</span> 14px<span class="token punctuation">;</span>
      <span class="token property">color</span><span class="token punctuation">:</span> <span class="token atrule"><span class="token rule">@xtxColor</span><span class="token punctuation">;</span></span>
      <span class="token property">letter-spacing</span><span class="token punctuation">:</span> -5px<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
<span class="token selector">// ä¸»ä½“æ ·å¼
.login-section</span> <span class="token punctuation">{</span>
  <span class="token property">background</span><span class="token punctuation">:</span> <span class="token url"><span class="token function">url</span><span class="token punctuation">(</span>@/assets/images/login-bg.png<span class="token punctuation">)</span></span> no-repeat center / cover<span class="token punctuation">;</span>
  <span class="token property">height</span><span class="token punctuation">:</span> 488px<span class="token punctuation">;</span>
  <span class="token property">position</span><span class="token punctuation">:</span> relative<span class="token punctuation">;</span>
  <span class="token selector">.wrapper</span> <span class="token punctuation">{</span>
    <span class="token property">width</span><span class="token punctuation">:</span> 380px<span class="token punctuation">;</span>
    <span class="token property">background</span><span class="token punctuation">:</span> #fff<span class="token punctuation">;</span>
    <span class="token property">position</span><span class="token punctuation">:</span> absolute<span class="token punctuation">;</span>
    <span class="token property">left</span><span class="token punctuation">:</span> 50%<span class="token punctuation">;</span>
    <span class="token property">top</span><span class="token punctuation">:</span> 54px<span class="token punctuation">;</span>
    <span class="token property">transform</span><span class="token punctuation">:</span> <span class="token function">translate3d</span><span class="token punctuation">(</span>100px<span class="token punctuation">,</span> 0<span class="token punctuation">,</span> 0<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token property">box-shadow</span><span class="token punctuation">:</span> 0 0 10px <span class="token function">rgba</span><span class="token punctuation">(</span>0<span class="token punctuation">,</span> 0<span class="token punctuation">,</span> 0<span class="token punctuation">,</span> 0.15<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token selector">nav</span> <span class="token punctuation">{</span>
      <span class="token property">font-size</span><span class="token punctuation">:</span> 14px<span class="token punctuation">;</span>
      <span class="token property">height</span><span class="token punctuation">:</span> 55px<span class="token punctuation">;</span>
      <span class="token property">margin-bottom</span><span class="token punctuation">:</span> 20px<span class="token punctuation">;</span>
      <span class="token property">border-bottom</span><span class="token punctuation">:</span> 1px solid #f5f5f5<span class="token punctuation">;</span>
      <span class="token property">display</span><span class="token punctuation">:</span> flex<span class="token punctuation">;</span>
      <span class="token property">padding</span><span class="token punctuation">:</span> 0 40px<span class="token punctuation">;</span>
      <span class="token property">text-align</span><span class="token punctuation">:</span> right<span class="token punctuation">;</span>
      <span class="token property">align-items</span><span class="token punctuation">:</span> center<span class="token punctuation">;</span>
      <span class="token selector">a</span> <span class="token punctuation">{</span>
        <span class="token property">flex</span><span class="token punctuation">:</span> 1<span class="token punctuation">;</span>
        <span class="token property">line-height</span><span class="token punctuation">:</span> 1<span class="token punctuation">;</span>
        <span class="token property">display</span><span class="token punctuation">:</span> inline-block<span class="token punctuation">;</span>
        <span class="token property">font-size</span><span class="token punctuation">:</span> 18px<span class="token punctuation">;</span>
        <span class="token property">position</span><span class="token punctuation">:</span> relative<span class="token punctuation">;</span>
        <span class="token property">text-align</span><span class="token punctuation">:</span> center<span class="token punctuation">;</span>
      <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

<span class="token selector">// åº•éƒ¨æ ·å¼
.login-footer</span> <span class="token punctuation">{</span>
  <span class="token property">padding</span><span class="token punctuation">:</span> 30px 0 50px<span class="token punctuation">;</span>
  <span class="token property">background</span><span class="token punctuation">:</span> #fff<span class="token punctuation">;</span>
  <span class="token selector">p</span> <span class="token punctuation">{</span>
    <span class="token property">text-align</span><span class="token punctuation">:</span> center<span class="token punctuation">;</span>
    <span class="token property">color</span><span class="token punctuation">:</span> #999<span class="token punctuation">;</span>
    <span class="token property">padding-top</span><span class="token punctuation">:</span> 20px<span class="token punctuation">;</span>
    <span class="token selector">a</span> <span class="token punctuation">{</span>
      <span class="token property">line-height</span><span class="token punctuation">:</span> 1<span class="token punctuation">;</span>
      <span class="token property">padding</span><span class="token punctuation">:</span> 0 10px<span class="token punctuation">;</span>
      <span class="token property">color</span><span class="token punctuation">:</span> #999<span class="token punctuation">;</span>
      <span class="token property">display</span><span class="token punctuation">:</span> inline-block<span class="token punctuation">;</span>
      <span class="token selector">~ a</span> <span class="token punctuation">{</span>
        <span class="token property">border-left</span><span class="token punctuation">:</span> 1px solid #ccc<span class="token punctuation">;</span>
      <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>style</span><span class="token punctuation">&gt;</span></span>

</code></pre></div><h3 id="è¡¨å•å¸ƒå±€-cv"><a href="#è¡¨å•å¸ƒå±€-cv" class="header-anchor">#</a> è¡¨å•å¸ƒå±€-CV</h3> <blockquote><p>ç›®æ ‡ï¼š å®ç°ç™»å½•é¡µé¢çš„æ•´ä½“å¤§ç»“æ„å¸ƒå±€</p></blockquote> <ul><li>æ–°å»ºè¡¨å•ç»„ä»¶</li></ul> <p><code>src/views/Login/components/login-form.vue</code></p> <div class="language-html extra-class"><pre class="language-html"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span> <span class="token attr-name">setup</span> <span class="token attr-name">lang</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>ts<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token script"><span class="token language-javascript">
<span class="token comment">//</span>
</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">&gt;</span></span>

<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>template</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>account-box<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>form<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>form-item<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>input<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
          <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>i</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>iconfont icon-user<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>i</span><span class="token punctuation">&gt;</span></span>
          <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>input</span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>text<span class="token punctuation">&quot;</span></span> <span class="token attr-name">placeholder</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>è¯·è¾“å…¥ç”¨æˆ·åæˆ–æ‰‹æœºå·<span class="token punctuation">&quot;</span></span> <span class="token punctuation">/&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
        <span class="token comment">&lt;!-- è¡¨å•éªŒè¯é”™è¯¯ä¿¡æ¯æç¤º --&gt;</span>
        <span class="token comment">&lt;!-- &lt;div class=&quot;error&quot;&gt;&lt;i class=&quot;iconfont icon-warning&quot; /&gt;è¯·è¾“å…¥æ‰‹æœºå·&lt;/div&gt; --&gt;</span>
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>form-item<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>input<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
          <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>i</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>iconfont icon-lock<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>i</span><span class="token punctuation">&gt;</span></span>
          <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>input</span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>password<span class="token punctuation">&quot;</span></span> <span class="token attr-name">placeholder</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>è¯·è¾“å…¥å¯†ç <span class="token punctuation">&quot;</span></span> <span class="token punctuation">/&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>form-item<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>agree<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
          <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>XtxCheckBox</span> <span class="token punctuation">/&gt;</span></span>
          <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>span</span><span class="token punctuation">&gt;</span></span>æˆ‘å·²åŒæ„<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>span</span><span class="token punctuation">&gt;</span></span>
          <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>a</span> <span class="token attr-name">href</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>javascript:;<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>ã€Šéšç§æ¡æ¬¾ã€‹<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>a</span><span class="token punctuation">&gt;</span></span>
          <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>span</span><span class="token punctuation">&gt;</span></span>å’Œ<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>span</span><span class="token punctuation">&gt;</span></span>
          <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>a</span> <span class="token attr-name">href</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>javascript:;<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>ã€ŠæœåŠ¡æ¡æ¬¾ã€‹<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>a</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>a</span> <span class="token attr-name">href</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>javascript:;<span class="token punctuation">&quot;</span></span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>btn<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>ç™»å½•<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>a</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>action<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>img</span>
        <span class="token attr-name">src</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>https://qzonestyle.gtimg.cn/qzone/vas/opensns/res/img/Connect_logo_7.png<span class="token punctuation">&quot;</span></span>
        <span class="token attr-name">alt</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span><span class="token punctuation">&quot;</span></span>
      <span class="token punctuation">/&gt;</span></span>
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>url<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>a</span> <span class="token attr-name">href</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>javascript:;<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>å¿˜è®°å¯†ç <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>a</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>a</span> <span class="token attr-name">href</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>javascript:;<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>å…è´¹æ³¨å†Œ<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>a</span><span class="token punctuation">&gt;</span></span>
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>template</span><span class="token punctuation">&gt;</span></span>

<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>style</span> <span class="token attr-name">lang</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>less<span class="token punctuation">&quot;</span></span> <span class="token attr-name">scoped</span><span class="token punctuation">&gt;</span></span><span class="token style"><span class="token language-css">
<span class="token selector">// è´¦å·å®¹å™¨
.account-box</span> <span class="token punctuation">{</span>
  <span class="token selector">.toggle</span> <span class="token punctuation">{</span>
    <span class="token property">padding</span><span class="token punctuation">:</span> 15px 40px<span class="token punctuation">;</span>
    <span class="token property">text-align</span><span class="token punctuation">:</span> right<span class="token punctuation">;</span>
    <span class="token selector">a</span> <span class="token punctuation">{</span>
      <span class="token property">color</span><span class="token punctuation">:</span> <span class="token atrule"><span class="token rule">@xtxColor</span><span class="token punctuation">;</span></span>
      <span class="token selector">i</span> <span class="token punctuation">{</span>
        <span class="token property">font-size</span><span class="token punctuation">:</span> 14px<span class="token punctuation">;</span>
      <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span>
  <span class="token selector">.form</span> <span class="token punctuation">{</span>
    <span class="token property">padding</span><span class="token punctuation">:</span> 0 20px<span class="token punctuation">;</span>
    <span class="token selector">&amp;-item</span> <span class="token punctuation">{</span>
      <span class="token property">margin-bottom</span><span class="token punctuation">:</span> 28px<span class="token punctuation">;</span>
      <span class="token selector">.input</span> <span class="token punctuation">{</span>
        <span class="token property">position</span><span class="token punctuation">:</span> relative<span class="token punctuation">;</span>
        <span class="token property">height</span><span class="token punctuation">:</span> 36px<span class="token punctuation">;</span>
        <span class="token selector">&gt; i</span> <span class="token punctuation">{</span>
          <span class="token property">width</span><span class="token punctuation">:</span> 34px<span class="token punctuation">;</span>
          <span class="token property">height</span><span class="token punctuation">:</span> 34px<span class="token punctuation">;</span>
          <span class="token property">background</span><span class="token punctuation">:</span> #cfcdcd<span class="token punctuation">;</span>
          <span class="token property">color</span><span class="token punctuation">:</span> #fff<span class="token punctuation">;</span>
          <span class="token property">position</span><span class="token punctuation">:</span> absolute<span class="token punctuation">;</span>
          <span class="token property">left</span><span class="token punctuation">:</span> 1px<span class="token punctuation">;</span>
          <span class="token property">top</span><span class="token punctuation">:</span> 1px<span class="token punctuation">;</span>
          <span class="token property">text-align</span><span class="token punctuation">:</span> center<span class="token punctuation">;</span>
          <span class="token property">line-height</span><span class="token punctuation">:</span> 34px<span class="token punctuation">;</span>
          <span class="token property">font-size</span><span class="token punctuation">:</span> 18px<span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
        <span class="token selector">input</span> <span class="token punctuation">{</span>
          <span class="token property">padding-left</span><span class="token punctuation">:</span> 44px<span class="token punctuation">;</span>
          <span class="token property">border</span><span class="token punctuation">:</span> 1px solid #cfcdcd<span class="token punctuation">;</span>
          <span class="token property">height</span><span class="token punctuation">:</span> 36px<span class="token punctuation">;</span>
          <span class="token property">line-height</span><span class="token punctuation">:</span> 36px<span class="token punctuation">;</span>
          <span class="token property">width</span><span class="token punctuation">:</span> 100%<span class="token punctuation">;</span>
          <span class="token selector">&amp;.error</span> <span class="token punctuation">{</span>
            <span class="token property">border-color</span><span class="token punctuation">:</span> <span class="token atrule"><span class="token rule">@priceColor</span><span class="token punctuation">;</span></span>
          <span class="token punctuation">}</span>
          <span class="token selector">&amp;.active,
          &amp;:focus</span> <span class="token punctuation">{</span>
            <span class="token property">border-color</span><span class="token punctuation">:</span> <span class="token atrule"><span class="token rule">@xtxColor</span><span class="token punctuation">;</span></span>
          <span class="token punctuation">}</span>
        <span class="token punctuation">}</span>
        <span class="token selector">.code</span> <span class="token punctuation">{</span>
          <span class="token property">position</span><span class="token punctuation">:</span> absolute<span class="token punctuation">;</span>
          <span class="token property">right</span><span class="token punctuation">:</span> 1px<span class="token punctuation">;</span>
          <span class="token property">top</span><span class="token punctuation">:</span> 1px<span class="token punctuation">;</span>
          <span class="token property">text-align</span><span class="token punctuation">:</span> center<span class="token punctuation">;</span>
          <span class="token property">line-height</span><span class="token punctuation">:</span> 34px<span class="token punctuation">;</span>
          <span class="token property">font-size</span><span class="token punctuation">:</span> 14px<span class="token punctuation">;</span>
          <span class="token property">background</span><span class="token punctuation">:</span> #f5f5f5<span class="token punctuation">;</span>
          <span class="token property">color</span><span class="token punctuation">:</span> #666<span class="token punctuation">;</span>
          <span class="token property">width</span><span class="token punctuation">:</span> 90px<span class="token punctuation">;</span>
          <span class="token property">height</span><span class="token punctuation">:</span> 34px<span class="token punctuation">;</span>
          <span class="token property">cursor</span><span class="token punctuation">:</span> pointer<span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
      <span class="token punctuation">}</span>
      <span class="token selector">&gt; .error</span> <span class="token punctuation">{</span>
        <span class="token property">position</span><span class="token punctuation">:</span> absolute<span class="token punctuation">;</span>
        <span class="token property">font-size</span><span class="token punctuation">:</span> 12px<span class="token punctuation">;</span>
        <span class="token property">line-height</span><span class="token punctuation">:</span> 28px<span class="token punctuation">;</span>
        <span class="token property">color</span><span class="token punctuation">:</span> <span class="token atrule"><span class="token rule">@priceColor</span><span class="token punctuation">;</span></span>
        <span class="token selector">i</span> <span class="token punctuation">{</span>
          <span class="token property">font-size</span><span class="token punctuation">:</span> 14px<span class="token punctuation">;</span>
          <span class="token property">margin-right</span><span class="token punctuation">:</span> 2px<span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
      <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
    <span class="token selector">.agree</span> <span class="token punctuation">{</span>
      <span class="token selector">a</span> <span class="token punctuation">{</span>
        <span class="token property">color</span><span class="token punctuation">:</span> #069<span class="token punctuation">;</span>
      <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
    <span class="token selector">.btn</span> <span class="token punctuation">{</span>
      <span class="token property">display</span><span class="token punctuation">:</span> block<span class="token punctuation">;</span>
      <span class="token property">width</span><span class="token punctuation">:</span> 100%<span class="token punctuation">;</span>
      <span class="token property">height</span><span class="token punctuation">:</span> 40px<span class="token punctuation">;</span>
      <span class="token property">color</span><span class="token punctuation">:</span> #fff<span class="token punctuation">;</span>
      <span class="token property">text-align</span><span class="token punctuation">:</span> center<span class="token punctuation">;</span>
      <span class="token property">line-height</span><span class="token punctuation">:</span> 40px<span class="token punctuation">;</span>
      <span class="token property">background</span><span class="token punctuation">:</span> <span class="token atrule"><span class="token rule">@xtxColor</span><span class="token punctuation">;</span></span>
      <span class="token selector">&amp;.disabled</span> <span class="token punctuation">{</span>
        <span class="token property">background</span><span class="token punctuation">:</span> #cfcdcd<span class="token punctuation">;</span>
      <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span>
  <span class="token selector">.action</span> <span class="token punctuation">{</span>
    <span class="token property">padding</span><span class="token punctuation">:</span> 20px 40px<span class="token punctuation">;</span>
    <span class="token property">display</span><span class="token punctuation">:</span> flex<span class="token punctuation">;</span>
    <span class="token property">justify-content</span><span class="token punctuation">:</span> space-between<span class="token punctuation">;</span>
    <span class="token property">align-items</span><span class="token punctuation">:</span> center<span class="token punctuation">;</span>
    <span class="token selector">.url</span> <span class="token punctuation">{</span>
      <span class="token selector">a</span> <span class="token punctuation">{</span>
        <span class="token property">color</span><span class="token punctuation">:</span> #999<span class="token punctuation">;</span>
        <span class="token property">margin-left</span><span class="token punctuation">:</span> 10px<span class="token punctuation">;</span>
      <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>style</span><span class="token punctuation">&gt;</span></span>

</code></pre></div><p>ç™»å½•æ¨¡å—å…¥å£ç»„ä»¶  <code>src/views/Login/index.vue</code></p> <blockquote><p>åœ¨ä¸»ä½“ç™»å½•åŒºåŸŸå¼•å…¥å¹¶ä½¿ç”¨è¡¨å•ç»„ä»¶ã€‚</p></blockquote> <div class="language-vue extra-class"><pre class="language-vue"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span> <span class="token attr-name">setup</span> <span class="token attr-name">lang</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>ts<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token script"><span class="token language-javascript">
<span class="token keyword">import</span> LoginForm <span class="token keyword">from</span> <span class="token string">&quot;./components/login-form.vue&quot;</span><span class="token punctuation">;</span>
</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">&gt;</span></span>

<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>template</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>page-login<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
    <span class="token comment">&lt;!-- 1. å¤´éƒ¨ --&gt;</span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>header</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>login-header<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
      ....
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>header</span><span class="token punctuation">&gt;</span></span>
    <span class="token comment">&lt;!-- 2. ä¸»ä½“ç™»å½•åŒºåŸŸ --&gt;</span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>section</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>login-section<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>wrapper<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>nav</span><span class="token punctuation">&gt;</span></span>
          <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>a</span> <span class="token attr-name">href</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>javascript:;<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>è´¦æˆ·ç™»å½•<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>a</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>nav</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>LoginForm</span> <span class="token punctuation">/&gt;</span></span>
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>section</span><span class="token punctuation">&gt;</span></span>
    <span class="token comment">&lt;!-- 3. åº•éƒ¨ --&gt;</span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>footer</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>login-footer<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
      ....
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>footer</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>template</span><span class="token punctuation">&gt;</span></span>
</code></pre></div><h2 id="æ¶ˆæ¯æç¤ºç»„ä»¶-å’Œ-å¤é€‰æ¡†ç»„ä»¶"><a href="#æ¶ˆæ¯æç¤ºç»„ä»¶-å’Œ-å¤é€‰æ¡†ç»„ä»¶" class="header-anchor">#</a> æ¶ˆæ¯æç¤ºç»„ä»¶ å’Œ å¤é€‰æ¡†ç»„ä»¶</h2> <h3 id="ç»„ä»¶å¤–è§‚"><a href="#ç»„ä»¶å¤–è§‚" class="header-anchor">#</a> ç»„ä»¶å¤–è§‚</h3> <p><img src="/vuepress-starter/assets/img/05-1627943191361.7a5efd1e.png" alt=""></p> <p><img src="assets/image-20210803065321123.png" alt="image-20210803065321123"></p> <h3 id="xtxcheckbox-ç»„ä»¶ä½¿ç”¨"><a href="#xtxcheckbox-ç»„ä»¶ä½¿ç”¨" class="header-anchor">#</a> XtxCheckBox ç»„ä»¶ä½¿ç”¨</h3> <div class="language-vue extra-class"><pre class="language-vue"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span> <span class="token attr-name">setup</span> <span class="token attr-name">lang</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>ts<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token script"><span class="token language-javascript">
<span class="token keyword">import</span> <span class="token punctuation">{</span> ref <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&quot;vue&quot;</span><span class="token punctuation">;</span>

<span class="token keyword">const</span> isAgree <span class="token operator">=</span> <span class="token function">ref</span><span class="token punctuation">(</span><span class="token boolean">false</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">&gt;</span></span>


<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>XtxCheckBox</span> <span class="token attr-name">v-model</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>isAgree<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>æˆ‘å·²åŒæ„<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>XtxCheckBox</span><span class="token punctuation">&gt;</span></span>
</code></pre></div><h3 id="message-ç»„ä»¶ä½¿ç”¨"><a href="#message-ç»„ä»¶ä½¿ç”¨" class="header-anchor">#</a> Message ç»„ä»¶ä½¿ç”¨</h3> <blockquote><p>Message ç»„ä»¶æ”¯æŒ  å‡½æ•°  å’Œ ç»„ä»¶ ä¸¤ç§è°ƒç”¨æ–¹å¼ï¼š</p></blockquote> <h4 id="å‡½æ•°è°ƒç”¨-æ¨èğŸ‘"><a href="#å‡½æ•°è°ƒç”¨-æ¨èğŸ‘" class="header-anchor">#</a> å‡½æ•°è°ƒç”¨ - æ¨èğŸ‘</h4> <ul><li>è°ƒç”¨å‡½æ•°æ—¶ç”±å‡½æ•°å†…éƒ¨åŠ¨æ€åˆ›å»ºç»„ä»¶ï¼Œä½¿ç”¨å®Œæˆè‡ªåŠ¨å¸è½½</li></ul> <div class="language-vue extra-class"><pre class="language-vue"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span> <span class="token attr-name">setup</span> <span class="token attr-name">lang</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>ts<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token script"><span class="token language-javascript">
<span class="token keyword">import</span> <span class="token punctuation">{</span> message <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&quot;@/components/XtxUI/Message/index&quot;</span><span class="token punctuation">;</span>

<span class="token function">message</span><span class="token punctuation">(</span><span class="token punctuation">{</span> <span class="token literal-property property">type</span><span class="token operator">:</span> <span class="token string">&quot;success&quot;</span><span class="token punctuation">,</span> <span class="token literal-property property">text</span><span class="token operator">:</span> <span class="token string">&quot;ç™»å½•æˆåŠŸ&quot;</span><span class="token punctuation">,</span> <span class="token literal-property property">time</span><span class="token operator">:</span> <span class="token number">2000</span><span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">&gt;</span></span>
</code></pre></div><ul><li>ç»„ä»¶åº“ä»£ç å‡çº§ï¼š <code>src\components\XtxUI\index.ts</code> ç»„ä»¶åº“åšç»Ÿä¸€å‡ºå£</li></ul> <div class="language-ts extra-class"><pre class="language-ts"><code><span class="token comment">// åšç»Ÿä¸€å‡ºå£</span>
<span class="token keyword">export</span> <span class="token punctuation">{</span> message <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&quot;./Message/index&quot;</span><span class="token punctuation">;</span>
</code></pre></div><ul><li>è°ƒç”¨ message å‡½æ•°å˜å¾—æ›´æ–¹ä¾¿</li></ul> <div class="language-vue extra-class"><pre class="language-vue"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span> <span class="token attr-name">setup</span> <span class="token attr-name">lang</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>ts<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token script"><span class="token language-javascript">
<span class="token keyword">import</span> <span class="token punctuation">{</span> message <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&quot;@/components/XtxUI&quot;</span><span class="token punctuation">;</span>

<span class="token function">message</span><span class="token punctuation">(</span><span class="token punctuation">{</span> <span class="token literal-property property">type</span><span class="token operator">:</span> <span class="token string">&quot;success&quot;</span><span class="token punctuation">,</span> <span class="token literal-property property">text</span><span class="token operator">:</span> <span class="token string">&quot;ç™»å½•æˆåŠŸ&quot;</span><span class="token punctuation">,</span> <span class="token literal-property property">time</span><span class="token operator">:</span> <span class="token number">2000</span><span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">&gt;</span></span>
</code></pre></div><h2 id="ç™»å½•å‰è¡¨å•æ ¡éªŒ"><a href="#ç™»å½•å‰è¡¨å•æ ¡éªŒ" class="header-anchor">#</a> ç™»å½•å‰è¡¨å•æ ¡éªŒ</h2> <blockquote><p>ç›®æ ‡ï¼šæ ¡éªŒä¹‹å‰æˆ‘ä»¬å·²ç»å®ç°äº†å¾ˆå¤šæ¬¡ï¼Œè¿™é‡Œå¼±åŒ–éªŒè¯å†™æ³•ï¼Œç®€å•åšä¸€ä¸ªéç©ºæ£€éªŒå³å¯ã€‚</p></blockquote> <h3 id="å‚è€ƒä»£ç "><a href="#å‚è€ƒä»£ç " class="header-anchor">#</a> å‚è€ƒä»£ç </h3> <div class="language-html extra-class"><pre class="language-html"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span> <span class="token attr-name">setup</span> <span class="token attr-name">lang</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>ts<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token script"><span class="token language-javascript">
<span class="token keyword">import</span> <span class="token punctuation">{</span> reactive <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&quot;vue&quot;</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token punctuation">{</span> message <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&quot;@/components/XtxUI&quot;</span><span class="token punctuation">;</span>

<span class="token keyword">const</span> form <span class="token operator">=</span> <span class="token function">reactive</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
  <span class="token literal-property property">account</span><span class="token operator">:</span> <span class="token string">&quot;&quot;</span><span class="token punctuation">,</span>
  <span class="token literal-property property">password</span><span class="token operator">:</span> <span class="token string">&quot;&quot;</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token keyword">const</span> <span class="token function-variable function">loginBtn</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
  <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token operator">!</span>form<span class="token punctuation">.</span>account<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token function">message</span><span class="token punctuation">(</span><span class="token punctuation">{</span> <span class="token literal-property property">type</span><span class="token operator">:</span> <span class="token string">&quot;error&quot;</span><span class="token punctuation">,</span> <span class="token literal-property property">text</span><span class="token operator">:</span> <span class="token string">&quot;ç”¨æˆ·åæˆ–æ‰‹æœºå·ä¸èƒ½ä¸ºç©º&quot;</span> <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">return</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
  <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token operator">!</span>form<span class="token punctuation">.</span>password<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token function">message</span><span class="token punctuation">(</span><span class="token punctuation">{</span> <span class="token literal-property property">type</span><span class="token operator">:</span> <span class="token string">&quot;error&quot;</span><span class="token punctuation">,</span> <span class="token literal-property property">text</span><span class="token operator">:</span> <span class="token string">&quot;å¯†ç ä¸èƒ½ä¸ºç©º&quot;</span> <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">return</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
  <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token operator">!</span>isAgree<span class="token punctuation">.</span>value<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token function">message</span><span class="token punctuation">(</span><span class="token punctuation">{</span> <span class="token literal-property property">type</span><span class="token operator">:</span> <span class="token string">&quot;error&quot;</span><span class="token punctuation">,</span> <span class="token literal-property property">text</span><span class="token operator">:</span> <span class="token string">&quot;è¯·åŒæ„è®¸å¯&quot;</span> <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">return</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">&quot;é€šè¿‡æ ¡éªŒï¼Œå¯ä»¥å‘é€è¯·æ±‚&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">&gt;</span></span>


// ğŸ“Œ ç»‘å®š form å“åº”å¼æ•°æ®åˆ°è¡¨å•å…ƒç´ ä¸­
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>input</span> <span class="token attr-name">v-model.trim</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>form.account<span class="token punctuation">&quot;</span></span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>text<span class="token punctuation">&quot;</span></span> <span class="token attr-name">placeholder</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>è¯·è¾“å…¥ç”¨æˆ·åæˆ–æ‰‹æœºå·<span class="token punctuation">&quot;</span></span> <span class="token punctuation">/&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>input</span> <span class="token attr-name">v-model.trim</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>form.password<span class="token punctuation">&quot;</span></span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>password<span class="token punctuation">&quot;</span></span> <span class="token attr-name">placeholder</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>è¯·è¾“å…¥å¯†ç <span class="token punctuation">&quot;</span></span> <span class="token punctuation">/&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>XtxCheckBox</span> <span class="token attr-name">v-model</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>isAgree<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>æˆ‘å·²åŒæ„<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>XtxCheckBox</span><span class="token punctuation">&gt;</span></span>

// ğŸ“Œ ç™»å½•æŒ‰é’®
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>a</span> <span class="token attr-name">href</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>javascript:;<span class="token punctuation">&quot;</span></span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>btn<span class="token punctuation">&quot;</span></span> <span class="token attr-name">@click</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>loginBtn<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>ç™»å½•<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>a</span><span class="token punctuation">&gt;</span></span>
</code></pre></div><h2 id="ä¼šå‘˜-pinia-çŠ¶æ€ç®¡ç†"><a href="#ä¼šå‘˜-pinia-çŠ¶æ€ç®¡ç†" class="header-anchor">#</a> ä¼šå‘˜ Pinia çŠ¶æ€ç®¡ç†</h2> <h3 id="æ–°å»º-strore"><a href="#æ–°å»º-strore" class="header-anchor">#</a> æ–°å»º Strore</h3> <p>æ–°å»ºæ–‡ä»¶ï¼š <code>src\store\modules\member.ts</code></p> <div class="language-ts extra-class"><pre class="language-ts"><code><span class="token keyword">import</span> <span class="token punctuation">{</span> defineStore <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&quot;pinia&quot;</span><span class="token punctuation">;</span>

<span class="token keyword">const</span> useMemberStore <span class="token operator">=</span> <span class="token function">defineStore</span><span class="token punctuation">(</span><span class="token string">&quot;member&quot;</span><span class="token punctuation">,</span><span class="token punctuation">{</span>
  <span class="token comment">// çŠ¶æ€</span>
  <span class="token function-variable function">state</span><span class="token operator">:</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">(</span><span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
  <span class="token comment">// è®¡ç®—</span>
  getters<span class="token operator">:</span> <span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token comment">// æ–¹æ³•</span>
  actions<span class="token operator">:</span> <span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token keyword">export</span> <span class="token keyword">default</span> useMemberStore<span class="token punctuation">;</span>

</code></pre></div><h3 id="åˆå¹¶-store"><a href="#åˆå¹¶-store" class="header-anchor">#</a> åˆå¹¶ Store</h3> <p>ä¿®æ”¹æ–‡ä»¶ï¼š<code>src\store\index.ts</code></p> <div class="language-diff extra-class"><pre class="language-diff"><code>import { defineStore } from 'pinia';
import useHomeStore from './modules/home';
<span class="token inserted-sign inserted"><span class="token prefix inserted">+</span><span class="token line"> import useMemberStore from './modules/member';
</span></span>
// å®šä¹‰æ€»Storeï¼Œç®¡ç†æ‰€æœ‰æ¨¡å—Store
const useStore = defineStore('main', {
<span class="token unchanged"><span class="token prefix unchanged"> </span><span class="token line"> // state å­˜æ”¾æ¨¡å— Store
</span><span class="token prefix unchanged"> </span><span class="token line"> state: () =&gt; ({
</span><span class="token prefix unchanged"> </span><span class="token line">   home: useHomeStore(),
</span></span><span class="token inserted-sign inserted"><span class="token prefix inserted">+</span><span class="token line">    member: useMemberStore(),
</span></span><span class="token unchanged"><span class="token prefix unchanged"> </span><span class="token line"> }),
</span></span>});

// é»˜è®¤å¯¼å‡º
export default useStore;
</code></pre></div><ul><li>è°ƒè¯•å·¥å…·æ£€æŸ¥ Piniaã€‚</li></ul> <h2 id="è´¦æˆ·ç™»å½•å®ç°"><a href="#è´¦æˆ·ç™»å½•å®ç°" class="header-anchor">#</a> è´¦æˆ·ç™»å½•å®ç°</h2> <blockquote><p><code>æœ¬èŠ‚ç›®æ ‡:</code>  å®ç°è´¦æˆ·åå¯†ç ç™»å½•åŠŸèƒ½</p></blockquote> <h3 id="ç”¨æˆ·åå’Œå¯†ç ç™»å½•æ¥å£"><a href="#ç”¨æˆ·åå’Œå¯†ç ç™»å½•æ¥å£" class="header-anchor">#</a> ç”¨æˆ·åå’Œå¯†ç ç™»å½•æ¥å£</h3> <p><strong>åŸºæœ¬ä¿¡æ¯</strong></p> <p><strong>Pathï¼š</strong> /login</p> <p><strong>Methodï¼š</strong> POST</p> <p><strong>æ¥å£æè¿°ï¼š</strong></p> <p>ç™»å½•æˆåŠŸåï¼Œåå°è¿”å›çš„ tokenï¼Œè¯·åœ¨æœ¬åœ°ä¿å­˜ï¼Œå¹¶åœ¨æ¯æ¬¡è¯·æ±‚æ¥å£æ—¶åœ¨ Header ä¸­æºå¸¦ä¸Šã€‚</p> <p><strong>è¯·æ±‚å‚æ•°</strong></p> <p><strong>Body</strong></p> <table><thead><tr><th>åç§°</th> <th>ç±»å‹</th> <th>æ˜¯å¦å¿…é¡»</th> <th>é»˜è®¤å€¼</th> <th>å¤‡æ³¨</th> <th>å…¶ä»–ä¿¡æ¯</th></tr></thead> <tbody><tr><td>account</td> <td>string</td> <td>å¿…é¡»</td> <td></td> <td>ç”¨æˆ·åæˆ–æ‰‹æœºå·</td> <td>undefined: ceshi</td></tr> <tr><td>password</td> <td>string</td> <td>å¿…é¡»</td> <td></td> <td>å¯†ç </td> <td>undefined: 123456</td></tr></tbody></table> <h3 id="å‘é€ç™»å½•è¯·æ±‚"><a href="#å‘é€ç™»å½•è¯·æ±‚" class="header-anchor">#</a> å‘é€ç™»å½•è¯·æ±‚</h3> <p>ä¿®æ”¹æ–‡ä»¶ï¼š<code>src/store/modules/member.ts</code></p> <div class="language-jsx extra-class"><pre class="language-jsx"><code><span class="token keyword">import</span> <span class="token punctuation">{</span> http <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&quot;@/utils/request&quot;</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token punctuation">{</span> defineStore <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&quot;pinia&quot;</span><span class="token punctuation">;</span>

<span class="token keyword">const</span> useMemberStore <span class="token operator">=</span> <span class="token function">defineStore</span><span class="token punctuation">(</span><span class="token string">&quot;member&quot;</span><span class="token punctuation">,</span><span class="token punctuation">{</span>
  <span class="token comment">// çŠ¶æ€</span>
  <span class="token function-variable function">state</span><span class="token operator">:</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">(</span><span class="token punctuation">{</span>
    <span class="token literal-property property">profile</span><span class="token operator">:</span> <span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
  <span class="token comment">// è®¡ç®—</span>
  <span class="token literal-property property">getters</span><span class="token operator">:</span> <span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token comment">// æ–¹æ³•</span>
  <span class="token literal-property property">actions</span><span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token comment">// ç”¨æˆ·åå’Œå¯†ç ç™»å½•</span>
    <span class="token keyword">async</span> <span class="token function">login</span><span class="token punctuation">(</span><span class="token parameter"><span class="token literal-property property">data</span><span class="token operator">:</span> <span class="token punctuation">{</span> <span class="token literal-property property">account</span><span class="token operator">:</span> string<span class="token punctuation">;</span> password<span class="token operator">:</span> string <span class="token punctuation">}</span></span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token keyword">const</span> res <span class="token operator">=</span> <span class="token keyword">await</span> <span class="token function">http</span><span class="token punctuation">(</span><span class="token string">&quot;POST&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;/login&quot;</span><span class="token punctuation">,</span> data<span class="token punctuation">)</span><span class="token punctuation">;</span>
      console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">&quot;/login&quot;</span><span class="token punctuation">,</span> res<span class="token punctuation">.</span>data<span class="token punctuation">.</span>result<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token keyword">export</span> <span class="token keyword">default</span> useMemberStore<span class="token punctuation">;</span>

</code></pre></div><p>3ï¼‰ç™»å½•è¡¨å•è°ƒç”¨</p> <p><code>login-form.vue</code></p> <div class="language-jsx extra-class"><pre class="language-jsx"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span> <span class="token attr-name">setup</span> <span class="token attr-name">lang</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>ts<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token plain-text">
import { reactive, ref } from &quot;vue&quot;;
import useStore from &quot;@/store&quot;;

const isAgree = ref(false);
const form = reactive({
  account: &quot;sujiehao&quot;,
  password: &quot;123456&quot;,
});

const { member } = useStore();
const login = async () =&gt; {
  if (!form.account) {
    return message({ type: &quot;error&quot;, text: &quot;ç”¨æˆ·åæˆ–æ‰‹æœºå·ä¸èƒ½ä¸ºç©º&quot; });
  }
  if (!form.password) {
    return message({ type: &quot;error&quot;, text: &quot;å¯†ç ä¸èƒ½ä¸ºç©º&quot; });
  }
  if (!isAgree.value) {
    return message({ type: &quot;error&quot;, text: &quot;è¯·åŒæ„è®¸å¯&quot; });
  }
  // å‘é€ç™»å½•è¯·æ±‚
  await member.login(form);
};
</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">&gt;</span></span>

</code></pre></div><h3 id="å®šä¹‰tsç±»å‹"><a href="#å®šä¹‰tsç±»å‹" class="header-anchor">#</a> å®šä¹‰TSç±»å‹</h3> <p>æ–°å¢ç±»å‹æ–‡ä»¶ï¼š<code>src\types\api\member.d.ts</code></p> <div class="language-ts extra-class"><pre class="language-ts"><code><span class="token keyword">export</span> <span class="token keyword">interface</span> <span class="token class-name">Profile</span> <span class="token punctuation">{</span>
  id<span class="token operator">:</span> <span class="token builtin">string</span><span class="token punctuation">;</span>
  account<span class="token operator">:</span> <span class="token builtin">string</span><span class="token punctuation">;</span>
  mobile<span class="token operator">:</span> <span class="token builtin">string</span><span class="token punctuation">;</span>
  token<span class="token operator">:</span> <span class="token builtin">string</span><span class="token punctuation">;</span>
  avatar<span class="token operator">:</span> <span class="token builtin">string</span><span class="token punctuation">;</span>
  nickname<span class="token operator">:</span> <span class="token builtin">string</span><span class="token punctuation">;</span>
  gender<span class="token operator">:</span> <span class="token builtin">string</span><span class="token punctuation">;</span>
  birthday<span class="token operator">:</span> <span class="token builtin">string</span><span class="token punctuation">;</span>
  cityCode<span class="token operator">:</span> <span class="token builtin">string</span><span class="token punctuation">;</span>
  provinceCode<span class="token operator">:</span> <span class="token builtin">string</span><span class="token punctuation">;</span>
  profession<span class="token operator">:</span> <span class="token builtin">string</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

</code></pre></div><p>åº”ç”¨ç±»å‹ï¼š</p> <div class="language-ts extra-class"><pre class="language-ts"><code><span class="token keyword">import</span> <span class="token keyword">type</span> <span class="token punctuation">{</span> Profile <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&quot;@/types&quot;</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token punctuation">{</span> http <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&quot;@/utils/request&quot;</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token punctuation">{</span> defineStore <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&quot;pinia&quot;</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token punctuation">{</span> message <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&quot;@/components/XtxUI&quot;</span><span class="token punctuation">;</span>
<span class="token comment">// ğŸ¯é vue ç»„ä»¶ï¼Œå¯¼å…¥è·¯ç”±å®ä¾‹</span>
<span class="token keyword">import</span> router <span class="token keyword">from</span> <span class="token string">&quot;@/router&quot;</span><span class="token punctuation">;</span>

<span class="token keyword">const</span> useMemberStore <span class="token operator">=</span> <span class="token function">defineStore</span><span class="token punctuation">(</span><span class="token string">&quot;member&quot;</span><span class="token punctuation">,</span> <span class="token punctuation">{</span>
  <span class="token comment">// çŠ¶æ€</span>
  <span class="token function-variable function">state</span><span class="token operator">:</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">(</span><span class="token punctuation">{</span>
    <span class="token comment">// ç”¨æˆ·ä¿¡æ¯</span>
    profile<span class="token operator">:</span> <span class="token punctuation">{</span><span class="token punctuation">}</span> <span class="token keyword">as</span> Profile<span class="token punctuation">,</span>
  <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
  <span class="token comment">// è®¡ç®—</span>
  getters<span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token comment">// æ˜¯å¦ç™»å½•</span>
    <span class="token function">isLogin</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">:</span> <span class="token builtin">boolean</span> <span class="token punctuation">{</span>
      <span class="token keyword">return</span> <span class="token function">Boolean</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>profile<span class="token punctuation">.</span>token<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token comment">// æ–¹æ³•</span>
  actions<span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token comment">// ç”¨æˆ·åå’Œå¯†ç ç™»å½•</span>
    <span class="token keyword">async</span> <span class="token function">login</span><span class="token punctuation">(</span>data<span class="token operator">:</span> <span class="token punctuation">{</span> account<span class="token operator">:</span> <span class="token builtin">string</span><span class="token punctuation">;</span> password<span class="token operator">:</span> <span class="token builtin">string</span> <span class="token punctuation">}</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token keyword">const</span> res <span class="token operator">=</span> <span class="token keyword">await</span> <span class="token generic-function"><span class="token function">http</span><span class="token generic class-name"><span class="token operator">&lt;</span>Profile<span class="token operator">&gt;</span></span></span><span class="token punctuation">(</span><span class="token string">&quot;POST&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;/login&quot;</span><span class="token punctuation">,</span> data<span class="token punctuation">)</span><span class="token punctuation">;</span>
      <span class="token comment">// 1. ä¿å­˜ç”¨æˆ·ä¿¡æ¯åˆ° state ä¸­</span>
      <span class="token keyword">this</span><span class="token punctuation">.</span>profile <span class="token operator">=</span> res<span class="token punctuation">.</span>data<span class="token punctuation">.</span>result<span class="token punctuation">;</span>
      <span class="token comment">// 2. è¯·æ±‚æˆåŠŸç»™ç”¨æˆ·æç¤º</span>
      <span class="token function">message</span><span class="token punctuation">(</span><span class="token punctuation">{</span> type<span class="token operator">:</span> <span class="token string">&quot;success&quot;</span><span class="token punctuation">,</span> text<span class="token operator">:</span> <span class="token string">&quot;ç™»å½•æˆåŠŸ&quot;</span> <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
      <span class="token comment">// 3. è·³è½¬é¡µé¢</span>
      router<span class="token punctuation">.</span><span class="token function">push</span><span class="token punctuation">(</span><span class="token string">'/'</span><span class="token punctuation">)</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token keyword">export</span> <span class="token keyword">default</span> useMemberStore<span class="token punctuation">;</span>

</code></pre></div><h3 id="æŒä¹…åŒ–å­˜å‚¨"><a href="#æŒä¹…åŒ–å­˜å‚¨" class="header-anchor">#</a> æŒä¹…åŒ–å­˜å‚¨</h3> <p>ç™»å½•æˆåŠŸåï¼ŒæŠŠç”¨æˆ·ä¿¡æ¯ä¿å­˜åˆ°æœ¬åœ°ã€‚(æœ¬åœ°å’Œpiniaéƒ½ä¿å­˜)</p> <h3 id="ç”¨æˆ·ä¿¡æ¯æ¸²æŸ“"><a href="#ç”¨æˆ·ä¿¡æ¯æ¸²æŸ“" class="header-anchor">#</a> ç”¨æˆ·ä¿¡æ¯æ¸²æŸ“</h3> <p>ç”¨æˆ·ä¿¡æ¯æ¸²æŸ“ï¼š  <code>Layout/components/app-topnav.vue</code></p> <div class="language-html extra-class"><pre class="language-html"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span> <span class="token attr-name">setup</span> <span class="token attr-name">lang</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>ts<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token script"><span class="token language-javascript">
<span class="token keyword">import</span> useStore <span class="token keyword">from</span> <span class="token string">&quot;@/store&quot;</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token punctuation">{</span> storeToRefs <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&quot;pinia&quot;</span><span class="token punctuation">;</span>

<span class="token keyword">const</span> <span class="token punctuation">{</span> member <span class="token punctuation">}</span> <span class="token operator">=</span> <span class="token function">useStore</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">// storeToRefs è§£æ„å‡ºæ¥çš„æ•°æ®è¿˜èƒ½ä¿æŒå“åº”å¼</span>
<span class="token keyword">const</span> <span class="token punctuation">{</span> profile <span class="token punctuation">}</span> <span class="token operator">=</span> <span class="token function">storeToRefs</span><span class="token punctuation">(</span>member<span class="token punctuation">)</span><span class="token punctuation">;</span>
</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">&gt;</span></span>

<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>template</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>nav</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>app-topnav<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>container<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>ul</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>template</span> <span class="token attr-name">v-if</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>member.isLogin<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
          <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>li</span><span class="token punctuation">&gt;</span></span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>a</span> <span class="token attr-name">href</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>javascript:;<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
              <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>i</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>iconfont icon-user<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>i</span><span class="token punctuation">&gt;</span></span>
              {{ profile.nickname || profile.account || profile.mobile  }}
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>a</span><span class="token punctuation">&gt;</span></span>
          <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>li</span><span class="token punctuation">&gt;</span></span>
          <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>li</span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>a</span> <span class="token attr-name">href</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>javascript:;<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>é€€å‡ºç™»å½•<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>a</span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>li</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>template</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>template</span> <span class="token attr-name">v-else</span><span class="token punctuation">&gt;</span></span>
          <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>li</span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>RouterLink</span> <span class="token attr-name">to</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>/login<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>è¯·å…ˆç™»å½•<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>RouterLink</span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>li</span><span class="token punctuation">&gt;</span></span>
          <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>li</span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>a</span> <span class="token attr-name">href</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>javascript:;<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>å…è´¹æ³¨å†Œ<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>a</span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>li</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>template</span><span class="token punctuation">&gt;</span></span>
        ...
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>ul</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>nav</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>template</span><span class="token punctuation">&gt;</span></span>
</code></pre></div><h2 id="é€€å‡ºç™»å½•å®ç°"><a href="#é€€å‡ºç™»å½•å®ç°" class="header-anchor">#</a> é€€å‡ºç™»å½•å®ç°</h2> <p><code>æœ¬èŠ‚ç›®æ ‡:</code>  å®ç°è´¦æˆ·åå¯†ç ç™»å½•åŠŸèƒ½</p> <p>1 æä¾› actionsï¼Œ æ¸…ç©ºç”¨æˆ·æ•°æ® ï¼ˆæœ¬åœ°å’Œpiniaéƒ½æ¸…ç©ºï¼‰</p> <div class="language-jsx extra-class"><pre class="language-jsx"><code><span class="token literal-property property">actions</span><span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token comment">// é€€å‡ºç™»å½•</span>
    <span class="token keyword">async</span> <span class="token function">logout</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token comment">// 1. æ¸…ç† Pinia ç”¨æˆ·ä¿¡æ¯</span>
      <span class="token keyword">this</span><span class="token punctuation">.</span>profile <span class="token operator">=</span> <span class="token punctuation">{</span><span class="token punctuation">}</span> <span class="token keyword">as</span> Profile<span class="token punctuation">;</span>
      <span class="token comment">// 2. æç¤ºç”¨æˆ·</span>
      <span class="token function">message</span><span class="token punctuation">(</span><span class="token punctuation">{</span> <span class="token literal-property property">type</span><span class="token operator">:</span> <span class="token string">'success'</span><span class="token punctuation">,</span> <span class="token literal-property property">text</span><span class="token operator">:</span> <span class="token string">'é€€å‡ºæˆåŠŸ'</span> <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
      <span class="token comment">// 3. è·³è½¬é¡µé¢</span>
      router<span class="token punctuation">.</span><span class="token function">push</span><span class="token punctuation">(</span><span class="token string">&quot;/login&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">,</span>
</code></pre></div><ol start="2"><li>é¡µé¢ä¸­è°ƒç”¨</li></ol> <div class="language-html extra-class"><pre class="language-html"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>template</span> <span class="token attr-name">v-if</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>profile.isLogin<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>li</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>a</span> <span class="token attr-name">href</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>javascript:;<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>i</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>iconfont icon-user<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>i</span><span class="token punctuation">&gt;</span></span>
      {{ profile.nickname || profile.account || profile.mobile  }}
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>a</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>li</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>li</span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>a</span> <span class="token attr-name">@click</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>member.logout()<span class="token punctuation">&quot;</span></span> <span class="token attr-name">href</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>javascript:;<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>é€€å‡ºç™»å½•<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>a</span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>li</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>template</span><span class="token punctuation">&gt;</span></span>
</code></pre></div><h2 id="ä¼˜åŒ–-ç™»å½•æˆåŠŸé¡µé¢å›è·³"><a href="#ä¼˜åŒ–-ç™»å½•æˆåŠŸé¡µé¢å›è·³" class="header-anchor">#</a> ä¼˜åŒ–ï¼šç™»å½•æˆåŠŸé¡µé¢å›è·³</h2> <p><code>src\views\Layout\components\app-topnav.vue</code></p> <div class="language-jsx extra-class"><pre class="language-jsx"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>template</span><span class="token punctuation">&gt;</span></span><span class="token plain-text">
  </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span><span class="token class-name">RouterLink</span></span> <span class="token attr-name">:to</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>`/login?target=${$route.fullPath}`<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token plain-text">
    è¯·å…ˆç™»å½•
  </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span><span class="token class-name">RouterLink</span></span><span class="token punctuation">&gt;</span></span><span class="token plain-text">
</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>template</span><span class="token punctuation">&gt;</span></span>
</code></pre></div><p>ç™»å½•æˆåŠŸåè·³è½¬å¤„ç†</p> <div class="language-jsx extra-class"><pre class="language-jsx"><code><span class="token keyword">const</span> useMemberStore <span class="token operator">=</span> <span class="token function">defineStore</span><span class="token punctuation">(</span><span class="token string">&quot;member&quot;</span><span class="token punctuation">,</span><span class="token punctuation">{</span>
  <span class="token operator">...</span>
  <span class="token comment">// æ–¹æ³•</span>
  <span class="token literal-property property">actions</span><span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token comment">// ç”¨æˆ·åå¯†ç ç™»å½•</span>
    <span class="token keyword">async</span> <span class="token function">login</span><span class="token punctuation">(</span><span class="token parameter"><span class="token literal-property property">data</span><span class="token operator">:</span> <span class="token punctuation">{</span> <span class="token literal-property property">account</span><span class="token operator">:</span> string<span class="token punctuation">;</span> password<span class="token operator">:</span> string <span class="token punctuation">}</span></span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token operator">...</span>
      <span class="token comment">// ğŸ› åœ¨é .vue ç»„ä»¶ä¸­ useRoute() è¿”å› undefinedï¼Œæ²¡æ³•è·å–å½“å‰è·¯ç”±ä¿¡æ¯</span>
      <span class="token comment">// ğŸ“Œ è§£å†³æ–¹æ¡ˆï¼Œé€šè¿‡ router è·¯ç”±å®ä¾‹ currentRoute è·å–</span>
      <span class="token keyword">const</span> <span class="token punctuation">{</span> target <span class="token operator">=</span> <span class="token string">&quot;/&quot;</span> <span class="token punctuation">}</span> <span class="token operator">=</span> router<span class="token punctuation">.</span>currentRoute<span class="token punctuation">.</span>value<span class="token punctuation">.</span>query<span class="token punctuation">;</span>
      <span class="token comment">// è·³è½¬åˆ°æŒ‡å®šåœ°å€</span>
      router<span class="token punctuation">.</span><span class="token function">push</span><span class="token punctuation">(</span>target <span class="token keyword">as</span> string<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

</code></pre></div><h2 id="è¯·æ±‚æ‹¦æˆªå™¨å’Œå“åº”æ‹¦æˆªå™¨"><a href="#è¯·æ±‚æ‹¦æˆªå™¨å’Œå“åº”æ‹¦æˆªå™¨" class="header-anchor">#</a> è¯·æ±‚æ‹¦æˆªå™¨å’Œå“åº”æ‹¦æˆªå™¨</h2> <h3 id="è¯·æ±‚æ‹¦æˆªå™¨-è¯·æ±‚æˆåŠŸæºå¸¦-token"><a href="#è¯·æ±‚æ‹¦æˆªå™¨-è¯·æ±‚æˆåŠŸæºå¸¦-token" class="header-anchor">#</a> è¯·æ±‚æ‹¦æˆªå™¨ - è¯·æ±‚æˆåŠŸæºå¸¦ token</h3> <p>å®Œå–„è¯·æ±‚æ‹¦æˆªå™¨ <code>utils/request.ts</code></p> <div class="language-jsx extra-class"><pre class="language-jsx"><code><span class="token comment">// å®˜æ–¹è¯´æ˜ï¼šhttps://pinia.vuejs.org/core-concepts/outside-component-usage.html</span>
<span class="token comment">// âŒ éç»„ä»¶ä¸­ï¼ŒPinia å¸¸è§é”™è¯¯å†™æ³•</span>
<span class="token comment">// const { member } = useStore();</span>

<span class="token comment">// æ·»åŠ è¯·æ±‚æ‹¦æˆªå™¨</span>
instance<span class="token punctuation">.</span>interceptors<span class="token punctuation">.</span>request<span class="token punctuation">.</span><span class="token function">use</span><span class="token punctuation">(</span>
  <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token parameter">config</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token comment">// åœ¨å‘é€è¯·æ±‚ä¹‹å‰åšäº›ä»€ä¹ˆ</span>
    <span class="token comment">// âœ… åœ¨ç»„ä»¶å¤–ï¼Œå“ªé‡Œä½¿ç”¨ï¼Œå†™å“ªé‡Œ(æ¶ˆè´¹å‰è·å–)</span>
    <span class="token keyword">const</span> <span class="token punctuation">{</span> member <span class="token punctuation">}</span> <span class="token operator">=</span> <span class="token function">useStore</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token comment">// 1. è·å–token</span>
    <span class="token keyword">const</span> <span class="token punctuation">{</span> token <span class="token punctuation">}</span> <span class="token operator">=</span> member<span class="token punctuation">.</span>profile<span class="token punctuation">;</span>
    <span class="token comment">// 2. token å’Œ headers çš„éç©ºåˆ¤æ–­</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span>token <span class="token operator">&amp;&amp;</span> config<span class="token punctuation">.</span>headers<span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token comment">// 3. è¯·æ±‚å¤´ä¸­æºå¸¦ token ä¿¡æ¯</span>
      config<span class="token punctuation">.</span>headers<span class="token punctuation">.</span>Authorization <span class="token operator">=</span> <span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">Bearer </span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>token<span class="token interpolation-punctuation punctuation">}</span></span><span class="token template-punctuation string">`</span></span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    <span class="token keyword">return</span> config<span class="token punctuation">;</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token parameter">error</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token comment">// å¯¹è¯·æ±‚é”™è¯¯åšäº›ä»€ä¹ˆ</span>
    <span class="token keyword">return</span> Promise<span class="token punctuation">.</span><span class="token function">reject</span><span class="token punctuation">(</span>error<span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><h3 id="å“åº”æ‹¦æˆªå™¨-è¯·æ±‚å¤±è´¥æç¤ºç”¨æˆ·"><a href="#å“åº”æ‹¦æˆªå™¨-è¯·æ±‚å¤±è´¥æç¤ºç”¨æˆ·" class="header-anchor">#</a> å“åº”æ‹¦æˆªå™¨ - è¯·æ±‚å¤±è´¥æç¤ºç”¨æˆ·</h3> <p>å“åº”æ‹¦æˆªå™¨ï¼Œæ·»åŠ é”™è¯¯æç¤º</p> <div class="language-jsx extra-class"><pre class="language-jsx"><code><span class="token keyword">import</span> <span class="token punctuation">{</span> message <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">'@/components/Message'</span>

<span class="token comment">// æ·»åŠ å“åº”æ‹¦æˆªå™¨</span>
instance<span class="token punctuation">.</span>interceptors<span class="token punctuation">.</span>response<span class="token punctuation">.</span><span class="token function">use</span><span class="token punctuation">(</span>
 <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token parameter">response</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token comment">// å¦‚æœè¯·æ±‚æˆåŠŸæˆåŠŸ 2xx å°±ç›´æ¥è¿”å› data ä¸­çš„æ•°æ®</span>
   <span class="token keyword">return</span> response
 <span class="token punctuation">}</span><span class="token punctuation">,</span>
 <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token parameter">error</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token comment">// å¯¹å“åº”é”™è¯¯åšç‚¹ä»€ä¹ˆ</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span>error<span class="token punctuation">.</span>code <span class="token operator">===</span> <span class="token string">'ERR_NETWORK'</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token comment">// æ— ç½‘ç»œï¼Œé”™è¯¯æç¤º</span>
      <span class="token function">message</span><span class="token punctuation">(</span><span class="token punctuation">{</span> <span class="token literal-property property">type</span><span class="token operator">:</span> <span class="token string">'error'</span><span class="token punctuation">,</span> <span class="token literal-property property">text</span><span class="token operator">:</span> <span class="token string">'äº²ï¼Œæ¢ä¸ªç½‘ç»œè¯•è¯•~'</span> <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>
      <span class="token comment">// æœ‰ç½‘ç»œï¼Œä½†åç«¯è®¤ä¸ºæœ‰é”™è¯¯ï¼Œæç¤ºåç«¯å“åº”çš„é”™è¯¯</span>
      <span class="token function">message</span><span class="token punctuation">(</span><span class="token punctuation">{</span> <span class="token literal-property property">type</span><span class="token operator">:</span> <span class="token string">'error'</span><span class="token punctuation">,</span> <span class="token literal-property property">text</span><span class="token operator">:</span> error<span class="token punctuation">.</span>response<span class="token punctuation">.</span>data<span class="token punctuation">.</span>message <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    <span class="token comment">// æ§åˆ¶å°æ˜¾ç¤ºé”™è¯¯</span>
    <span class="token keyword">return</span> Promise<span class="token punctuation">.</span><span class="token function">reject</span><span class="token punctuation">(</span>error<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>

</code></pre></div><h2 id="qqä¸‰æ–¹ç™»å½•-å‰ç½®ç¯å¢ƒå’Œäº¤äº’"><a href="#qqä¸‰æ–¹ç™»å½•-å‰ç½®ç¯å¢ƒå’Œäº¤äº’" class="header-anchor">#</a> QQä¸‰æ–¹ç™»å½• - å‰ç½®ç¯å¢ƒå’Œäº¤äº’</h2> <h3 id="ç™»å½•ç®€è¦æµç¨‹æ¢³ç†"><a href="#ç™»å½•ç®€è¦æµç¨‹æ¢³ç†" class="header-anchor">#</a> ç™»å½•ç®€è¦æµç¨‹æ¢³ç†</h3> <p><code>æœ¬èŠ‚ç›®æ ‡:</code>   æŒæ¡ç¬¬ä¸‰æ–¹ç™»å½•çš„å®ç°æµç¨‹</p> <p><img src="/vuepress-starter/assets/img/06-1628025535476.57fbfa34.png" alt=""></p> <ol><li>åœ¨ç™»å½•é¡µé¢ï¼ŒQQç™»å½•æŒ‰é’®å¤„ï¼Œæ·»åŠ ä¸ªè¶…é“¾æ¥ï¼Œèµ‹äºˆå…¶æ‰“å¼€QQç™»å½•é¡µé¢åŠŸèƒ½</li> <li>å›è·³çš„é¡µé¢å¾—åˆ°QQç»™çš„å”¯ä¸€æ ‡è¯† openIdï¼Œæ ¹æ®openIdå»åå°æŸ¥è¯¢æ˜¯å¦å·²ç»ç»‘å®šè¿‡è´¦æˆ·
<ul><li>å¦‚æœç»‘å®šè¿‡ï¼Œå®Œæˆç™»å½•</li> <li>æ²¡æœ‰ç»‘å®šè¿‡
<ul><li>æœ‰è´¦å·çš„ï¼Œç»‘å®šæ‰‹æœºå·ï¼Œå³ä¸ºç™»å½•</li> <li>æ²¡è´¦å·çš„ï¼Œå®Œå–„è´¦æˆ·ä¿¡æ¯ï¼Œæ³¨å†Œåç™»å½•</li></ul></li></ul></li> <li>ç™»å½•æˆåŠŸåï¼Œè·³è½¬é¦–é¡µæˆ–è€…æ¥æºé¡µé¢</li></ol> <h3 id="ç”³è¯·æµç¨‹"><a href="#ç”³è¯·æµç¨‹" class="header-anchor">#</a> ç”³è¯·æµç¨‹</h3> <p>1ï¼‰å‚è€ƒæ–‡æ¡£</p> <ol><li><a href="https://wiki.connect.qq.com/%E5%87%86%E5%A4%87%E5%B7%A5%E4%BD%9C_oauth2-0" target="_blank" rel="noopener noreferrer">å‡†å¤‡å·¥ä½œ(opens new window)<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li> <li><a href="https://wiki.connect.qq.com/js_sdk%E4%BD%BF%E7%94%A8%E8%AF%B4%E6%98%8E#3..E8.87.AA.E5.AE.9A.E4.B9.89.E7.99.BB.E5.BD.95.E6.8C.89.E9.92.AE" target="_blank" rel="noopener noreferrer">QQäº’è”JS_SDK(opens new window)<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li></ol> <p>2ï¼‰å¤§æ¦‚æ­¥éª¤</p> <ol><li>å‡†å¤‡ä¸€ä¸ªå·²ç»<strong>å¤‡æ¡ˆ</strong>çš„ç½‘ç«™éœ€è¦æœ‰ <code>QQ</code> ç™»å½•çš„é€»è¾‘ï¼ˆç™»å½•é¡µé¢ï¼Œå›è·³é¡µé¢ï¼‰</li> <li>ç„¶ååœ¨ <code>QQ</code> äº’è”ä¸Šè¿›è¡Œ<code>èº«ä»½è®¤è¯</code>ï¼Œå¹¶ä¸”<code>å®¡æ ¸é€šè¿‡</code></li> <li>åœ¨ <code>QQ</code> äº’è”ä¸Šåˆ›å»ºåº”ç”¨ï¼Œåº”ç”¨éœ€è¦åŸŸåï¼Œå¤‡æ¡ˆå·ï¼Œ<strong>å›è°ƒåœ°å€</strong>ç­‰</li> <li>ç­‰å¾…äººå·¥å®¡æ ¸ï¼Œå®¡æ ¸é€šè¿‡ä¼šå¾—åˆ° <code>åº”ç”¨ID</code> <code>å›è°ƒåœ°å€</code> , <code>åº”ç”¨key</code> åç«¯ä½¿ç”¨ã€‚</li> <li>å¸®å¤§å®¶ç”³è¯·çš„ç»“æœå¦‚ä¸‹ï¼š</li></ol> <div class="language-sh extra-class"><pre class="language-sh"><code><span class="token comment"># æµ‹è¯•ç”¨ appid </span>
<span class="token comment"># 100556005</span>

<span class="token comment"># æµ‹è¯•ç”¨ redirect_uri</span>
<span class="token comment"># http://www.corho.com:8080/#/login/callback</span>
</code></pre></div><h3 id="å¸¸è§ç–‘é—®â“"><a href="#å¸¸è§ç–‘é—®â“" class="header-anchor">#</a> å¸¸è§ç–‘é—®â“</h3> <ol><li>è¿™ä¸ªç”³è¯·å·¥ä½œä¸€èˆ¬ç”±è°å»åšï¼Ÿ
<ul><li>å…¬å¸çš„è¿ç»´ ï¼ˆè´Ÿè´£ç®¡ç†å…¬å¸è´¦å·çš„äººï¼‰</li></ul></li> <li>ç”³è¯·ä¸‹æ¥çš„ idï¼Œåº”ç”¨ keyï¼Œå›è°ƒåœ°å€ uri  èƒ½æ”¹å—ï¼Ÿ
<ol><li>éƒ½ä¸èƒ½ä¿®æ”¹ï¼Œå¦åˆ™æ— æ•ˆã€‚</li> <li>ğŸ› å›è°ƒåœ°å€ uri çš„åŒ…å«<strong>å››éƒ¨åˆ†</strong>ï¼š 1. åŸŸåï¼Œ2. ç«¯å£å·  3. å“ˆå¸Œè·¯ç”±æ¨¡å¼  4. è·¯ç”±åœ°å€ <strong>éƒ½å¿…é¡»å®Œå…¨ä¸€è‡´</strong>ï¼Œå¦åˆ™ä¸èƒ½å±•ç¤ºã€‚</li></ol></li> <li>ğŸš¨ è®¿é—® http://www.corho.com:8080/ çœ‹ä¸åˆ°å†…å®¹ï¼Ÿ
<ol><li>ä¿®æ”¹è„šæ‰‹æ¶ <code>vite.config.ts</code> é…ç½®ã€‚</li> <li>ä¿®æ”¹ç”µè„‘çš„ <code>host</code> æ–‡ä»¶ï¼Œè®¿é—®æœ¬åœ°æœåŠ¡å™¨ã€‚</li></ol></li></ol> <h2 id="qqä¸‰æ–¹ç™»å½•-ç”µè„‘ç¯å¢ƒè®¾ç½®ğŸš¨"><a href="#qqä¸‰æ–¹ç™»å½•-ç”µè„‘ç¯å¢ƒè®¾ç½®ğŸš¨" class="header-anchor">#</a> QQä¸‰æ–¹ç™»å½•-ç”µè„‘ç¯å¢ƒè®¾ç½®ğŸš¨</h2> <blockquote><p>ç›®æ ‡ï¼šæµè§ˆå™¨è®¿é—® http://www.corho.com:8080/#/login/callback åœ°å€ï¼Œèƒ½æ‰“å¼€æ­£åœ¨å¼€å‘çš„æœ¬åœ° <code>Vue</code> é¡¹ç›®ã€‚</p></blockquote> <h3 id="æ ¸å¿ƒæ­¥éª¤"><a href="#æ ¸å¿ƒæ­¥éª¤" class="header-anchor">#</a> æ ¸å¿ƒæ­¥éª¤</h3> <ol><li>ä¿®æ”¹è„šæ‰‹æ¶ <code>vite.config.ts</code> é…ç½®ã€‚</li> <li>ä¿®æ”¹ç”µè„‘çš„ <code>host</code> æ–‡ä»¶ã€‚</li></ol> <h3 id="ç¬¬ä¸€æ­¥-ä¿®æ”¹-vite-é…ç½®"><a href="#ç¬¬ä¸€æ­¥-ä¿®æ”¹-vite-é…ç½®" class="header-anchor">#</a> ç¬¬ä¸€æ­¥ï¼šä¿®æ”¹ <code>vite</code> é…ç½®</h3> <p>ä¿®æ”¹ <code>vite.config.ts</code> æ–‡ä»¶ï¼š</p> <div class="language-ts extra-class"><pre class="language-ts"><code><span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token function">defineConfig</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
  <span class="token comment">// é…ç½®å¼€å‘æœåŠ¡å™¨</span>
  server<span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token comment">// QQä¸‰æ–¹ç™»å½•çš„å›è°ƒuriä¸ºï¼šhttp://www.corho.com:8080/#/login/callback</span>
    <span class="token comment">// vite ä¸­é…ç½®ï¼š www.corho.com:8080</span>
    host<span class="token operator">:</span> <span class="token string">&quot;www.corho.com&quot;</span><span class="token punctuation">,</span>
    port<span class="token operator">:</span> <span class="token number">8080</span><span class="token punctuation">,</span>
    <span class="token comment">// å…¶ä»–æœ‰ä»·å€¼çš„é…ç½®é¡¹</span>
    open<span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span> <span class="token comment">// å¸®æˆ‘ä»¬æ‰“å¼€æµè§ˆå™¨</span>
    cors<span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span> <span class="token comment">// å…è®¸å¼€å‘æ—¶ ajax è·¨åŸŸ</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token operator">...</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><h3 id="ç¬¬äºŒæ­¥-ä¿®æ”¹-host-æ–‡ä»¶"><a href="#ç¬¬äºŒæ­¥-ä¿®æ”¹-host-æ–‡ä»¶" class="header-anchor">#</a> ç¬¬äºŒæ­¥ï¼šä¿®æ”¹ <code>host</code> æ–‡ä»¶</h3> <h4 id="windows-ç³»ç»Ÿ"><a href="#windows-ç³»ç»Ÿ" class="header-anchor">#</a> windows ç³»ç»Ÿ</h4> <p>ğŸ””æé†’ï¼šä¿®æ”¹ç”µè„‘é…ç½®ï¼Œéœ€è¦å…ˆé€€å‡º 360 æˆ– å„ç§ç®¡å®¶ å„ç§ æ€æ¯’è½¯ä»¶</p> <p>ğŸ””æé†’ï¼šå¦‚æœä¿®æ”¹ hosts æ–‡ä»¶æœ‰å¼¹çª—è­¦å‘Šï¼Œç‚¹å‡»ä¿¡ä»»ï¼ˆå› ä¸ºè¿™æ˜¯æˆ‘ä»¬è‡ªå·±è¿›è¡Œçš„å®‰å…¨æ“ä½œï¼‰</p> <div class="language-bash extra-class"><pre class="language-bash"><code><span class="token number">1</span>. æ‰¾åˆ° C:<span class="token punctuation">\</span>Windows<span class="token punctuation">\</span>System32<span class="token punctuation">\</span>drivers<span class="token punctuation">\</span>etc ä¸‹ hosts æ–‡ä»¶
<span class="token number">2</span>. åœ¨æ–‡ä»¶ä¸­åŠ å…¥  <span class="token number">127.0</span>.0.1    www.corho.com
<span class="token number">3</span>. ä¿å­˜å³å¯

<span class="token comment"># å¦‚æœæç¤ºæ²¡æœ‰æƒé™</span>
<span class="token number">1</span>. å°†hostsæ–‡ä»¶ç§»åˆ°æ¡Œé¢ï¼Œç„¶åè¿›è¡Œä¿®æ”¹ï¼Œç¡®è®¤ä¿å­˜ã€‚
<span class="token number">2</span>. å°†æ¡Œé¢hostsæ–‡ä»¶æ›¿æ¢cç›˜æ–‡ä»¶
</code></pre></div><h4 id="mac-os-ç³»ç»Ÿ"><a href="#mac-os-ç³»ç»Ÿ" class="header-anchor">#</a> mac OS ç³»ç»Ÿ</h4> <div class="language-bash extra-class"><pre class="language-bash"><code><span class="token number">1</span>. æ‰“å¼€å‘½ä»¤è¡Œçª—å£
<span class="token number">2</span>. è¾“å…¥ï¼šsudo <span class="token function">vim</span> /etc/hosts
<span class="token number">3</span>. æŒ‰ä¸‹ï¼ši é”®
<span class="token number">4</span>. è¾“å…¥ï¼š127.0.0.1       www.corho.com
<span class="token number">5</span>. æŒ‰ä¸‹ï¼šesc
<span class="token number">6</span>. æŒ‰ä¸‹ï¼šshift + <span class="token builtin class-name">:</span>
<span class="token number">7</span>. è¾“å…¥ï¼šwq å›è½¦å³å¯
</code></pre></div><h3 id="å…³é”®æ­¥éª¤éªŒè¯"><a href="#å…³é”®æ­¥éª¤éªŒè¯" class="header-anchor">#</a> å…³é”®æ­¥éª¤éªŒè¯</h3> <p>ğŸ“Œæ­¥éª¤éªŒè¯ï¼šæµè§ˆå™¨è®¿é—® <a href="http://www.corho.com:8080/#/" target="_blank" rel="noopener noreferrer">http://www.corho.com:8080/#/<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a> èƒ½çœ‹åˆ°è‡ªå·±å¼€å‘çš„ Vue3 é¡¹ç›®è¡¨ç¤ºæˆåŠŸã€‚</p> <h3 id="dns-è§£ææ¦‚å¿µ-äº†è§£"><a href="#dns-è§£ææ¦‚å¿µ-äº†è§£" class="header-anchor">#</a> DNS è§£ææ¦‚å¿µ - äº†è§£</h3> <blockquote><p>ç”±äºæœ¬åœ°æˆ‘ä»¬çš„ç½‘ç«™æ˜¯è®¿é—®<code>http://localhost:3000</code></p> <p>è€Œå›è°ƒåœ°å€çš„åŸŸåæ˜¯<code>http://www.corho.com:8080</code>ï¼Œä¿©ä¸ªåœ°å€ä¸ä¸€è‡´æ˜¯æ— æ³•è¿›è¡Œè·³è½¬çš„ï¼Œ</p> <p>éœ€è¦æˆ‘ä»¬ä¿®æ”¹æœ¬åœ°çš„ hosts æ–‡ä»¶ï¼Œè®©åŸŸåè®¿é—®æ—¶è§£æåˆ°æˆ‘ä»¬æœ¬åœ°çš„ipä¸Š</p> <p>DNS è§£æï¼šï¼ˆç½‘ç»œä¸­ï¼ŒæœåŠ¡å™¨ä¸è®¤åŸŸåçš„ï¼Œè®¤çš„æ˜¯ ipï¼‰ www.jd.com</p> <ol><li>ä½œç”¨æ˜¯å°†åŸŸååœ°å€è§£ææˆipåœ°å€</li> <li>ä¼˜å…ˆçº§  å…ˆä»¥æœ¬åœ°çš„ hosts æ–‡ä»¶ä¸ºä¸»  ç„¶åæ‰èµ°çº¿ä¸Šçš„dnsæœåŠ¡å™¨</li></ol></blockquote> <p>DSNè§£æè¯´æ˜</p> <p>DNSè§£æ: å°†åŸŸåè§£ææˆipåœ°å€çš„è¿‡ç¨‹ã€‚</p> <p>æƒ³çœ‹ä¸€ä¸ªç½‘ç«™ www.jd.com   =&gt;   ç”µè„‘ä¸çŸ¥é“ä»€ä¹ˆæ˜¯ www.jd.comï¼Œéœ€è¦è¯¢é—®çš„</p> <ol><li><p>å…ˆé—®æœ¬åœ° hosts æ–‡ä»¶ï¼ˆä¸€èˆ¬ä¸æ”¹ï¼‰ å¦‚æœæœ¬åœ°é…ç½®äº† åŸŸå å’Œ åœ°å€çš„æ˜ å°„å…³ç³»ï¼Œä¼˜å…ˆä½¿ç”¨ hosts ä¸­çš„æ˜ å°„</p> <div class="language- extra-class"><pre class="language-text"><code>127.0.0.1           www.jd.com
</code></pre></div></li> <li><p>å¦‚æœæœ¬åœ°hostsæ–‡ä»¶é‡Œé¢æ²¡é…ï¼ˆé»˜è®¤ä¸€èˆ¬éƒ½æ²¡é…ï¼‰æ¯”å¦‚ï¼šæ‰¾www.baidu.com</p> <div class="language- extra-class"><pre class="language-text"><code>ä¼šæ‰¾çº¿ä¸Šçš„ dns æœåŠ¡å™¨ï¼Œ dns æœåŠ¡å™¨å°±åƒä¸€ä¸ªå­—å…¸ï¼Œ å­—å…¸ä¸­è®°å½•å¤§é‡çš„ ç½‘ç«™åŸŸå å’Œ ç½‘ç«™ip çš„å¯¹åº”å…³ç³»

dns æœåŠ¡å™¨
112.80.248.75      www.baidu.com
xxx.xx.xxx.xx      www.xxx.com
</code></pre></div></li></ol> <h2 id="å›è·³é¡µé¢è·¯ç”±å‡†å¤‡"><a href="#å›è·³é¡µé¢è·¯ç”±å‡†å¤‡" class="header-anchor">#</a> å›è·³é¡µé¢è·¯ç”±å‡†å¤‡</h2> <p>å‰é¢çš„é…ç½®å®Œæˆäº†ï¼šhttp://www.corho.com:8080/#/</p> <p>æ¥ä¸‹æ¥åœ¨å®Œå–„ï¼šhttp://www.corho.com:8080/#/login/callback</p> <h3 id="é…ç½®è·¯ç”±å’Œç»„ä»¶"><a href="#é…ç½®è·¯ç”±å’Œç»„ä»¶" class="header-anchor">#</a> é…ç½®è·¯ç”±å’Œç»„ä»¶</h3> <p>æ–°å»ºç»„ä»¶ï¼š<code>views/Login/callback.vue</code></p> <div class="language-vue extra-class"><pre class="language-vue"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span> <span class="token attr-name">setup</span> <span class="token attr-name">lang</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>ts<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token script"><span class="token language-javascript">
<span class="token comment">//</span>
</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">&gt;</span></span>

<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>template</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>h1</span><span class="token punctuation">&gt;</span></span>ä¸‰æ–¹ç™»å½•çš„å›è·³é¡µé¢<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>h1</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>template</span><span class="token punctuation">&gt;</span></span>
</code></pre></div><p>é…ç½®è·¯ç”±ï¼š</p> <p>2ï¼‰ç»‘å®šè·¯ç”± (ä¸€çº§è·¯ç”±)</p> <div class="language-jsx extra-class"><pre class="language-jsx"><code><span class="token punctuation">{</span>
  <span class="token literal-property property">path</span><span class="token operator">:</span> <span class="token string">'/login/callback'</span><span class="token punctuation">,</span>
  <span class="token function-variable function">component</span><span class="token operator">:</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token keyword">import</span><span class="token punctuation">(</span><span class="token string">'@/views/Login/callback.vue'</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span><span class="token punctuation">,</span>
</code></pre></div><p>ğŸ“Œæ­¥éª¤éªŒè¯ï¼š<a href="http://www.corho.com:8080/#/login/callback" target="_blank" rel="noopener noreferrer">http://www.corho.com:8080/#/login/callback<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a> çœ‹åˆ°å›è°ƒé¡µé¢ç»„ä»¶ã€‚</p> <p>ğŸš¨å¸¸è§é”™è¯¯ï¼šæ²¡æœ‰ä½¿ç”¨ hash å“ˆå¸Œè·¯ç”±æ¨¡å¼ï¼Œæ— æ³•è¯†åˆ« # å“ˆå¸Œéƒ¨åˆ†è·¯å¾„ï¼Œè¯·æ£€æŸ¥å¹¶ä¿®æ­£ã€‚</p> <h2 id="qqæˆæƒç™»å½•å®ç°"><a href="#qqæˆæƒç™»å½•å®ç°" class="header-anchor">#</a> QQæˆæƒç™»å½•å®ç°</h2> <p><img src="/vuepress-starter/assets/img/image-20220222213438246.bf4ab26c.png" alt="image-20220222213438246"></p> <h3 id="æŒ‰é’®è·³è½¬å®ç°"><a href="#æŒ‰é’®è·³è½¬å®ç°" class="header-anchor">#</a> æŒ‰é’®è·³è½¬å®ç°</h3> <p>1ï¼‰åœ¨<code>index.html</code> å¼€å‘éœ€è¦çš„æ·»åŠ  <code>sdk.js</code>  æ–‡ä»¶å¯¼å…¥ã€‚</p> <div class="language-html extra-class"><pre class="language-html"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span> <span class="token attr-name">src</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>http://connect.qq.com/qc_jssdk.js<span class="token punctuation">&quot;</span></span> <span class="token attr-name">data-appid</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>100556005<span class="token punctuation">&quot;</span></span> <span class="token attr-name">data-redirecturi</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>http://www.corho.com:8080/#/login/callback<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token script"></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">&gt;</span></span>
</code></pre></div><p>2ï¼‰åœ¨ <code>src/views/login/components/login-form.vue</code> ç»™å›¾ç‰‡å¥—ä¸Šè·³è½¬é“¾æ¥ã€‚</p> <div class="language-jsx extra-class"><pre class="language-jsx"><code>      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>a</span>
        <span class="token attr-name">:href</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>`https://graph.qq.com/oauth2.0/authorize?response_type=token&amp;scope=all&amp;client_id=${'100556005'}&amp;redirect_uri=http%3A%2F%2Fwww.corho.com%3A8080%2F%23%2Flogin%2Fcallback`<span class="token punctuation">&quot;</span></span>
      <span class="token punctuation">&gt;</span></span><span class="token plain-text">
        </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>img</span>
          <span class="token attr-name">src</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>https://qzonestyle.gtimg.cn/qzone/vas/opensns/res/img/Connect_logo_7.png<span class="token punctuation">&quot;</span></span>
          <span class="token attr-name">alt</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span><span class="token punctuation">&quot;</span></span>
        <span class="token punctuation">/&gt;</span></span><span class="token plain-text">
      </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>a</span><span class="token punctuation">&gt;</span></span>
</code></pre></div><p>3ï¼‰ç‚¹å‡»QQç™»å½•æŒ‰é’®ï¼Œç‚¹å‡»åæ–°çª—å£æ‰“å¼€ç™»å½•é¡µé¢</p> <p><img src="/vuepress-starter/assets/img/08-1628025535476.75fec748.png" alt=""></p> <p>å°çŸ¥è¯†è¡¥å……ï¼š</p> <div class="language-ts extra-class"><pre class="language-ts"><code><span class="token comment">// è¿™æ˜¯ä»€ä¹ˆä¸œè¥¿ï¼Œæ€ä¹ˆçœ‹èµ·æ¥åƒä¹±ç ï¼Ÿ</span>
http<span class="token operator">%</span>3A<span class="token operator">%</span>2F<span class="token operator">%</span>2Fwww<span class="token punctuation">.</span>corho<span class="token punctuation">.</span>com<span class="token operator">%</span>3A8080<span class="token operator">%</span>2F<span class="token operator">%</span><span class="token number">23</span><span class="token operator">%</span>2Flogin<span class="token operator">%</span>2Fcallback

<span class="token comment">// è§£ç </span>
<span class="token function">decodeURIComponent</span><span class="token punctuation">(</span><span class="token string">'http%3A%2F%2Fwww.corho.com%3A8080%2F%23%2Flogin%2Fcallback'</span><span class="token punctuation">)</span>
<span class="token comment">// è§£ç ç»“æœï¼š'http://www.corho.com:8080/#/login/callback'</span>

<span class="token comment">// è½¬ç </span>
<span class="token function">encodeURIComponent</span><span class="token punctuation">(</span><span class="token string">'http://www.corho.com:8080/#/login/callback'</span><span class="token punctuation">)</span>
<span class="token comment">// è½¬ç ç»“æœï¼š'http%3A%2F%2Fwww.corho.com%3A8080%2F%23%2Flogin%2Fcallback'</span>
</code></pre></div><h2 id="qqäº’è”æ ¸å¿ƒ-api"><a href="#qqäº’è”æ ¸å¿ƒ-api" class="header-anchor">#</a> QQäº’è”æ ¸å¿ƒ API</h2> <p><a href="https://wiki.connect.qq.com/js_sdk%e4%bd%bf%e7%94%a8%e8%af%b4%e6%98%8e" target="_blank" rel="noopener noreferrer">å®˜æ–¹æ–‡æ¡£<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></p> <h3 id="é¡¹ç›®ä¸­éœ€è¦ç”¨åˆ°çš„-3-ä¸ª-api"><a href="#é¡¹ç›®ä¸­éœ€è¦ç”¨åˆ°çš„-3-ä¸ª-api" class="header-anchor">#</a> é¡¹ç›®ä¸­éœ€è¦ç”¨åˆ°çš„ 3 ä¸ª API</h3> <ul><li>QC.Login.check
<ul><li>æ£€æŸ¥ç”¨æˆ·æ˜¯å¦ç™»å½•</li></ul></li> <li>QC.api(&quot;get_user_info&quot;).success
<ul><li>è·å–ä¿¡æ¯</li></ul></li> <li>QC.Login.getMe
<ul><li>è·å– QQ ç”¨æˆ·å”¯ä¸€æ ‡è¯† openId</li></ul></li></ul> <h3 id="eslint-æ·»å…¨å±€å˜é‡"><a href="#eslint-æ·»å…¨å±€å˜é‡" class="header-anchor">#</a> ESlint æ·»å…¨å±€å˜é‡</h3> <ul><li>æ³¨æ„ï¼šç”±äºé¡¹ç›®å¼€å¯äº† <code>eslint</code> æ£€æŸ¥ï¼Œéœ€è¦åœ¨ <code>.eslintrc.cjs</code> æ·»åŠ <code>QC</code> å…¨å±€å˜é‡ã€‚</li></ul> <div class="language-ts extra-class"><pre class="language-ts"><code><span class="token comment">// eslintrc.cjs</span>

module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span>
  <span class="token operator">...</span>
  <span class="token comment">// å…¨å±€å˜é‡</span>
  globals<span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token constant">QC</span><span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span>
</code></pre></div><h3 id="ts-ç±»å‹å£°æ˜æ–‡ä»¶"><a href="#ts-ç±»å‹å£°æ˜æ–‡ä»¶" class="header-anchor">#</a> TS ç±»å‹å£°æ˜æ–‡ä»¶</h3> <ul><li>æ³¨æ„ï¼šç”±äºæ˜¯ TS å¼€å‘ï¼Œéœ€è¦åœ¨ <code>env.d.ts</code> æ·»åŠ  <code>QC</code> ç±»å‹å£°æ˜ã€‚</li></ul> <div class="language-json extra-class"><pre class="language-json"><code><span class="token comment">// env.d.ts</span>

<span class="token comment">// QC ç±»å‹å£°æ˜ - QQ ç™»å½•æ¨¡å—</span>
declare namespace QC <span class="token punctuation">{</span>
  const Login<span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token comment">// QC.Login.check()</span>
    check<span class="token operator">:</span> () =&gt; boolean;
    <span class="token comment">// QC.Login.getMe((openId) =&gt; {</span>
    <span class="token comment">//   console.log(&quot;è·å–QQç”¨æˆ·openId&quot;, openId);</span>
    <span class="token comment">// });</span>
    getMe<span class="token operator">:</span> (callback<span class="token operator">:</span> (openId<span class="token operator">:</span> string) =&gt; void) =&gt; void;
  <span class="token punctuation">}</span>;
  <span class="token comment">// QC.api(&quot;get_user_info&quot;).success((res: unknown) =&gt; {</span>
  <span class="token comment">//   console.log(&quot;è·å–QQç”¨æˆ·èµ„æ–™&quot;, res);</span>
  <span class="token comment">// });</span>
  function api(s<span class="token operator">:</span> string)<span class="token operator">:</span> <span class="token punctuation">{</span>
    success<span class="token operator">:</span> (res<span class="token operator">:</span> unknown) =&gt; void;
  <span class="token punctuation">}</span>;
<span class="token punctuation">}</span>
</code></pre></div><h3 id="æµ‹è¯•"><a href="#æµ‹è¯•" class="header-anchor">#</a> æµ‹è¯•</h3> <div class="language-vue extra-class"><pre class="language-vue"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span> <span class="token attr-name">setup</span> <span class="token attr-name">lang</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>ts<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token script"><span class="token language-javascript">
<span class="token comment">// 1. æ£€æŸ¥ç”¨æˆ·æ˜¯å¦å·²ç™»å½•</span>
<span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token constant">QC</span><span class="token punctuation">.</span>Login<span class="token punctuation">.</span><span class="token function">check</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token comment">// 2. è·å– QQ ç”¨æˆ·å”¯ä¸€æ ‡è¯† openId</span>
  <span class="token constant">QC</span><span class="token punctuation">.</span>Login<span class="token punctuation">.</span><span class="token function">getMe</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">openId</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">&quot;ğŸ—ï¸openId&quot;</span><span class="token punctuation">,</span> openId<span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token comment">// 3. è·å–ç”¨æˆ·èµ„æ–™</span>
  <span class="token constant">QC</span><span class="token punctuation">.</span><span class="token function">api</span><span class="token punctuation">(</span><span class="token string">&quot;get_user_info&quot;</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">success</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter"><span class="token literal-property property">res</span><span class="token operator">:</span> unknown</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">&quot;ğŸ˜€è·å–ç”¨æˆ·èµ„æ–™&quot;</span><span class="token punctuation">,</span> res<span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">&gt;</span></span>

<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>template</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>h1</span><span class="token punctuation">&gt;</span></span>callback-QQç™»å½•å›è·³é¡µé¢æµ‹è¯•<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>h1</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>template</span><span class="token punctuation">&gt;</span></span>
</code></pre></div><h2 id="å›è·³ç»„ä»¶é™æ€ç»“æ„"><a href="#å›è·³ç»„ä»¶é™æ€ç»“æ„" class="header-anchor">#</a> å›è·³ç»„ä»¶é™æ€ç»“æ„</h2> <blockquote><p>ç›®æ ‡ï¼šå‡†å¤‡é™æ€ç»“æœï¼Œæ¸²æŸ“åˆ‡æ¢æ•ˆæœã€‚</p></blockquote> <p><img src="/vuepress-starter/assets/img/image-20210804062529636.d891b6ee.png" alt="image-20210804062529636"></p> <h3 id="é™æ€ç»“æ„"><a href="#é™æ€ç»“æ„" class="header-anchor">#</a> é™æ€ç»“æ„</h3> <ul><li><p>å¤åˆ¶ç»„ä»¶é™æ€ç»“æ„ï¼š<code>views/Login/callback.vue</code></p></li> <li><p>æ¸©é¦¨æç¤ºï¼šå¤´éƒ¨å’Œåº•éƒ¨å’Œç™»å½•é¡µç›¸åŒï¼Œè‡ªå·±å®Œæˆ <code>LoginHeader</code>  å¤´éƒ¨ç»„ä»¶å’Œ  <code>LoginFooter</code>  åº•éƒ¨ç»„ä»¶çš„æŠ½ç¦»ã€‚</p></li></ul> <div class="language-html extra-class"><pre class="language-html"><code>...

<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>template</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>LoginHeader</span><span class="token punctuation">&gt;</span></span>è”åˆç™»å½•<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>LoginHeader</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>section</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>container<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>nav</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>tab<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>a</span>
        <span class="token attr-name">href</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>javascript:;<span class="token punctuation">&quot;</span></span>
        <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>active<span class="token punctuation">&quot;</span></span> 
      <span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>i</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>iconfont icon-bind<span class="token punctuation">&quot;</span></span> <span class="token punctuation">/&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>span</span><span class="token punctuation">&gt;</span></span>å·²æœ‰å°å…”é²œè´¦å·ï¼Œè¯·ç»‘å®šæ‰‹æœº<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>span</span><span class="token punctuation">&gt;</span></span>
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>a</span><span class="token punctuation">&gt;</span></span>
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>a</span>
        <span class="token attr-name">href</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>javascript:;<span class="token punctuation">&quot;</span></span>
      <span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>i</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>iconfont icon-edit<span class="token punctuation">&quot;</span></span> <span class="token punctuation">/&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>span</span><span class="token punctuation">&gt;</span></span>æ²¡æœ‰å°å…”é²œè´¦å·ï¼Œè¯·å®Œå–„èµ„æ–™<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>span</span><span class="token punctuation">&gt;</span></span>
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>a</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>nav</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>tab-content<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
      <span class="token comment">&lt;!-- å†…å®¹ --&gt;</span>  
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>section</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>LoginFooter</span> <span class="token punctuation">/&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>template</span><span class="token punctuation">&gt;</span></span>

<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>style</span> <span class="token attr-name">scoped</span> <span class="token attr-name">lang</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">'</span>less<span class="token punctuation">'</span></span><span class="token punctuation">&gt;</span></span><span class="token style"><span class="token language-css">
<span class="token selector">.container</span> <span class="token punctuation">{</span>
  <span class="token property">padding</span><span class="token punctuation">:</span> 25px 0<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token selector">.tab</span> <span class="token punctuation">{</span>
  <span class="token property">background</span><span class="token punctuation">:</span> #fff<span class="token punctuation">;</span>
  <span class="token property">height</span><span class="token punctuation">:</span> 80px<span class="token punctuation">;</span>
  <span class="token property">padding-top</span><span class="token punctuation">:</span> 40px<span class="token punctuation">;</span>
  <span class="token property">font-size</span><span class="token punctuation">:</span> 18px<span class="token punctuation">;</span>
  <span class="token property">text-align</span><span class="token punctuation">:</span> center<span class="token punctuation">;</span>
  <span class="token selector">a</span> <span class="token punctuation">{</span>
    <span class="token property">color</span><span class="token punctuation">:</span> #666<span class="token punctuation">;</span>
    <span class="token property">display</span><span class="token punctuation">:</span> inline-block<span class="token punctuation">;</span>
    <span class="token property">width</span><span class="token punctuation">:</span> 350px<span class="token punctuation">;</span>
    <span class="token property">line-height</span><span class="token punctuation">:</span> 40px<span class="token punctuation">;</span>
    <span class="token property">border-bottom</span><span class="token punctuation">:</span> 2px solid #e4e4e4<span class="token punctuation">;</span>
    <span class="token selector">i</span> <span class="token punctuation">{</span>
      <span class="token property">font-size</span><span class="token punctuation">:</span> 22px<span class="token punctuation">;</span>
      <span class="token property">vertical-align</span><span class="token punctuation">:</span> middle<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    <span class="token selector">span</span> <span class="token punctuation">{</span>
      <span class="token property">vertical-align</span><span class="token punctuation">:</span> middle<span class="token punctuation">;</span>
      <span class="token property">margin-left</span><span class="token punctuation">:</span> 4px<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    <span class="token selector">&amp;.active</span> <span class="token punctuation">{</span>
      <span class="token property">color</span><span class="token punctuation">:</span> <span class="token atrule"><span class="token rule">@xtxColor</span><span class="token punctuation">;</span></span>
      <span class="token property">border-color</span><span class="token punctuation">:</span> <span class="token atrule"><span class="token rule">@xtxColor</span><span class="token punctuation">;</span></span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
<span class="token selector">.tab-content</span> <span class="token punctuation">{</span>
  <span class="token property">min-height</span><span class="token punctuation">:</span> 600px<span class="token punctuation">;</span>
  <span class="token property">background</span><span class="token punctuation">:</span> #fff<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>style</span><span class="token punctuation">&gt;</span></span>
</code></pre></div><p>3ï¼‰å‡†å¤‡ç»‘å®šæ‰‹æœºç»„ä»¶ (æœ‰è€è´¦å·)  å’Œ  å®Œå–„ä¿¡æ¯ç»„ä»¶ï¼ˆæ–°è´¦å·ï¼‰</p> <p><code>src/views/Login/components/callback-bind.vue</code> ç»‘å®šæ‰‹æœº</p> <div class="language-vue extra-class"><pre class="language-vue"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span> <span class="token attr-name">setup</span> <span class="token attr-name">lang</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>ts<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token script"><span class="token language-javascript">
<span class="token comment">//</span>
</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">&gt;</span></span>

<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>template</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>xtx-form<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>user-info<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>img</span>
        <span class="token attr-name">src</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>http://qzapp.qlogo.cn/qzapp/100556005/86EB7ABDD27C651376A94AC9DF95B7BD/100<span class="token punctuation">&quot;</span></span>
        <span class="token attr-name">alt</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span><span class="token punctuation">&quot;</span></span>
      <span class="token punctuation">/&gt;</span></span>
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>p</span><span class="token punctuation">&gt;</span></span>Hiï¼ŒVue3 æ¬¢è¿æ¥å°å…”é²œï¼Œå®Œæˆç»‘å®šåå¯ä»¥QQè´¦å·ä¸€é”®ç™»å½•å“¦~<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>p</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>xtx-form-item<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>field<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>i</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>icon iconfont icon-phone<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>i</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>input</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>input<span class="token punctuation">&quot;</span></span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>text<span class="token punctuation">&quot;</span></span> <span class="token attr-name">placeholder</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>ç»‘å®šçš„æ‰‹æœºå·<span class="token punctuation">&quot;</span></span> <span class="token punctuation">/&gt;</span></span>
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>error<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>xtx-form-item<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>field<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>i</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>icon iconfont icon-code<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>i</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>input</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>input<span class="token punctuation">&quot;</span></span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>text<span class="token punctuation">&quot;</span></span> <span class="token attr-name">placeholder</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>çŸ­ä¿¡éªŒè¯ç <span class="token punctuation">&quot;</span></span> <span class="token punctuation">/&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>span</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>code<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>å‘é€éªŒè¯ç <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>span</span><span class="token punctuation">&gt;</span></span>
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>error<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>a</span> <span class="token attr-name">href</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>javascript:;<span class="token punctuation">&quot;</span></span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>submit<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>ç«‹å³ç»‘å®š<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>a</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>template</span><span class="token punctuation">&gt;</span></span>

<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>style</span> <span class="token attr-name">scoped</span> <span class="token attr-name">lang</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>less<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token style"><span class="token language-css">
<span class="token selector">.user-info</span> <span class="token punctuation">{</span>
  <span class="token property">width</span><span class="token punctuation">:</span> 320px<span class="token punctuation">;</span>
  <span class="token property">height</span><span class="token punctuation">:</span> 70px<span class="token punctuation">;</span>
  <span class="token property">margin</span><span class="token punctuation">:</span> 0 auto<span class="token punctuation">;</span>
  <span class="token property">display</span><span class="token punctuation">:</span> flex<span class="token punctuation">;</span>
  <span class="token property">background</span><span class="token punctuation">:</span> #f2f2f2<span class="token punctuation">;</span>
  <span class="token property">align-items</span><span class="token punctuation">:</span> center<span class="token punctuation">;</span>
  <span class="token property">padding</span><span class="token punctuation">:</span> 0 10px<span class="token punctuation">;</span>
  <span class="token property">margin-bottom</span><span class="token punctuation">:</span> 25px<span class="token punctuation">;</span>
  <span class="token selector">img</span> <span class="token punctuation">{</span>
    <span class="token property">background</span><span class="token punctuation">:</span> #f2f2f2<span class="token punctuation">;</span>
    <span class="token property">width</span><span class="token punctuation">:</span> 50px<span class="token punctuation">;</span>
    <span class="token property">height</span><span class="token punctuation">:</span> 50px<span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
  <span class="token selector">p</span> <span class="token punctuation">{</span>
    <span class="token property">padding-left</span><span class="token punctuation">:</span> 10px<span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
<span class="token selector">.code</span> <span class="token punctuation">{</span>
  <span class="token property">position</span><span class="token punctuation">:</span> absolute<span class="token punctuation">;</span>
  <span class="token property">right</span><span class="token punctuation">:</span> 0<span class="token punctuation">;</span>
  <span class="token property">top</span><span class="token punctuation">:</span> 0<span class="token punctuation">;</span>
  <span class="token property">line-height</span><span class="token punctuation">:</span> 50px<span class="token punctuation">;</span>
  <span class="token property">width</span><span class="token punctuation">:</span> 80px<span class="token punctuation">;</span>
  <span class="token property">color</span><span class="token punctuation">:</span> #999<span class="token punctuation">;</span>
  <span class="token selector">&amp;:hover</span> <span class="token punctuation">{</span>
    <span class="token property">cursor</span><span class="token punctuation">:</span> pointer<span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>style</span><span class="token punctuation">&gt;</span></span>

</code></pre></div><p><code>src/views/Login/components/callback-register.vue</code> æ³¨å†Œä¿¡æ¯</p> <div class="language-vue extra-class"><pre class="language-vue"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span> <span class="token attr-name">setup</span> <span class="token attr-name">lang</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>ts<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token script"><span class="token language-javascript">
<span class="token comment">//</span>
</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">&gt;</span></span>

<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>template</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>xtx-form<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>xtx-form-item<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>field<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>i</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>icon iconfont icon-user<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>i</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>input</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>input<span class="token punctuation">&quot;</span></span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>text<span class="token punctuation">&quot;</span></span> <span class="token attr-name">placeholder</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>è¯·è¾“å…¥ç”¨æˆ·å<span class="token punctuation">&quot;</span></span> <span class="token punctuation">/&gt;</span></span>
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>error<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>xtx-form-item<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>field<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>i</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>icon iconfont icon-phone<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>i</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>input</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>input<span class="token punctuation">&quot;</span></span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>text<span class="token punctuation">&quot;</span></span> <span class="token attr-name">placeholder</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>è¯·è¾“å…¥æ‰‹æœºå·<span class="token punctuation">&quot;</span></span> <span class="token punctuation">/&gt;</span></span>
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>error<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>xtx-form-item<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>field<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>i</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>icon iconfont icon-code<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>i</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>input</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>input<span class="token punctuation">&quot;</span></span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>text<span class="token punctuation">&quot;</span></span> <span class="token attr-name">placeholder</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>è¯·è¾“å…¥éªŒè¯ç <span class="token punctuation">&quot;</span></span> <span class="token punctuation">/&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>span</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>code<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>å‘é€éªŒè¯ç <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>span</span><span class="token punctuation">&gt;</span></span>
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>error<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>xtx-form-item<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>field<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>i</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>icon iconfont icon-lock<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>i</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>input</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>input<span class="token punctuation">&quot;</span></span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>password<span class="token punctuation">&quot;</span></span> <span class="token attr-name">placeholder</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>è¯·è¾“å…¥å¯†ç <span class="token punctuation">&quot;</span></span> <span class="token punctuation">/&gt;</span></span>
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>error<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>xtx-form-item<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>field<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>i</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>icon iconfont icon-lock<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>i</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>input</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>input<span class="token punctuation">&quot;</span></span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>password<span class="token punctuation">&quot;</span></span> <span class="token attr-name">placeholder</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>è¯·ç¡®è®¤å¯†ç <span class="token punctuation">&quot;</span></span> <span class="token punctuation">/&gt;</span></span>
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>error<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>a</span> <span class="token attr-name">href</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>javascript:;<span class="token punctuation">&quot;</span></span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>submit<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>ç«‹å³æäº¤<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>a</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>template</span><span class="token punctuation">&gt;</span></span>

<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>style</span> <span class="token attr-name">scoped</span> <span class="token attr-name">lang</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>less<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token style"><span class="token language-css">
<span class="token selector">.code</span> <span class="token punctuation">{</span>
  <span class="token property">position</span><span class="token punctuation">:</span> absolute<span class="token punctuation">;</span>
  <span class="token property">right</span><span class="token punctuation">:</span> 0<span class="token punctuation">;</span>
  <span class="token property">top</span><span class="token punctuation">:</span> 0<span class="token punctuation">;</span>
  <span class="token property">line-height</span><span class="token punctuation">:</span> 50px<span class="token punctuation">;</span>
  <span class="token property">width</span><span class="token punctuation">:</span> 80px<span class="token punctuation">;</span>
  <span class="token property">color</span><span class="token punctuation">:</span> #999<span class="token punctuation">;</span>
  <span class="token selector">&amp;:hover</span> <span class="token punctuation">{</span>
    <span class="token property">cursor</span><span class="token punctuation">:</span> pointer<span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>style</span><span class="token punctuation">&gt;</span></span>

</code></pre></div><p>4ï¼‰ä½¿ç”¨ç»„ä»¶</p> <p><img src="/vuepress-starter/assets/img/image-20210818144919351.d238d461.png" alt="image-20210818144919351"></p> <h3 id="å®Œæˆåˆ‡æ¢äº¤äº’"><a href="#å®Œæˆåˆ‡æ¢äº¤äº’" class="header-anchor">#</a> å®Œæˆåˆ‡æ¢äº¤äº’</h3> <p><img src="/vuepress-starter/assets/img/image-20210804062606238.bba2ff9b.png" alt="image-20210804062606238"></p> <blockquote><p>å®ç°æ€è·¯ :  å…¸å‹çš„tabç±»æ•ˆæœå®ç°ï¼Œå‡çº§æˆ <code>&lt;KeepAlive&gt;</code> åŠ¨æ€ç»„ä»¶å®ç°ã€‚</p></blockquote> <p><strong>ä»£ç è½åœ°</strong></p> <div class="language-html extra-class"><pre class="language-html"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span> <span class="token attr-name">setup</span> <span class="token attr-name">lang</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>ts<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token script"><span class="token language-javascript">
<span class="token operator">...</span>
<span class="token keyword">const</span> isBind <span class="token operator">=</span> <span class="token function">ref</span><span class="token punctuation">(</span><span class="token boolean">true</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">&gt;</span></span>

<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>template</span><span class="token punctuation">&gt;</span></span>
  <span class="token comment">&lt;!-- 1. å¤´éƒ¨ --&gt;</span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>LoginHeader</span><span class="token punctuation">&gt;</span></span>è”åˆç™»å½•<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>LoginHeader</span><span class="token punctuation">&gt;</span></span>
  <span class="token comment">&lt;!-- 2. ä¸»ä½“ --&gt;</span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>section</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>container<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
    <span class="token comment">&lt;!-- 2.1 tab å¤´éƒ¨ --&gt;</span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>nav</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>tab<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>a</span>
        <span class="token attr-name">href</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>javascript:;<span class="token punctuation">&quot;</span></span>
        <span class="token attr-name">@click</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>isBind = true<span class="token punctuation">&quot;</span></span>
        <span class="token attr-name">:class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>{ active: isBind === true }<span class="token punctuation">&quot;</span></span>
      <span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>i</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>iconfont icon-bind<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>i</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>span</span><span class="token punctuation">&gt;</span></span>å·²æœ‰å°å…”é²œè´¦å·ï¼Œè¯·ç»‘å®šæ‰‹æœº<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>span</span><span class="token punctuation">&gt;</span></span>
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>a</span><span class="token punctuation">&gt;</span></span>
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>a</span>
        <span class="token attr-name">href</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>javascript:;<span class="token punctuation">&quot;</span></span>
        <span class="token attr-name">@click</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>isBind = false<span class="token punctuation">&quot;</span></span>
        <span class="token attr-name">:class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>{ active: isBind === false }<span class="token punctuation">&quot;</span></span>
      <span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>i</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>iconfont icon-edit<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>i</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>span</span><span class="token punctuation">&gt;</span></span>æ²¡æœ‰å°å…”é²œè´¦å·ï¼Œè¯·å®Œå–„èµ„æ–™<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>span</span><span class="token punctuation">&gt;</span></span>
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>a</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>nav</span><span class="token punctuation">&gt;</span></span>
    <span class="token comment">&lt;!-- 2.2 tab å†…å®¹ --&gt;</span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>tab-content<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>KeepAlive</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>component</span>
          <span class="token attr-name">:is</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>isBind ? CallbackBind : CallbackRegister<span class="token punctuation">&quot;</span></span>
        <span class="token punctuation">/&gt;</span></span>
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>KeepAlive</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>section</span><span class="token punctuation">&gt;</span></span>
  <span class="token comment">&lt;!-- 3. åº•éƒ¨ --&gt;</span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>LoginFooter</span> <span class="token punctuation">/&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>template</span><span class="token punctuation">&gt;</span></span>
</code></pre></div><h3 id="qqå¤´åƒå’Œæ˜µç§°æ¸²æŸ“"><a href="#qqå¤´åƒå’Œæ˜µç§°æ¸²æŸ“" class="header-anchor">#</a> QQå¤´åƒå’Œæ˜µç§°æ¸²æŸ“</h3> <p><img src="/vuepress-starter/assets/img/image-20220222213959584.6660310b.png" alt="image-20220222213959584"></p> <h4 id="tsç±»å‹å£°æ˜æ–‡ä»¶"><a href="#tsç±»å‹å£°æ˜æ–‡ä»¶" class="header-anchor">#</a> TSç±»å‹å£°æ˜æ–‡ä»¶</h4> <p>æ–°å»ºæ–‡ä»¶ï¼š<code>src\types\api\qq.d.ts</code></p> <div class="language-ts extra-class"><pre class="language-ts"><code><span class="token keyword">export</span> <span class="token keyword">interface</span> <span class="token class-name">Data</span> <span class="token punctuation">{</span>
  ret<span class="token operator">:</span> <span class="token builtin">number</span><span class="token punctuation">;</span>
  msg<span class="token operator">:</span> <span class="token builtin">string</span><span class="token punctuation">;</span>
  is_lost<span class="token operator">:</span> <span class="token builtin">number</span><span class="token punctuation">;</span>
  nickname<span class="token operator">:</span> <span class="token builtin">string</span><span class="token punctuation">;</span>
  gender<span class="token operator">:</span> <span class="token builtin">string</span><span class="token punctuation">;</span>
  gender_type<span class="token operator">:</span> <span class="token builtin">number</span><span class="token punctuation">;</span>
  province<span class="token operator">:</span> <span class="token builtin">string</span><span class="token punctuation">;</span>
  city<span class="token operator">:</span> <span class="token builtin">string</span><span class="token punctuation">;</span>
  year<span class="token operator">:</span> <span class="token builtin">string</span><span class="token punctuation">;</span>
  constellation<span class="token operator">:</span> <span class="token builtin">string</span><span class="token punctuation">;</span>
  figureurl<span class="token operator">:</span> <span class="token builtin">string</span><span class="token punctuation">;</span>
  figureurl_1<span class="token operator">:</span> <span class="token builtin">string</span><span class="token punctuation">;</span>
  figureurl_2<span class="token operator">:</span> <span class="token builtin">string</span><span class="token punctuation">;</span>
  figureurl_qq_1<span class="token operator">:</span> <span class="token builtin">string</span><span class="token punctuation">;</span>
  figureurl_qq_2<span class="token operator">:</span> <span class="token builtin">string</span><span class="token punctuation">;</span>
  figureurl_qq<span class="token operator">:</span> <span class="token builtin">string</span><span class="token punctuation">;</span>
  figureurl_type<span class="token operator">:</span> <span class="token builtin">string</span><span class="token punctuation">;</span>
  is_yellow_vip<span class="token operator">:</span> <span class="token builtin">string</span><span class="token punctuation">;</span>
  vip<span class="token operator">:</span> <span class="token builtin">string</span><span class="token punctuation">;</span>
  yellow_vip_level<span class="token operator">:</span> <span class="token builtin">string</span><span class="token punctuation">;</span>
  level<span class="token operator">:</span> <span class="token builtin">string</span><span class="token punctuation">;</span>
  is_yellow_year_vip<span class="token operator">:</span> <span class="token builtin">string</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token keyword">export</span> <span class="token keyword">interface</span> <span class="token class-name">QQUserInfo</span> <span class="token punctuation">{</span>
  status<span class="token operator">:</span> <span class="token builtin">string</span><span class="token punctuation">;</span>
  fmt<span class="token operator">:</span> <span class="token builtin">string</span><span class="token punctuation">;</span>
  ret<span class="token operator">:</span> <span class="token builtin">number</span><span class="token punctuation">;</span>
  code<span class="token operator">:</span> <span class="token builtin">number</span><span class="token punctuation">;</span>
  data<span class="token operator">:</span> Data<span class="token punctuation">;</span>
  seq<span class="token operator">:</span> <span class="token builtin">string</span><span class="token punctuation">;</span>
  dataText<span class="token operator">:</span> <span class="token builtin">string</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

</code></pre></div><p>ç»Ÿä¸€å‡ºå£å¯¼å‡º <code>src\types\index.d.ts</code></p> <div class="language-diff extra-class"><pre class="language-diff"><code>// ç»Ÿä¸€å¯¼å‡ºæ‰€æœ‰è‡ªå®šä¹‰çš„ç±»å‹æ–‡ä»¶
export * from &quot;./api/home&quot;;
export * from &quot;./api/category&quot;;
export * from &quot;./api/goods&quot;;
export * from &quot;./api/member&quot;;
<span class="token inserted-sign inserted"><span class="token prefix inserted">+</span><span class="token line">export * from &quot;./api/qq&quot;;
</span></span>
</code></pre></div><h4 id="æ¸²æŸ“ç”¨æˆ·ä¿¡æ¯"><a href="#æ¸²æŸ“ç”¨æˆ·ä¿¡æ¯" class="header-anchor">#</a> æ¸²æŸ“ç”¨æˆ·ä¿¡æ¯</h4> <ul><li>çˆ¶ç»„ä»¶ä¼ é€’å±æ€§</li></ul> <div class="language-diff extra-class"><pre class="language-diff"><code><span class="token deleted-arrow deleted"><span class="token prefix deleted">&lt;</span><span class="token line">script setup lang=&quot;ts&quot;&gt;
</span></span>// ...
<span class="token inserted-sign inserted"><span class="token prefix inserted">+</span><span class="token line">import { ref } from &quot;vue&quot;;
</span><span class="token prefix inserted">+</span><span class="token line">import type { QQUserInfo } from &quot;@/types&quot;;
</span></span>
<span class="token inserted-sign inserted"><span class="token prefix inserted">+</span><span class="token line">const userInfo = ref&lt;QQUserInfo&gt;();
</span></span>// 1. æ£€æŸ¥ç”¨æˆ·æ˜¯å¦å·²ç™»å½•
if (QC.Login.check()) {
<span class="token unchanged"><span class="token prefix unchanged"> </span><span class="token line"> // 2. è·å– QQ ç”¨æˆ·å”¯ä¸€æ ‡è¯† openId
</span><span class="token prefix unchanged"> </span><span class="token line"> QC.Login.getMe((openId) =&gt; {
</span><span class="token prefix unchanged"> </span><span class="token line">   console.log(&quot;openId&quot;, openId);
</span><span class="token prefix unchanged"> </span><span class="token line"> });
</span><span class="token prefix unchanged"> </span><span class="token line"> // 3. è·å–ç”¨æˆ·èµ„æ–™
</span></span><span class="token deleted-sign deleted"><span class="token prefix deleted">-</span><span class="token line">  QC.api(&quot;get_user_info&quot;).success((res: unknown) =&gt; {
</span></span><span class="token inserted-sign inserted"><span class="token prefix inserted">+</span><span class="token line">  QC.api(&quot;get_user_info&quot;).success((res: QQUserInfo) =&gt; {
</span></span><span class="token unchanged"><span class="token prefix unchanged"> </span><span class="token line">   // console.log(&quot;è·å–ç”¨æˆ·èµ„æ–™&quot;, res);
</span></span><span class="token inserted-sign inserted"><span class="token prefix inserted">+</span><span class="token line">    userInfo.value = res;
</span></span><span class="token unchanged"><span class="token prefix unchanged"> </span><span class="token line"> });
</span></span>}

const isBind = ref(true);
<span class="token deleted-arrow deleted"><span class="token prefix deleted">&lt;</span><span class="token line">/script&gt;
</span></span>
<span class="token deleted-arrow deleted"><span class="token prefix deleted">&lt;</span><span class="token line">template&gt;
</span></span><span class="token unchanged"><span class="token prefix unchanged"> </span><span class="token line">   &lt;!-- 2.2 tab å†…å®¹ --&gt;
</span><span class="token prefix unchanged"> </span><span class="token line">   &lt;div class=&quot;tab-content&quot;&gt;
</span><span class="token prefix unchanged"> </span><span class="token line">     &lt;KeepAlive&gt;
</span><span class="token prefix unchanged"> </span><span class="token line">       &lt;component
</span></span><span class="token inserted-sign inserted"><span class="token prefix inserted">+</span><span class="token line">          :user-info=&quot;userInfo&quot;
</span></span><span class="token unchanged"><span class="token prefix unchanged"> </span><span class="token line">         :is=&quot;isBind ? CallbackBind : CallbackRegister&quot;
</span><span class="token prefix unchanged"> </span><span class="token line">       /&gt;
</span><span class="token prefix unchanged"> </span><span class="token line">     &lt;/KeepAlive&gt;
</span><span class="token prefix unchanged"> </span><span class="token line">   &lt;/div&gt;
</span><span class="token prefix unchanged"> </span><span class="token line"> &lt;/section&gt;
</span></span><span class="token deleted-arrow deleted"><span class="token prefix deleted">&lt;</span><span class="token line">/template&gt;
</span></span></code></pre></div><ul><li>å­ç»„ä»¶æ¸²æŸ“</li></ul> <div class="language-vue extra-class"><pre class="language-vue"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span> <span class="token attr-name">setup</span> <span class="token attr-name">lang</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>ts<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token script"><span class="token language-javascript">
<span class="token keyword">import</span> type <span class="token punctuation">{</span> QQUserInfo <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&quot;@/types&quot;</span><span class="token punctuation">;</span>

defineProps<span class="token operator">&lt;</span><span class="token punctuation">{</span>
  userInfo<span class="token operator">?</span><span class="token operator">:</span> QQUserInfo<span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token operator">&gt;</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">&gt;</span></span>

<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>template</span><span class="token punctuation">&gt;</span></span>
  <span class="token comment">&lt;!-- ğŸš¨é˜²æ­¢æ§åˆ¶å°æŠ¥é”™ï¼ŒQQç”¨æˆ·ä¿¡æ¯æ²¡å›æ¥ä¸æ¸²æŸ“ --&gt;</span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>xtx-form<span class="token punctuation">&quot;</span></span> <span class="token attr-name">v-if</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>userInfo<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>user-info<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>img</span> <span class="token attr-name">:src</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>userInfo?.data.figureurl_2<span class="token punctuation">&quot;</span></span> <span class="token attr-name">alt</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span><span class="token punctuation">&quot;</span></span> <span class="token punctuation">/&gt;</span></span>
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>p</span><span class="token punctuation">&gt;</span></span>
        Hiï¼Œ{{ userInfo?.data.nickname }}
        æ¬¢è¿æ¥å°å…”é²œï¼Œå®Œæˆç»‘å®šåå¯ä»¥QQè´¦å·ä¸€é”®ç™»å½•å“¦~
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>p</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
    ...
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>template</span><span class="token punctuation">&gt;</span></span>
</code></pre></div><h2 id="qqä¸‰æ–¹ç™»å½•-å¤šçŠ¶æ€ä»‹ç»"><a href="#qqä¸‰æ–¹ç™»å½•-å¤šçŠ¶æ€ä»‹ç»" class="header-anchor">#</a> QQä¸‰æ–¹ç™»å½• - å¤šçŠ¶æ€ä»‹ç»</h2> <blockquote><p>å›è·³åœ°å€è¿™æ ·ä¸€ä¸ªç»„ä»¶å†…åšåˆ¤æ–­æ€ï¼Œåˆ†ä»¥ä¸‹ 3 ç§çŠ¶æ€ã€‚</p></blockquote> <p>çŠ¶æ€1ï¼šå·²ç»æœ‰è´¦å·å¹¶ä¸”å·²ç»ç»‘å®š <code>qq</code>  ç›´æ¥è·å–ç”¨æˆ·ä¿¡æ¯ï¼Œå¹¶ç›´æ¥è·³è½¬ã€‚</p> <p>çŠ¶æ€2ï¼š<code>QQ</code> ç»‘å®šæŸä¸ªå·²æ³¨å†Œè´¦å·ï¼Œç»‘å®šæˆåŠŸåï¼Œè·å–ç”¨æˆ·ä¿¡æ¯ï¼Œå†è·³è½¬ã€‚</p> <p>çŠ¶æ€3ï¼šæ³¨å†Œå…¨æ–°è´¦å·å¹¶ç»‘å®š <code>QQ</code>ï¼Œæ³¨å†ŒæˆåŠŸåï¼Œè·å–ç”¨æˆ·ä¿¡æ¯ï¼Œå†è·³è½¬ã€‚</p> <p><img src="/vuepress-starter/assets/img/image-20220222213459020.59829aba.png" alt="image-20220222213459020"></p> <h2 id="æœ‰è´¦å·æœªç»‘å®š-ç»‘å®šæµ‹è¯•è´¦å·-ğŸš¨ğŸš¨"><a href="#æœ‰è´¦å·æœªç»‘å®š-ç»‘å®šæµ‹è¯•è´¦å·-ğŸš¨ğŸš¨" class="header-anchor">#</a> æœ‰è´¦å·æœªç»‘å®š ï¼ˆç»‘å®šæµ‹è¯•è´¦å·ï¼‰ğŸš¨ğŸš¨</h2> <blockquote><p>ç›®æ ‡ï¼šæŠŠè‡ªå·±çš„ <code>QQ</code> ä¿¡æ¯ ç»‘å®šåˆ°æŸä¸ªæµ‹è¯•è´¦å·ä¸­ã€‚</p></blockquote> <p><img src="/vuepress-starter/assets/img/image-20220222215020282.39ed05b5.png" alt="image-20220222215020282"></p> <blockquote><p>ğŸ””æ¸©é¦¨æç¤ºï¼šå¦‚æœæµ‹è¯•è´¦å·å·²è¢«ç»‘å®šçš„ï¼Œæ‰‹åŠ¨è°ƒç”¨ä¸€ä¸‹è§£ç»‘è¢«å ç”¨çš„æµ‹è¯•æ‰‹æœºå·ã€‚</p> <p><a href="http://pcapi-xiaotuxian-front-devtest.itheima.net/login/social/unbind?mobile=%E6%B5%8B%E8%AF%95%E6%89%8B%E6%9C%BA%E5%8F%B7" target="_blank" rel="noopener noreferrer">http://pcapi-xiaotuxian-front-devtest.itheima.net/login/social/unbind?mobile=æµ‹è¯•æ‰‹æœºå·<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></p></blockquote> <p><strong>å®ç°æ€è·¯</strong></p> <ol><li>è¿›è¡Œæ‰‹æœºå·ç æ ¡éªŒ</li> <li>è¿›è¡ŒçŸ­ä¿¡éªŒè¯ç å‘é€ ï¼ˆğŸš¨å¿…é¡»è°ƒç”¨æ¥å£ï¼ŒéªŒè¯ç æ¥å£æ¯”è¾ƒå¤šï¼Œè¦çœ‹æ¸…æ¥šåå†è°ƒç”¨ï¼‰</li> <li>è¿›è¡Œç»‘å®šï¼Œå®ŒæˆåæŠŠå½“å‰ç”¨æˆ·æ•°æ®å­˜å…¥<code>Pinia</code>ï¼Œè·³è½¬åˆ°é¦–é¡µ</li></ol> <h3 id="æ‰‹æœºå·ç æ ¡éªŒ"><a href="#æ‰‹æœºå·ç æ ¡éªŒ" class="header-anchor">#</a> æ‰‹æœºå·ç æ ¡éªŒ</h3> <div class="language-vue extra-class"><pre class="language-vue"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span> <span class="token attr-name">setup</span> <span class="token attr-name">lang</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>ts<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token script"><span class="token language-javascript">
<span class="token keyword">import</span> <span class="token punctuation">{</span> message <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&quot;@/components/XtxUI&quot;</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> type <span class="token punctuation">{</span> QQUserInfo <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&quot;@/types&quot;</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token punctuation">{</span> reactive <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&quot;vue&quot;</span><span class="token punctuation">;</span>

defineProps<span class="token operator">&lt;</span><span class="token punctuation">{</span>
  userInfo<span class="token operator">?</span><span class="token operator">:</span> QQUserInfo<span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token operator">&gt;</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">// å‡†å¤‡è¡¨å•æ•°æ®</span>
<span class="token keyword">const</span> form <span class="token operator">=</span> <span class="token function">reactive</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
  <span class="token literal-property property">mobile</span><span class="token operator">:</span> <span class="token string">&quot;13535337057&quot;</span><span class="token punctuation">,</span>
  <span class="token literal-property property">code</span><span class="token operator">:</span> <span class="token string">&quot;&quot;</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">// å‘é€éªŒè¯ç </span>
<span class="token keyword">const</span> <span class="token function-variable function">sendCode</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
  <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token operator">!</span><span class="token regex"><span class="token regex-delimiter">/</span><span class="token regex-source language-regex">^1[3-9]\d{9}$</span><span class="token regex-delimiter">/</span></span><span class="token punctuation">.</span><span class="token function">test</span><span class="token punctuation">(</span>form<span class="token punctuation">.</span>mobile<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> <span class="token function">message</span><span class="token punctuation">(</span><span class="token punctuation">{</span> <span class="token literal-property property">type</span><span class="token operator">:</span> <span class="token string">&quot;warn&quot;</span><span class="token punctuation">,</span> <span class="token literal-property property">text</span><span class="token operator">:</span> <span class="token string">&quot;æ‰‹æœºå·ç æ ¼å¼é”™è¯¯~&quot;</span> <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
  <span class="token function">message</span><span class="token punctuation">(</span><span class="token punctuation">{</span> <span class="token literal-property property">type</span><span class="token operator">:</span> <span class="token string">&quot;success&quot;</span><span class="token punctuation">,</span> <span class="token literal-property property">text</span><span class="token operator">:</span> <span class="token string">&quot;å¯ä»¥å‘é€éªŒè¯ç ~&quot;</span> <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">&gt;</span></span>
</code></pre></div><p>æ¨¡æ¿ç»‘å®š</p> <div class="language-diff extra-class"><pre class="language-diff"><code><span class="token deleted-arrow deleted"><span class="token prefix deleted">&lt;</span><span class="token line">template&gt;
</span></span>...
<span class="token unchanged"><span class="token prefix unchanged"> </span><span class="token line">       &lt;input
</span></span><span class="token inserted-sign inserted"><span class="token prefix inserted">+</span><span class="token line">          v-model=&quot;form.mobile&quot;
</span><span class="token prefix inserted">+</span><span class="token line">          maxlength=&quot;11&quot;
</span></span><span class="token unchanged"><span class="token prefix unchanged"> </span><span class="token line">         class=&quot;input&quot;
</span><span class="token prefix unchanged"> </span><span class="token line">         type=&quot;text&quot;
</span><span class="token prefix unchanged"> </span><span class="token line">         placeholder=&quot;ç»‘å®šçš„æ‰‹æœºå·&quot;
</span><span class="token prefix unchanged"> </span><span class="token line">       /&gt;
</span></span>...
<span class="token unchanged"><span class="token prefix unchanged"> </span><span class="token line">       &lt;input
</span></span><span class="token inserted-sign inserted"><span class="token prefix inserted">+</span><span class="token line">          v-model=&quot;form.code&quot;
</span><span class="token prefix inserted">+</span><span class="token line">          maxlength=&quot;6&quot;
</span></span><span class="token unchanged"><span class="token prefix unchanged"> </span><span class="token line">         class=&quot;input&quot;
</span><span class="token prefix unchanged"> </span><span class="token line">         type=&quot;text&quot;
</span><span class="token prefix unchanged"> </span><span class="token line">         placeholder=&quot;çŸ­ä¿¡éªŒè¯ç &quot;
</span><span class="token prefix unchanged"> </span><span class="token line">       /&gt;
</span></span><span class="token inserted-sign inserted"><span class="token prefix inserted">+</span><span class="token line">        &lt;span class=&quot;code&quot; @click=&quot;sendCode&quot;&gt;å‘é€éªŒè¯ç &lt;/span&gt;
</span></span><span class="token unchanged"><span class="token prefix unchanged"> </span><span class="token line"> ...  
</span></span><span class="token deleted-arrow deleted"><span class="token prefix deleted">&lt;</span><span class="token line">/template&gt;
</span></span></code></pre></div><h3 id="éªŒè¯ç æŒ‰é’®å€’è®¡æ—¶æ•ˆæœ"><a href="#éªŒè¯ç æŒ‰é’®å€’è®¡æ—¶æ•ˆæœ" class="header-anchor">#</a> éªŒè¯ç æŒ‰é’®å€’è®¡æ—¶æ•ˆæœ</h3> <blockquote><p>è‡ªå·±è¡¥å……</p></blockquote> <h3 id="å‘é€éªŒè¯ç ä¸šåŠ¡"><a href="#å‘é€éªŒè¯ç ä¸šåŠ¡" class="header-anchor">#</a> å‘é€éªŒè¯ç ä¸šåŠ¡</h3> <blockquote><p>ğŸš¨æ³¨æ„ï¼šè¿™ä¸ªå‘é€çš„åŠ¨ä½œå¿…é¡»è¦æœ‰ï¼ä¹Ÿå°±æ˜¯æ¥å£å¿…é¡»è¦è°ƒç”¨æ‰å¯ä»¥ç»‘å®šã€‚</p></blockquote> <p><strong>æ¥å£æ–‡æ¡£ï¼šä¸‰æ–¹ç™»å½•_å‘é€å·²æœ‰è´¦å·çŸ­ä¿¡</strong></p> <p><strong>Pathï¼š</strong> /login/social/code</p> <p><strong>Methodï¼š</strong> GET</p> <p><strong>è¯·æ±‚å‚æ•°</strong></p> <p><strong>Query</strong></p> <table><thead><tr><th>å‚æ•°åç§°</th> <th>æ˜¯å¦å¿…é¡»</th> <th>ç¤ºä¾‹</th> <th>å¤‡æ³¨</th></tr></thead> <tbody><tr><td>mobile</td> <td>å¦</td> <td>13211112222</td> <td>æ‰‹æœºå·</td></tr></tbody></table> <p>å‚è€ƒä»£ç </p> <div class="language-vue extra-class"><pre class="language-vue"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span> <span class="token attr-name">setup</span> <span class="token attr-name">lang</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>ts<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token script"><span class="token language-javascript">
<span class="token keyword">import</span> <span class="token punctuation">{</span> message <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&quot;@/components/XtxUI&quot;</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> useStore <span class="token keyword">from</span> <span class="token string">&quot;@/store&quot;</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> type <span class="token punctuation">{</span> QQUserInfo <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&quot;@/types&quot;</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token punctuation">{</span> reactive <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&quot;vue&quot;</span><span class="token punctuation">;</span>

defineProps<span class="token operator">&lt;</span><span class="token punctuation">{</span>
  userInfo<span class="token operator">?</span><span class="token operator">:</span> QQUserInfo<span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token operator">&gt;</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">// å‡†å¤‡è¡¨å•å“åº”å¼æ•°æ®</span>
<span class="token keyword">const</span> form <span class="token operator">=</span> <span class="token function">reactive</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
  <span class="token literal-property property">mobile</span><span class="token operator">:</span> <span class="token string">&quot;13012345764&quot;</span><span class="token punctuation">,</span>
  <span class="token literal-property property">code</span><span class="token operator">:</span> <span class="token string">&quot;123456&quot;</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token keyword">const</span> <span class="token punctuation">{</span> member <span class="token punctuation">}</span> <span class="token operator">=</span> <span class="token function">useStore</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">// å‘é€éªŒè¯ç æŒ‰é’®</span>
<span class="token keyword">const</span> <span class="token function-variable function">sendCode</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
  <span class="token comment">// 1. è¿›è¡Œæ‰‹æœºå·æ ¼å¼æ ¡éªŒ</span>
  <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token operator">!</span><span class="token regex"><span class="token regex-delimiter">/</span><span class="token regex-source language-regex">^1[3-9]\d{9}$</span><span class="token regex-delimiter">/</span></span><span class="token punctuation">.</span><span class="token function">test</span><span class="token punctuation">(</span>form<span class="token punctuation">.</span>mobile<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token comment">// æ ¡éªŒä¸é€šè¿‡ï¼Œæé†’ç”¨æˆ·</span>
    <span class="token keyword">return</span> <span class="token function">message</span><span class="token punctuation">(</span><span class="token punctuation">{</span> <span class="token literal-property property">type</span><span class="token operator">:</span> <span class="token string">&quot;warn&quot;</span><span class="token punctuation">,</span> <span class="token literal-property property">text</span><span class="token operator">:</span> <span class="token string">&quot;æ‰‹æœºå·ç æ ¼å¼é”™è¯¯~&quot;</span> <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
  <span class="token comment">// 2. è°ƒç”¨è·å–éªŒè¯ç æ¥å£</span>
  <span class="token keyword">await</span> member<span class="token punctuation">.</span><span class="token function">getCodeBind</span><span class="token punctuation">(</span>form<span class="token punctuation">.</span>mobile<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">&gt;</span></span>
</code></pre></div><h3 id="unionid-å‚æ•°çˆ¶ä¼ å­"><a href="#unionid-å‚æ•°çˆ¶ä¼ å­" class="header-anchor">#</a> unionId å‚æ•°çˆ¶ä¼ å­</h3> <blockquote><p>ç›®æ ‡ï¼šæŠŠ <code>unionId</code> å‚æ•°ä¼ é€’ç»™å­ç»„ä»¶ï¼Œä½œä¸º <code>QQ</code> ç™»å½•æ¥å£å…¶ä¸­ä¸€ä¸ªå‚æ•°ã€‚</p></blockquote> <p>çˆ¶ç»„ä»¶ï¼š<code>src\views\Login\callback.vue</code></p> <div class="language-diff extra-class"><pre class="language-diff"><code><span class="token deleted-arrow deleted"><span class="token prefix deleted">&lt;</span><span class="token line">script setup lang=&quot;ts&quot;&gt;
</span></span>...
const userInfo = ref&lt;QQUserInfo&gt;();
<span class="token inserted-sign inserted"><span class="token prefix inserted">+</span><span class="token line">const unionId = ref(&quot;&quot;);
</span></span>// 1. æ£€æŸ¥ç”¨æˆ·æ˜¯å¦å·²ç™»å½•
if (QC.Login.check()) {
<span class="token unchanged"><span class="token prefix unchanged"> </span><span class="token line"> // 2. è·å– QQ ç”¨æˆ·å”¯ä¸€æ ‡è¯† openId
</span><span class="token prefix unchanged"> </span><span class="token line"> QC.Login.getMe((openId) =&gt; {
</span></span><span class="token inserted-sign inserted"><span class="token prefix inserted">+</span><span class="token line">    unionId.value = openId;
</span></span><span class="token unchanged"><span class="token prefix unchanged"> </span><span class="token line"> });
</span><span class="token prefix unchanged"> </span><span class="token line"> // 3. è·å–ç”¨æˆ·èµ„æ–™
</span><span class="token prefix unchanged"> </span><span class="token line"> QC.api(&quot;get_user_info&quot;).success((res: QQUserInfo) =&gt; {
</span><span class="token prefix unchanged"> </span><span class="token line">   userInfo.value = res;
</span><span class="token prefix unchanged"> </span><span class="token line"> });
</span></span>}
<span class="token deleted-arrow deleted"><span class="token prefix deleted">&lt;</span><span class="token line">/script&gt;
</span></span>
<span class="token deleted-arrow deleted"><span class="token prefix deleted">&lt;</span><span class="token line">template&gt;
</span></span><span class="token unchanged"><span class="token prefix unchanged"> </span><span class="token line"> ...
</span><span class="token prefix unchanged"> </span><span class="token line"> &lt;section class=&quot;container&quot;&gt;
</span><span class="token prefix unchanged"> </span><span class="token line">   &lt;!-- 2.2 tab å†…å®¹ --&gt;
</span><span class="token prefix unchanged"> </span><span class="token line">   &lt;div class=&quot;tab-content&quot;&gt;
</span><span class="token prefix unchanged"> </span><span class="token line">     &lt;KeepAlive&gt;
</span><span class="token prefix unchanged"> </span><span class="token line">       &lt;component
</span><span class="token prefix unchanged"> </span><span class="token line">         :userInfo=&quot;userInfo&quot;
</span></span><span class="token inserted-sign inserted"><span class="token prefix inserted">+</span><span class="token line">          :unionId=&quot;unionId&quot;
</span></span><span class="token unchanged"><span class="token prefix unchanged"> </span><span class="token line">         :is=&quot;isBind ? CallbackBind : CallbackRegister&quot;
</span><span class="token prefix unchanged"> </span><span class="token line">       /&gt;
</span><span class="token prefix unchanged"> </span><span class="token line">     &lt;/KeepAlive&gt;
</span><span class="token prefix unchanged"> </span><span class="token line">   &lt;/div&gt;
</span><span class="token prefix unchanged"> </span><span class="token line"> &lt;/section&gt;
</span><span class="token prefix unchanged"> </span><span class="token line"> ...
</span></span><span class="token deleted-arrow deleted"><span class="token prefix deleted">&lt;</span><span class="token line">/template&gt;
</span></span></code></pre></div><p>å­ç»„ä»¶ï¼š<code>src\views\Login\components\callback-bind.vue</code></p> <div class="language-diff extra-class"><pre class="language-diff"><code><span class="token deleted-arrow deleted"><span class="token prefix deleted">&lt;</span><span class="token line">script setup lang=&quot;ts&quot;&gt;
</span></span>defineProps&lt;{
<span class="token unchanged"><span class="token prefix unchanged"> </span><span class="token line"> userInfo?: QQUserInfo;
</span></span><span class="token inserted-sign inserted"><span class="token prefix inserted">+</span><span class="token line">  unionId: string;
</span></span>}&gt;();
<span class="token deleted-arrow deleted"><span class="token prefix deleted">&lt;</span><span class="token line">/script&gt;
</span></span></code></pre></div><h3 id="qqç™»å½•å¹¶ç»‘å®šæ‰‹æœºå·"><a href="#qqç™»å½•å¹¶ç»‘å®šæ‰‹æœºå·" class="header-anchor">#</a> QQç™»å½•å¹¶ç»‘å®šæ‰‹æœºå·</h3> <p><strong>æ¥å£æ–‡æ¡£ï¼šä¸‰æ–¹ç™»å½•_è´¦å·ç»‘å®š</strong></p> <p><strong>Pathï¼š</strong> /login/social/bind</p> <p><strong>Methodï¼š</strong> POST</p> <p><strong>è¯·æ±‚å‚æ•°</strong></p> <p><strong>Body</strong></p> <table><thead><tr><th>åç§°</th> <th>ç±»å‹</th> <th>æ˜¯å¦å¿…é¡»</th> <th>é»˜è®¤å€¼</th> <th>å¤‡æ³¨</th> <th>å…¶ä»–ä¿¡æ¯</th></tr></thead> <tbody><tr><td>unionId</td> <td>string</td> <td>å¿…é¡»</td> <td></td> <td>ä¸‰æ–¹æ ‡è¯†</td> <td>QQç™»å½•åçš„ openId</td></tr> <tr><td>mobile</td> <td>string</td> <td>å¿…é¡»</td> <td></td> <td>æ‰‹æœºå·</td> <td></td></tr> <tr><td>code</td> <td>string</td> <td>å¿…é¡»</td> <td></td> <td>éªŒè¯ç </td> <td></td></tr></tbody></table> <p><strong>Pinia å®šä¹‰</strong></p> <div class="language-ts extra-class"><pre class="language-ts"><code><span class="token keyword">import</span> <span class="token punctuation">{</span> http <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&quot;@/utils/request&quot;</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token punctuation">{</span> defineStore <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&quot;pinia&quot;</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token keyword">type</span> <span class="token punctuation">{</span> Profile <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&quot;@/types&quot;</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token punctuation">{</span> message <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&quot;@/components/XtxUI&quot;</span><span class="token punctuation">;</span>
<span class="token comment">// ğŸ“Œåœ¨é .vue ç»„ä»¶æ–‡ä»¶ä¸­ï¼Œå¯é€šè¿‡å¯¼å…¥ router ç›´æ¥è·å–è·¯ç”±å®ä¾‹</span>
<span class="token keyword">import</span> router <span class="token keyword">from</span> <span class="token string">&quot;@/router&quot;</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token punctuation">{</span>
  clearStorageProfile<span class="token punctuation">,</span>
  getStorageProfile<span class="token punctuation">,</span>
  saveStorageProfile<span class="token punctuation">,</span>
<span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&quot;@/utils/storage&quot;</span><span class="token punctuation">;</span>

<span class="token keyword">const</span> useMemberStore <span class="token operator">=</span> <span class="token function">defineStore</span><span class="token punctuation">(</span><span class="token string">&quot;member&quot;</span><span class="token punctuation">,</span> <span class="token punctuation">{</span>
  <span class="token comment">// ğŸš¨ä½¿ç”¨æ’ä»¶é‡åˆ°å°é—®é¢˜ï¼Œè‡ªå·±æ‰‹å†™æœ¬åœ°å­˜å‚¨</span>
  <span class="token comment">// persist: true,</span>
  <span class="token comment">// çŠ¶æ€</span>
  <span class="token function-variable function">state</span><span class="token operator">:</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">(</span><span class="token punctuation">{</span>
    <span class="token comment">// ç”¨æˆ·èµ„æ–™</span>
    profile<span class="token operator">:</span> <span class="token punctuation">{</span><span class="token punctuation">}</span> <span class="token keyword">as</span> Profile<span class="token punctuation">,</span>
  <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
  <span class="token comment">// æ–¹æ³•</span>
  actions<span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token comment">// ç™»å½•æˆåŠŸåçš„å¤ç”¨é€»è¾‘å°è£…</span>
    <span class="token function">loginSuccess</span><span class="token punctuation">(</span>profile<span class="token operator">:</span> Profile<span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token comment">// 1. æç¤º</span>
      <span class="token function">message</span><span class="token punctuation">(</span><span class="token punctuation">{</span> type<span class="token operator">:</span> <span class="token string">'success'</span><span class="token punctuation">,</span> text<span class="token operator">:</span> <span class="token string">'ç™»å½•æˆåŠŸ'</span> <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
      <span class="token comment">// 2. å­˜å‚¨æ•°æ®</span>
      <span class="token keyword">this</span><span class="token punctuation">.</span>profile <span class="token operator">=</span> profile<span class="token punctuation">;</span>
      <span class="token comment">// ğŸ””è·å–ç›®æ ‡é¡µé¢ targetï¼Œå¦‚æœæ²¡æœ‰ç›®æ ‡é¡µï¼Œåˆ™è®¾ç½®é»˜è®¤å€¼ '/' å»é¦–é¡µ</span>
      <span class="token keyword">const</span> <span class="token punctuation">{</span> target <span class="token operator">=</span> <span class="token string">'/'</span> <span class="token punctuation">}</span> <span class="token operator">=</span> router<span class="token punctuation">.</span>currentRoute<span class="token punctuation">.</span>value<span class="token punctuation">.</span>query<span class="token punctuation">;</span>
      <span class="token comment">// 3. è·³è½¬é¡µé¢</span>
      router<span class="token punctuation">.</span><span class="token function">push</span><span class="token punctuation">(</span>target <span class="token keyword">as</span> <span class="token builtin">string</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token comment">// ç”¨æˆ·åå¯†ç ç™»å½•</span>
    <span class="token keyword">async</span> <span class="token function">login</span><span class="token punctuation">(</span>data<span class="token operator">:</span> <span class="token punctuation">{</span> account<span class="token operator">:</span> <span class="token builtin">string</span><span class="token punctuation">;</span> password<span class="token operator">:</span> <span class="token builtin">string</span> <span class="token punctuation">}</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token comment">// å‘é€è¯·æ±‚</span>
      <span class="token keyword">const</span> res <span class="token operator">=</span> <span class="token keyword">await</span> <span class="token generic-function"><span class="token function">http</span><span class="token generic class-name"><span class="token operator">&lt;</span>Profile<span class="token operator">&gt;</span></span></span><span class="token punctuation">(</span><span class="token string">&quot;POST&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;/login&quot;</span><span class="token punctuation">,</span> data<span class="token punctuation">)</span><span class="token punctuation">;</span>
      <span class="token comment">// è°ƒç”¨ç™»å½•æˆåŠŸåçš„é€»è¾‘</span>
      <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">loginSuccess</span><span class="token punctuation">(</span>res<span class="token punctuation">.</span>data<span class="token punctuation">.</span>result<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token comment">// é€€å‡ºç™»å½•</span>
    <span class="token keyword">async</span> <span class="token function">logout</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token comment">// 1. æç¤º</span>
      <span class="token function">message</span><span class="token punctuation">(</span><span class="token punctuation">{</span> type<span class="token operator">:</span> <span class="token string">'success'</span><span class="token punctuation">,</span> text<span class="token operator">:</span> <span class="token string">'é€€å‡ºæˆåŠŸ'</span> <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
      <span class="token comment">// 2. æ¸…ç©ºç”¨æˆ·ä¿¡æ¯</span>
      <span class="token keyword">this</span><span class="token punctuation">.</span>profile <span class="token operator">=</span> <span class="token punctuation">{</span><span class="token punctuation">}</span> <span class="token keyword">as</span> Profile<span class="token punctuation">;</span>
      <span class="token comment">// 3. è·³è½¬é¡µé¢</span>
      router<span class="token punctuation">.</span><span class="token function">push</span><span class="token punctuation">(</span><span class="token string">'/login'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token comment">// ä¸‰æ–¹ç™»å½•_è´¦å·ç»‘å®š  /login/social/bind</span>
    <span class="token keyword">async</span> <span class="token function">loginBind</span><span class="token punctuation">(</span>data<span class="token operator">:</span> <span class="token punctuation">{</span> unionId<span class="token operator">:</span> <span class="token builtin">string</span><span class="token punctuation">;</span> mobile<span class="token operator">:</span> <span class="token builtin">string</span><span class="token punctuation">;</span> code<span class="token operator">:</span> <span class="token builtin">string</span> <span class="token punctuation">}</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token comment">// å‘é€è¯·æ±‚</span>
      <span class="token keyword">const</span> res <span class="token operator">=</span> <span class="token keyword">await</span> <span class="token generic-function"><span class="token function">http</span><span class="token generic class-name"><span class="token operator">&lt;</span>Profile<span class="token operator">&gt;</span></span></span><span class="token punctuation">(</span><span class="token string">&quot;POST&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;/login/social/bind&quot;</span><span class="token punctuation">,</span> data<span class="token punctuation">)</span><span class="token punctuation">;</span>
      <span class="token comment">// è°ƒç”¨ç™»å½•æˆåŠŸåçš„é€»è¾‘</span>
      <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">loginSuccess</span><span class="token punctuation">(</span>res<span class="token punctuation">.</span>data<span class="token punctuation">.</span>result<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token comment">// è·å–ä¸‰æ–¹ç™»å½•éªŒè¯ç   /login/social/code</span>
    <span class="token keyword">async</span> <span class="token function">loginBindGetCode</span><span class="token punctuation">(</span>mobile<span class="token operator">:</span> <span class="token builtin">string</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token comment">// ğŸš¨æ³¨æ„æ¥å£ï¼šä¸‰æ–¹ç™»å½•_å‘é€å·²æœ‰è´¦å·çŸ­ä¿¡</span>
      <span class="token keyword">await</span> <span class="token function">http</span><span class="token punctuation">(</span><span class="token string">'GET'</span><span class="token punctuation">,</span> <span class="token string">'/login/social/code'</span><span class="token punctuation">,</span> <span class="token punctuation">{</span> mobile<span class="token operator">:</span> mobile <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
      <span class="token comment">// ğŸ””æ¸©é¦¨æé†’ï¼šéªŒè¯ç æ˜¯å‘é€åˆ°ç”¨æˆ·æ‰‹æœºä¸Šçš„</span>
      <span class="token function">message</span><span class="token punctuation">(</span><span class="token punctuation">{</span> type<span class="token operator">:</span> <span class="token string">'success'</span><span class="token punctuation">,</span> text<span class="token operator">:</span> <span class="token string">'éªŒè¯ç å‘é€æˆåŠŸ'</span> <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token keyword">export</span> <span class="token keyword">default</span> useMemberStore<span class="token punctuation">;</span>

</code></pre></div><h3 id="qq-ä¸‰æ–¹ç™»å½•å›è·³å¤„ç†"><a href="#qq-ä¸‰æ–¹ç™»å½•å›è·³å¤„ç†" class="header-anchor">#</a> QQ ä¸‰æ–¹ç™»å½•å›è·³å¤„ç†</h3> <p>ğŸ””é‡åˆ°é—®é¢˜ï¼š<code>QQ</code>ä¸‰æ–¹ç™»å½•æ— æ³•å®ç°å›è·³ï¼Œå¦‚ä½•è§£å†³ï¼Ÿ</p> <blockquote><p>ç›®æ ‡ï¼šæŠŠè·¯ç”±çš„ <code>target</code> ç›®æ ‡é¡µä¼ é€’ç»™ <code>QQ</code> ç™»å½•é¡µï¼Œå®ç° <code>QQ</code> ç™»å½•åå›è·³ã€‚</p></blockquote> <div class="language-vue extra-class"><pre class="language-vue"><code>      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>a</span>
        <span class="token attr-name">:href</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>`https://graph.qq.com/oauth2.0/authorize?client_id=100556005&amp;response_type=token&amp;scope=all&amp;redirect_uri=http%3A%2F%2Fwww.corho.com%3A8080%2F%23%2Flogin%2Fcallback?target=${$route.query.target || '/'}`<span class="token punctuation">&quot;</span></span>
      <span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>img</span>
          <span class="token attr-name">src</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>https://qzonestyle.gtimg.cn/qzone/vas/opensns/res/img/Connect_logo_7.png<span class="token punctuation">&quot;</span></span>
          <span class="token attr-name">alt</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span><span class="token punctuation">&quot;</span></span>
        <span class="token punctuation">/&gt;</span></span>
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>a</span><span class="token punctuation">&gt;</span></span>
</code></pre></div><h2 id="æœ‰è´¦å·å·²ç»‘å®š-qqç™»å½•ç›´æ¥è·³è½¬-ğŸš¨"><a href="#æœ‰è´¦å·å·²ç»‘å®š-qqç™»å½•ç›´æ¥è·³è½¬-ğŸš¨" class="header-anchor">#</a> æœ‰è´¦å·å·²ç»‘å®š ï¼ˆQQç™»å½•ç›´æ¥è·³è½¬ï¼‰ğŸš¨</h2> <blockquote><p>ç›®æ ‡ï¼š<code>QQ</code>ç™»å½•æˆåŠŸåï¼Œç›´æ¥è·³è½¬ã€‚</p></blockquote> <p><strong>å®ç°æ€è·¯</strong></p> <ol><li>å›è·³ç»„ä»¶åˆå§‹åŒ–çš„æ—¶å€™ï¼Œè·å–openId  ï¼ˆopenId =&gt; å¯¹åº”ç”¨æˆ·èº«ä»½ - QQè¿”å›çš„å”¯ä¸€idèº«ä»½æ ‡è¯†ï¼‰</li> <li>æ ¹æ® <code>openId</code> å»è‡ªå·±åå°å°è¯•è¿›è¡Œ <strong>ç›´æ¥ç™»å½•</strong></li> <li>å¦‚æœæˆåŠŸï¼Œå°±ä»£è¡¨å·²æ³¨å†Œå·²ç»‘å®šï¼Œè®°å½•è¿”å›çš„ç”¨æˆ·ä¿¡æ¯ï¼Œè·³è½¬åˆ°é¦–é¡µæˆ–è€…æ¥æºé¡µé¢</li></ol> <p><strong>æ¥å£æè¿°ï¼šä¸‰æ–¹ç›´æ¥ç™»å½•</strong></p> <p><strong>Pathï¼š</strong> /login/social</p> <p><strong>Methodï¼š</strong> POST</p> <p><strong>è¯·æ±‚å‚æ•°</strong></p> <p><strong>Body</strong></p> <table><thead><tr><th>åç§°</th> <th>ç±»å‹</th> <th>æ˜¯å¦å¿…é¡»</th> <th>å¤‡æ³¨</th></tr></thead> <tbody><tr><td>unionId</td> <td>string</td> <td>å¿…é¡»</td> <td>ä¸‰æ–¹æ ‡è¯†</td></tr> <tr><td>source</td> <td>integer</td> <td>å¿…é¡»</td> <td>æ³¨å†Œæ¥æº æ³¨å†Œæ¥æºï¼Œ1ä¸ºpcï¼Œ2ä¸ºwebappï¼Œ3ä¸ºå¾®ä¿¡å°ç¨‹åºï¼Œ4ä¸ºAndroidï¼Œ5ä¸ºios,6ä¸ºqq,7ä¸ºå¾®ä¿¡</td></tr></tbody></table> <p><strong>ä»£ç è½åœ°</strong></p> <p>1ï¼‰å‡†å¤‡ä½¿ç”¨QQ uionIdè¿›è¡Œåº”ç”¨ç™»å½•çš„æ¥å£</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">const</span> useMemberStore <span class="token operator">=</span> <span class="token function">defineStore</span><span class="token punctuation">(</span><span class="token string">&quot;member&quot;</span><span class="token punctuation">,</span><span class="token punctuation">{</span>
  <span class="token comment">// æ–¹æ³•</span>
  <span class="token literal-property property">actions</span><span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token operator">...</span>
    <span class="token comment">// QQç›´æ¥ç™»å½•</span>
    <span class="token keyword">async</span> <span class="token function">loginQQUnionId</span><span class="token punctuation">(</span><span class="token parameter"><span class="token literal-property property">data</span><span class="token operator">:</span> <span class="token punctuation">{</span> <span class="token literal-property property">unionId</span><span class="token operator">:</span> string<span class="token punctuation">;</span> source<span class="token operator">:</span> number <span class="token punctuation">}</span></span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token keyword">const</span> res <span class="token operator">=</span> <span class="token keyword">await</span> http<span class="token operator">&lt;</span>Profile<span class="token operator">&gt;</span><span class="token punctuation">(</span><span class="token string">&quot;POST&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;/login/social&quot;</span><span class="token punctuation">,</span> data<span class="token punctuation">)</span><span class="token punctuation">;</span>
      <span class="token comment">// console.log(&quot;POST&quot;, &quot;/login/social&quot;, res.data.result);</span>
      <span class="token keyword">this</span><span class="token punctuation">.</span>profile <span class="token operator">=</span> res<span class="token punctuation">.</span>data<span class="token punctuation">.</span>result<span class="token punctuation">;</span>
      <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">loginSuccess</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token keyword">export</span> <span class="token keyword">default</span> useMemberStore<span class="token punctuation">;</span>

</code></pre></div><p>è°ƒç”¨</p> <div class="language-diff extra-class"><pre class="language-diff"><code><span class="token deleted-arrow deleted"><span class="token prefix deleted">&lt;</span><span class="token line">script setup lang=&quot;ts&quot;&gt;
</span></span>...
// 1. æ£€æŸ¥ç”¨æˆ·æ˜¯å¦å·²ç™»å½•
if (QC.Login.check()) {
<span class="token unchanged"><span class="token prefix unchanged"> </span><span class="token line"> // 2. è·å– QQ ç”¨æˆ·å”¯ä¸€æ ‡è¯† openId
</span><span class="token prefix unchanged"> </span><span class="token line"> QC.Login.getMe((openId) =&gt; {
</span><span class="token prefix unchanged"> </span><span class="token line">   console.log(&quot;openId&quot;, openId);
</span></span><span class="token inserted-sign inserted"><span class="token prefix inserted">+</span><span class="token line">    // ğŸš¨ è·å– openId åï¼Œå°è¯•ç›´æ¥ç™»å½•
</span><span class="token prefix inserted">+</span><span class="token line">    member.loginQQUnionId({ unionId: openId, source: 6 });
</span></span><span class="token unchanged"><span class="token prefix unchanged"> </span><span class="token line">   unionId.value = openId;
</span><span class="token prefix unchanged"> </span><span class="token line"> });
</span><span class="token prefix unchanged"> </span><span class="token line"> // 3. è·å–ç”¨æˆ·èµ„æ–™
</span><span class="token prefix unchanged"> </span><span class="token line"> QC.api(&quot;get_user_info&quot;).success((res: QQUserInfo) =&gt; {
</span><span class="token prefix unchanged"> </span><span class="token line">   // console.log(&quot;è·å–ç”¨æˆ·èµ„æ–™&quot;, res.data);
</span><span class="token prefix unchanged"> </span><span class="token line">   userInfo.value = res;
</span><span class="token prefix unchanged"> </span><span class="token line"> });
</span></span>}
<span class="token deleted-arrow deleted"><span class="token prefix deleted">&lt;</span><span class="token line">/script&gt;
</span></span></code></pre></div><p>å¯ä»¥è€ƒè™‘å‡çº§æˆæšä¸¾</p> <div class="language-ts extra-class"><pre class="language-ts"><code><span class="token comment">// 1ä¸ºpcï¼Œ2ä¸ºwebappï¼Œ3ä¸ºå¾®ä¿¡å°ç¨‹åºï¼Œ4ä¸ºAndroidï¼Œ5ä¸ºios,6ä¸ºqq,7ä¸ºå¾®ä¿¡</span>
<span class="token keyword">enum</span> LoginSource <span class="token punctuation">{</span>
  <span class="token constant">PC</span> <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">,</span>
  WebApp<span class="token punctuation">,</span>
  MiniProgram<span class="token punctuation">,</span>
  Android<span class="token punctuation">,</span>
  <span class="token constant">IOS</span><span class="token punctuation">,</span>
  <span class="token constant">QQ</span><span class="token punctuation">,</span>
  WeChat<span class="token punctuation">,</span>
<span class="token punctuation">}</span>
</code></pre></div><h2 id="æ— è´¦å·æœªç»‘å®š-æ³¨å†Œç™»å½•-è¯¾åä½œä¸š"><a href="#æ— è´¦å·æœªç»‘å®š-æ³¨å†Œç™»å½•-è¯¾åä½œä¸š" class="header-anchor">#</a> æ— è´¦å·æœªç»‘å®š ï¼ˆæ³¨å†Œç™»å½•-è¯¾åä½œä¸šï¼‰</h2> <blockquote><p>è¯´æ˜ï¼šä¸šåŠ¡æµç¨‹å’Œç»‘å®šæµ‹è¯•è´¦å·æµç¨‹å‡ ä¹ä¸€è‡´ï¼Œè¡¨å•æ ¡éªŒï¼Œå‘é€éªŒè¯ç ï¼Œç»‘å®š <code>openId</code> å®ç°æ³¨å†Œç™»å½•ã€‚</p> <p>ğŸš¨æ¸©é¦¨æç¤ºï¼šä¸€ä¸ªæ‰‹æœºå·å’Œä¸€ä¸ª <code>QQ</code> å·åªèƒ½ æ³¨å†Œå¹¶ç»‘å®šä¸€æ¬¡ã€‚</p> <ul><li>å¦‚æœ<code>QQ</code>å·å·²ç»‘å®šæŸä¸ªæ‰‹æœºå·ï¼Œæ‰‹åŠ¨è°ƒç”¨ä¸€ä¸‹è§£ç»‘æ¥å£ã€‚</li></ul> <p>http://pcapi-xiaotuxian-front-devtest.itheima.net/login/social/unbind?mobile=æ‰‹æœºå·</p> <ul><li>å¦‚æœæ‰‹æœºå·å·²è¢«ä½¿ç”¨ï¼Œæ›´æ¢æ–°çš„æ‰‹æœºå·ï¼Œå»ºè®®è®°åˆ°å°æœ¬æœ¬ä¸Šï¼Œå¦åˆ™æ— æ³•æ‰¾å›ã€‚</li></ul></blockquote> <p><img src="/vuepress-starter/assets/img/11-1628025535476.5c8e793f.png" alt=""></p> <h3 id="æ¥å£ä¸‰æ–¹ç™»å½•-æ³¨å†Œç™»å½•"><a href="#æ¥å£ä¸‰æ–¹ç™»å½•-æ³¨å†Œç™»å½•" class="header-anchor">#</a> æ¥å£ä¸‰æ–¹ç™»å½•-æ³¨å†Œç™»å½•</h3> <p><strong>Pathï¼š</strong> /login/social/:unionId/complement</p> <p><strong>Methodï¼š</strong> POST</p> <p><strong>è·¯å¾„å‚æ•°</strong></p> <table><thead><tr><th>å‚æ•°åç§°</th> <th>ç¤ºä¾‹</th> <th>å¤‡æ³¨</th></tr></thead> <tbody><tr><td>unionId</td> <td>megasuiscool</td> <td>unionId</td></tr></tbody></table> <p><strong>Body</strong></p> <table><thead><tr><th>åç§°</th> <th>ç±»å‹</th> <th>æ˜¯å¦å¿…é¡»</th> <th>é»˜è®¤å€¼</th> <th>å¤‡æ³¨</th> <th>å…¶ä»–ä¿¡æ¯</th></tr></thead> <tbody><tr><td>account</td> <td>string</td> <td>å¿…é¡»</td> <td></td> <td></td> <td></td></tr> <tr><td>mobile</td> <td>string</td> <td>å¿…é¡»</td> <td></td> <td></td> <td></td></tr> <tr><td>code</td> <td>string</td> <td>å¿…é¡»</td> <td></td> <td></td> <td></td></tr> <tr><td>password</td> <td>string</td> <td>å¿…é¡»</td> <td></td> <td></td> <td></td></tr></tbody></table> <h2 id="å€’è®¡æ—¶é€»è¾‘å‡½æ•°å°è£…-è¯¾åç»ƒä¹ "><a href="#å€’è®¡æ—¶é€»è¾‘å‡½æ•°å°è£…-è¯¾åç»ƒä¹ " class="header-anchor">#</a> å€’è®¡æ—¶é€»è¾‘å‡½æ•°å°è£…-è¯¾åç»ƒä¹ </h2> <blockquote><p>å°è£…ä¸€ä¸ªé€šç”¨çš„å€’è®¡æ—¶é€»è¾‘å‡½æ•° <code>useCountDown</code></p></blockquote> <p><strong>éœ€æ±‚æè¿°</strong></p> <ol><li><p>æ”¯æŒè‡ªå®šä¹‰å‚æ•°ä¼ å…¥å®šåˆ¶å€’è®¡æ—¶åˆå§‹å€¼</p> <p>eg: <code>useCountDown(60)</code></p></li> <li><p>è¿”å›å½“å‰è®¡æ•°/æš‚åœè®¡æ—¶æ–¹æ³•/å¼€å§‹è®¡æ—¶æ–¹æ³•ä¾›ä¸šåŠ¡ä½¿ç”¨</p> <p>eg: <code>const {countTime, start, pause} = useCountDown(60)</code></p></li></ol> <p><strong>é€»è¾‘å®ç°</strong></p> <blockquote><p>å‚è€ƒæ–‡æ¡£ï¼š<a href="https://vueuse.org/shared/useintervalfn/" target="_blank" rel="noopener noreferrer">https://vueuse.org/shared/useintervalfn/<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></p></blockquote> <p>æ ¸å¿ƒé€»è¾‘ï¼šæ¯éš”ä¸€ç§’é’Ÿï¼Œå¯¹ countTime è¿›è¡Œå‡ 1 æ“ä½œ</p> <ol><li>resumeï¼šå¯æ‰§è¡Œå‡½æ•°ï¼Œå¼€å¯å®šæ—¶å™¨ï¼Œæ¯éš”ä¸€ä¸ªæ—¶é—´æ‰§è¡Œä¸€æ¬¡</li> <li>pauseï¼š å¯æ‰§è¡Œå‡½æ•°ï¼Œåªè¦æ‰§è¡Œè¿™ä¸ªå‡½æ•°ï¼Œå®šæ—¶å™¨å°±ä¼šæš‚åœ</li></ol> <h3 id="ç»„ä»¶ä¸­å†™æ³•"><a href="#ç»„ä»¶ä¸­å†™æ³•" class="header-anchor">#</a> ç»„ä»¶ä¸­å†™æ³•</h3> <div class="language-html extra-class"><pre class="language-html"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span> <span class="token attr-name">setup</span> <span class="token attr-name">lang</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>ts<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token script"><span class="token language-javascript">
<span class="token keyword">import</span> <span class="token punctuation">{</span> useIntervalFn <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&quot;@vueuse/core&quot;</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token punctuation">{</span> ref <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&quot;vue&quot;</span><span class="token punctuation">;</span>
    
<span class="token keyword">const</span> countTime <span class="token operator">=</span> <span class="token function">ref</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">const</span> <span class="token punctuation">{</span> pause<span class="token punctuation">,</span> resume <span class="token punctuation">}</span> <span class="token operator">=</span> <span class="token function">useIntervalFn</span><span class="token punctuation">(</span>
  <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
    countTime<span class="token punctuation">.</span>value<span class="token operator">--</span><span class="token punctuation">;</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span>countTime<span class="token punctuation">.</span>value <span class="token operator">&lt;=</span> <span class="token number">0</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token function">pause</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token number">1000</span><span class="token punctuation">,</span>
  <span class="token punctuation">{</span> im<span class="token punctuation">.</span><span class="token operator">/</span>mediate<span class="token operator">:</span> <span class="token boolean">false</span> <span class="token punctuation">}</span>
<span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token keyword">const</span> <span class="token function-variable function">start</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
  countTime<span class="token punctuation">.</span>value <span class="token operator">=</span> <span class="token number">60</span><span class="token punctuation">;</span>
  <span class="token function">resume</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">&gt;</span></span>

<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>template</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span><span class="token punctuation">&gt;</span></span>
    {{ countTime }}
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>button</span> <span class="token attr-name">@click</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>start<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>å¼€å§‹å®šæ—¶å™¨<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>button</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>button</span> <span class="token attr-name">@click</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>pause<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>æš‚åœå®šæ—¶å™¨<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>button</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>button</span> <span class="token attr-name">@click</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>resume<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>ç»§ç»­å®šæ—¶å™¨<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>button</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>template</span><span class="token punctuation">&gt;</span></span>

</code></pre></div><h3 id="å°è£…æˆ-hooks-é’©å­å‡½æ•°"><a href="#å°è£…æˆ-hooks-é’©å­å‡½æ•°" class="header-anchor">#</a> å°è£…æˆ hooks é’©å­å‡½æ•°</h3> <p>åœ¨ <code>src\hooks\index.ts</code> æ–‡ä»¶ä¸­æ–°å¢ä»¥ä¸‹ä»£ç ï¼š</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token comment">/**
 * å€’è®¡æ—¶æ•ˆæœ
 * @param startTime  åˆå§‹åŒ–æ—¶é—´
 * @returns count    å€’è®¡æ—¶ç§’æ•°
 * @returns start    åˆå§‹åŒ–å¯åŠ¨
 * @returns resume   ç»§ç»­å¯åŠ¨
 * @returns pause    æš‚åœ(æ¸…ç†å®šæ—¶å™¨)
 */</span>
<span class="token keyword">export</span> <span class="token keyword">const</span> <span class="token function-variable function">useCountDown</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token parameter">startTime <span class="token operator">=</span> <span class="token number">60</span></span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
  <span class="token comment">// å€’è®¡æ—¶ç§’æ•°</span>
  <span class="token keyword">const</span> count <span class="token operator">=</span> <span class="token function">ref</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token comment">// resume  ç»§ç»­å¯åŠ¨</span>
  <span class="token comment">// pause   æš‚åœ(æ¸…ç†å®šæ—¶å™¨)</span>
  <span class="token keyword">const</span> <span class="token punctuation">{</span> resume<span class="token punctuation">,</span> pause <span class="token punctuation">}</span> <span class="token operator">=</span> <span class="token function">useIntervalFn</span><span class="token punctuation">(</span>
    <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
      <span class="token comment">// å€’è®¡æ—¶å‡å°‘</span>
      count<span class="token punctuation">.</span>value<span class="token operator">--</span><span class="token punctuation">;</span>
      <span class="token comment">// å€’è®¡æ—¶ç»“æŸ</span>
      <span class="token keyword">if</span> <span class="token punctuation">(</span>count<span class="token punctuation">.</span>value <span class="token operator">===</span> <span class="token number">0</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token function">pause</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
      <span class="token punctuation">}</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token number">1000</span><span class="token punctuation">,</span>
    <span class="token comment">// ä¸éœ€è¦ç«‹å³æ‰§è¡Œ</span>
    <span class="token punctuation">{</span> im<span class="token punctuation">.</span><span class="token operator">/</span>mediate<span class="token operator">:</span> <span class="token boolean">false</span> <span class="token punctuation">}</span>
  <span class="token punctuation">)</span><span class="token punctuation">;</span>

  <span class="token comment">// åˆå§‹åŒ–å¯åŠ¨å‡½æ•°</span>
  <span class="token keyword">const</span> <span class="token function-variable function">start</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
    <span class="token comment">// å€’è®¡æ—¶</span>
    count<span class="token punctuation">.</span>value <span class="token operator">=</span> startTime<span class="token punctuation">;</span>
    <span class="token function">resume</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span><span class="token punctuation">;</span>

  <span class="token comment">// count   å€’è®¡æ—¶ç§’æ•°</span>
  <span class="token comment">// start   åˆå§‹åŒ–å¯åŠ¨</span>
  <span class="token comment">// resume  ç»§ç»­å¯åŠ¨</span>
  <span class="token comment">// pause   æš‚åœ(æ¸…ç†å®šæ—¶å™¨)</span>
  <span class="token keyword">return</span> <span class="token punctuation">{</span> count<span class="token punctuation">,</span> resume<span class="token punctuation">,</span> pause<span class="token punctuation">,</span> start <span class="token punctuation">}</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
</code></pre></div><p>test ç»„ä»¶æµ‹è¯•</p> <div class="language-vue extra-class"><pre class="language-vue"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span> <span class="token attr-name">setup</span> <span class="token attr-name">lang</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>ts<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token script"><span class="token language-javascript">
<span class="token keyword">import</span> <span class="token punctuation">{</span> useCountDown <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">'@/hooks'</span><span class="token punctuation">;</span>
<span class="token comment">// å°è£…åè°ƒç”¨å¾ˆæ–¹ä¾¿</span>
<span class="token keyword">const</span> <span class="token punctuation">{</span> start<span class="token punctuation">,</span> pause<span class="token punctuation">,</span> resume<span class="token punctuation">,</span> count <span class="token punctuation">}</span> <span class="token operator">=</span> <span class="token function">useCountDown</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">&gt;</span></span>

<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>template</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>h1</span><span class="token punctuation">&gt;</span></span>Hello vue3<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>h1</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>button</span> <span class="token attr-name">@click</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>start<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>åˆå§‹åŒ–å¯åŠ¨<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>button</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>button</span> <span class="token attr-name">@click</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>pause<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>æš‚åœ<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>button</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>button</span> <span class="token attr-name">@click</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>resume<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>ç»§ç»­å¯åŠ¨<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>button</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>h3</span><span class="token punctuation">&gt;</span></span>{{ count }}<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>h3</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>template</span><span class="token punctuation">&gt;</span></span>

</code></pre></div><h3 id="è¯¾ååº”ç”¨"><a href="#è¯¾ååº”ç”¨" class="header-anchor">#</a> è¯¾ååº”ç”¨</h3> <ul><li>è‡ªå·±æŠŠå°è£…çš„å€’è®¡æ—¶ hooks é’©å­å‡½æ•°ï¼Œæ•´åˆåˆ°å‘é€éªŒè¯ç ä¸šåŠ¡ä¸­ã€‚</li></ul></div> <footer class="page-edit"><!----> <!----></footer> <div class="page-nav"><p class="inner"><span class="prev">
      â†
      <a href="/vuepress-starter/handbook/vueRabbitTs/04-è¯¦æƒ…æ¨¡å—.html" class="prev">
        è¯¦æƒ…æ¨¡å—
      </a></span> <span class="next"><a href="/vuepress-starter/handbook/vueRabbitTs/06-è´­ç‰©è½¦æ¨¡å—.html">
        è´­ç‰©è½¦æ¨¡å—
      </a>
      â†’
    </span></p></div> </main></div><div class="global-ui"></div></div>
    <script src="/vuepress-starter/assets/js/app.e3fb7a36.js" defer></script><script src="/vuepress-starter/assets/js/2.659413da.js" defer></script><script src="/vuepress-starter/assets/js/3.419d79d3.js" defer></script>
  </body>
</html>
