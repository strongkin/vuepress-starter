<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>React Hooks基础 | TS文档</title>
    <meta name="generator" content="VuePress 1.9.7">
    <link rel="icon" href="/vuepress-starter/images/good.png">
    <meta name="description" content="TS文档翻译">
    
    <link rel="preload" href="/vuepress-starter/assets/css/0.styles.3647dceb.css" as="style"><link rel="preload" href="/vuepress-starter/assets/js/app.04b70824.js" as="script"><link rel="preload" href="/vuepress-starter/assets/js/8.63529011.js" as="script"><link rel="preload" href="/vuepress-starter/assets/js/1.2f7c1606.js" as="script"><link rel="preload" href="/vuepress-starter/assets/js/103.30dc88a6.js" as="script"><link rel="prefetch" href="/vuepress-starter/assets/js/10.eeab68ec.js"><link rel="prefetch" href="/vuepress-starter/assets/js/100.8f946666.js"><link rel="prefetch" href="/vuepress-starter/assets/js/101.1bc88436.js"><link rel="prefetch" href="/vuepress-starter/assets/js/102.3bbdb9a2.js"><link rel="prefetch" href="/vuepress-starter/assets/js/104.aa44073e.js"><link rel="prefetch" href="/vuepress-starter/assets/js/105.0cde8c61.js"><link rel="prefetch" href="/vuepress-starter/assets/js/106.2b7329f9.js"><link rel="prefetch" href="/vuepress-starter/assets/js/107.a5c63658.js"><link rel="prefetch" href="/vuepress-starter/assets/js/108.59d41c7a.js"><link rel="prefetch" href="/vuepress-starter/assets/js/109.5ad3d715.js"><link rel="prefetch" href="/vuepress-starter/assets/js/11.c733d623.js"><link rel="prefetch" href="/vuepress-starter/assets/js/110.7974faeb.js"><link rel="prefetch" href="/vuepress-starter/assets/js/111.1b7c08ba.js"><link rel="prefetch" href="/vuepress-starter/assets/js/112.a31e92a8.js"><link rel="prefetch" href="/vuepress-starter/assets/js/113.7d2d66ad.js"><link rel="prefetch" href="/vuepress-starter/assets/js/114.561583ff.js"><link rel="prefetch" href="/vuepress-starter/assets/js/115.f5497f71.js"><link rel="prefetch" href="/vuepress-starter/assets/js/116.24fdf83e.js"><link rel="prefetch" href="/vuepress-starter/assets/js/117.f66cac5c.js"><link rel="prefetch" href="/vuepress-starter/assets/js/12.68514add.js"><link rel="prefetch" href="/vuepress-starter/assets/js/13.6a1695cd.js"><link rel="prefetch" href="/vuepress-starter/assets/js/14.4bd4604f.js"><link rel="prefetch" href="/vuepress-starter/assets/js/15.0f919e3e.js"><link rel="prefetch" href="/vuepress-starter/assets/js/16.b71d9f5c.js"><link rel="prefetch" href="/vuepress-starter/assets/js/17.bdbdbe43.js"><link rel="prefetch" href="/vuepress-starter/assets/js/18.e68818c1.js"><link rel="prefetch" href="/vuepress-starter/assets/js/19.04d49a2a.js"><link rel="prefetch" href="/vuepress-starter/assets/js/20.497bc6b1.js"><link rel="prefetch" href="/vuepress-starter/assets/js/21.e271533b.js"><link rel="prefetch" href="/vuepress-starter/assets/js/22.61fdfa9f.js"><link rel="prefetch" href="/vuepress-starter/assets/js/23.d2db3f12.js"><link rel="prefetch" href="/vuepress-starter/assets/js/24.4e048e74.js"><link rel="prefetch" href="/vuepress-starter/assets/js/25.da860991.js"><link rel="prefetch" href="/vuepress-starter/assets/js/26.75397203.js"><link rel="prefetch" href="/vuepress-starter/assets/js/27.e9d1c871.js"><link rel="prefetch" href="/vuepress-starter/assets/js/28.0c5e0336.js"><link rel="prefetch" href="/vuepress-starter/assets/js/29.14b0b43f.js"><link rel="prefetch" href="/vuepress-starter/assets/js/3.e4c6f19b.js"><link rel="prefetch" href="/vuepress-starter/assets/js/30.cd6d127e.js"><link rel="prefetch" href="/vuepress-starter/assets/js/31.aec5f60c.js"><link rel="prefetch" href="/vuepress-starter/assets/js/32.70ee3dae.js"><link rel="prefetch" href="/vuepress-starter/assets/js/33.669eb162.js"><link rel="prefetch" href="/vuepress-starter/assets/js/34.5ca21a8a.js"><link rel="prefetch" href="/vuepress-starter/assets/js/35.ce2102e4.js"><link rel="prefetch" href="/vuepress-starter/assets/js/36.ed371df1.js"><link rel="prefetch" href="/vuepress-starter/assets/js/37.d40c54b0.js"><link rel="prefetch" href="/vuepress-starter/assets/js/38.19fb1b70.js"><link rel="prefetch" href="/vuepress-starter/assets/js/39.abc7dc66.js"><link rel="prefetch" href="/vuepress-starter/assets/js/4.f0b6a354.js"><link rel="prefetch" href="/vuepress-starter/assets/js/40.7b1aee14.js"><link rel="prefetch" href="/vuepress-starter/assets/js/41.51ea3a40.js"><link rel="prefetch" href="/vuepress-starter/assets/js/42.2194203c.js"><link rel="prefetch" href="/vuepress-starter/assets/js/43.34c38128.js"><link rel="prefetch" href="/vuepress-starter/assets/js/44.24e47804.js"><link rel="prefetch" href="/vuepress-starter/assets/js/45.d7982f10.js"><link rel="prefetch" href="/vuepress-starter/assets/js/46.3a01d5ea.js"><link rel="prefetch" href="/vuepress-starter/assets/js/47.e102877b.js"><link rel="prefetch" href="/vuepress-starter/assets/js/48.e39480da.js"><link rel="prefetch" href="/vuepress-starter/assets/js/49.25ff63b8.js"><link rel="prefetch" href="/vuepress-starter/assets/js/5.3fb7e4f5.js"><link rel="prefetch" href="/vuepress-starter/assets/js/50.c9ec88f0.js"><link rel="prefetch" href="/vuepress-starter/assets/js/51.8da18b49.js"><link rel="prefetch" href="/vuepress-starter/assets/js/52.ca0fb3cd.js"><link rel="prefetch" href="/vuepress-starter/assets/js/53.da504b47.js"><link rel="prefetch" href="/vuepress-starter/assets/js/54.1611c052.js"><link rel="prefetch" href="/vuepress-starter/assets/js/55.35b68504.js"><link rel="prefetch" href="/vuepress-starter/assets/js/56.3f85e8be.js"><link rel="prefetch" href="/vuepress-starter/assets/js/57.1a2c2f24.js"><link rel="prefetch" href="/vuepress-starter/assets/js/58.6214533e.js"><link rel="prefetch" href="/vuepress-starter/assets/js/59.ec5ea74b.js"><link rel="prefetch" href="/vuepress-starter/assets/js/6.c9b20fa1.js"><link rel="prefetch" href="/vuepress-starter/assets/js/60.15b516e9.js"><link rel="prefetch" href="/vuepress-starter/assets/js/61.9954aad0.js"><link rel="prefetch" href="/vuepress-starter/assets/js/62.e952b49d.js"><link rel="prefetch" href="/vuepress-starter/assets/js/63.210b9182.js"><link rel="prefetch" href="/vuepress-starter/assets/js/64.f650e12d.js"><link rel="prefetch" href="/vuepress-starter/assets/js/65.fae28599.js"><link rel="prefetch" href="/vuepress-starter/assets/js/66.07298c2b.js"><link rel="prefetch" href="/vuepress-starter/assets/js/67.d1aa1f6e.js"><link rel="prefetch" href="/vuepress-starter/assets/js/68.df1fd45e.js"><link rel="prefetch" href="/vuepress-starter/assets/js/69.11a8a940.js"><link rel="prefetch" href="/vuepress-starter/assets/js/7.37c85837.js"><link rel="prefetch" href="/vuepress-starter/assets/js/70.9e5b19e9.js"><link rel="prefetch" href="/vuepress-starter/assets/js/71.6dac8c23.js"><link rel="prefetch" href="/vuepress-starter/assets/js/72.2a7372ed.js"><link rel="prefetch" href="/vuepress-starter/assets/js/73.7057ac9e.js"><link rel="prefetch" href="/vuepress-starter/assets/js/74.8b53315b.js"><link rel="prefetch" href="/vuepress-starter/assets/js/75.ff044d38.js"><link rel="prefetch" href="/vuepress-starter/assets/js/76.c204c271.js"><link rel="prefetch" href="/vuepress-starter/assets/js/77.607bd39f.js"><link rel="prefetch" href="/vuepress-starter/assets/js/78.8a914d32.js"><link rel="prefetch" href="/vuepress-starter/assets/js/79.d5a36487.js"><link rel="prefetch" href="/vuepress-starter/assets/js/80.6d0b78af.js"><link rel="prefetch" href="/vuepress-starter/assets/js/81.f0ae11ae.js"><link rel="prefetch" href="/vuepress-starter/assets/js/82.2fb69cf8.js"><link rel="prefetch" href="/vuepress-starter/assets/js/83.a6432c69.js"><link rel="prefetch" href="/vuepress-starter/assets/js/84.15b067c3.js"><link rel="prefetch" href="/vuepress-starter/assets/js/85.d36affbb.js"><link rel="prefetch" href="/vuepress-starter/assets/js/86.10a8a28f.js"><link rel="prefetch" href="/vuepress-starter/assets/js/87.43d090e7.js"><link rel="prefetch" href="/vuepress-starter/assets/js/88.8f6f20c6.js"><link rel="prefetch" href="/vuepress-starter/assets/js/89.a4dc71c4.js"><link rel="prefetch" href="/vuepress-starter/assets/js/9.f1271395.js"><link rel="prefetch" href="/vuepress-starter/assets/js/90.17fdc78c.js"><link rel="prefetch" href="/vuepress-starter/assets/js/91.54e7a55d.js"><link rel="prefetch" href="/vuepress-starter/assets/js/92.adb5d1fa.js"><link rel="prefetch" href="/vuepress-starter/assets/js/93.43cf7a33.js"><link rel="prefetch" href="/vuepress-starter/assets/js/94.a2b898e2.js"><link rel="prefetch" href="/vuepress-starter/assets/js/95.a27c80b4.js"><link rel="prefetch" href="/vuepress-starter/assets/js/96.1345f731.js"><link rel="prefetch" href="/vuepress-starter/assets/js/97.a9413a95.js"><link rel="prefetch" href="/vuepress-starter/assets/js/98.4b16f6c0.js"><link rel="prefetch" href="/vuepress-starter/assets/js/99.6446783e.js">
    <link rel="stylesheet" href="/vuepress-starter/assets/css/0.styles.3647dceb.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container" data-v-7dd95ae2><div data-v-7dd95ae2><div class="password-shadow password-wrapper-out" style="display:none;" data-v-59e6cb88 data-v-7dd95ae2 data-v-7dd95ae2><h3 class="title" data-v-59e6cb88>TS文档</h3> <p class="description" data-v-59e6cb88>TS文档翻译</p> <label id="box" class="inputBox" data-v-59e6cb88><input type="password" value="" data-v-59e6cb88> <span data-v-59e6cb88>Konck! Knock!</span> <button data-v-59e6cb88>OK</button></label> <div class="footer" data-v-59e6cb88><span data-v-59e6cb88><i class="iconfont reco-theme" data-v-59e6cb88></i> <a target="blank" href="https://vuepress-theme-reco.recoluan.com" data-v-59e6cb88>vuePress-theme-reco</a></span> <span data-v-59e6cb88><i class="iconfont reco-copyright" data-v-59e6cb88></i> <a data-v-59e6cb88><!---->
          
        <!---->
        2022
      </a></span></div></div> <div class="hide" data-v-7dd95ae2><header class="navbar" data-v-7dd95ae2><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/vuepress-starter/" class="home-link router-link-active"><img src="/vuepress-starter/images/good.png" alt="TS文档" class="logo"> <span class="site-name">TS文档</span></a> <div class="links"><div class="color-picker"><a class="color-button"><i class="iconfont reco-color"></i></a> <div class="color-picker-menu" style="display:none;"><div class="mode-options"><h4 class="title">Choose mode</h4> <ul class="color-mode-options"><li class="dark">dark</li><li class="auto active">auto</li><li class="light">light</li></ul></div></div></div> <div class="search-box"><i class="iconfont reco-search"></i> <input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"><div class="nav-item"><a href="/vuepress-starter/" class="nav-link"><i class="undefined"></i>
  首页
</a></div><div class="nav-item"><a href="/vuepress-starter/page/js/" class="nav-link"><i class="undefined"></i>
  面试集合
</a></div><div class="nav-item"><a href="/vuepress-starter/handbook/ConditionalTypes.html" class="nav-link"><i class="undefined"></i>
  vue组件
</a></div><div class="nav-item"><a href="/vuepress-starter/vue/vuebase.html" class="nav-link"><i class="undefined"></i>
  vue学习
</a></div><div class="nav-item"><div class="dropdown-wrapper"><a class="dropdown-title"><span class="title"><i class="undefined"></i>
       JavaScript 博客
    </span> <span class="arrow right"></span></a> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="https://github.com/strongkin" target="_blank" rel="noopener noreferrer" class="nav-link external"><i class="undefined"></i>
  Github
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li><li class="dropdown-item"><!----> <a href="https://juejin.cn" target="_blank" rel="noopener noreferrer" class="nav-link external"><i class="undefined"></i>
  掘金
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li></ul></div></div> <!----></nav></div></header> <div class="sidebar-mask" data-v-7dd95ae2></div> <aside class="sidebar" data-v-7dd95ae2><div class="personal-info-wrapper" data-v-1fad0c41 data-v-7dd95ae2><img src="/vuepress-starter/images/good.png" alt="author-avatar" class="personal-img" data-v-1fad0c41> <!----> <div class="num" data-v-1fad0c41><div data-v-1fad0c41><h3 data-v-1fad0c41>102</h3> <h6 data-v-1fad0c41>Articles</h6></div> <div data-v-1fad0c41><h3 data-v-1fad0c41>0</h3> <h6 data-v-1fad0c41>Tags</h6></div></div> <ul class="social-links" data-v-1fad0c41></ul> <hr data-v-1fad0c41></div> <nav class="nav-links"><div class="nav-item"><a href="/vuepress-starter/" class="nav-link"><i class="undefined"></i>
  首页
</a></div><div class="nav-item"><a href="/vuepress-starter/page/js/" class="nav-link"><i class="undefined"></i>
  面试集合
</a></div><div class="nav-item"><a href="/vuepress-starter/handbook/ConditionalTypes.html" class="nav-link"><i class="undefined"></i>
  vue组件
</a></div><div class="nav-item"><a href="/vuepress-starter/vue/vuebase.html" class="nav-link"><i class="undefined"></i>
  vue学习
</a></div><div class="nav-item"><div class="dropdown-wrapper"><a class="dropdown-title"><span class="title"><i class="undefined"></i>
       JavaScript 博客
    </span> <span class="arrow right"></span></a> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="https://github.com/strongkin" target="_blank" rel="noopener noreferrer" class="nav-link external"><i class="undefined"></i>
  Github
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li><li class="dropdown-item"><!----> <a href="https://juejin.cn" target="_blank" rel="noopener noreferrer" class="nav-link external"><i class="undefined"></i>
  掘金
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li></ul></div></div> <!----></nav> <ul class="sidebar-links"><li><section class="sidebar-group depth-0"><p class="sidebar-heading"><span>js基础学习</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/vuepress-starter/page/js/JSBasics.html" class="sidebar-link">js基础</a></li><li><a href="/vuepress-starter/page/js/jsInterview.html" class="sidebar-link">js面试</a></li><li><a href="/vuepress-starter/page/js/jsInterviewPoints.html" class="sidebar-link">前端面试要点</a></li></ul></section></li><li><section class="sidebar-group depth-0"><p class="sidebar-heading"><span>js高级学习</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><section class="sidebar-group collapsable is-sub-group depth-1"><a href="/vuepress-starter/page/js/js基础/js1/JavaScript基础第01天笔记" class="sidebar-heading clickable open"><span>js基础</span> <span class="arrow down"></span></a> <ul class="sidebar-links sidebar-group-items"><li><a href="/vuepress-starter/page/js/js基础/js1/JavaScript基础第01天笔记.html" class="sidebar-link">js基础1</a></li><li><a href="/vuepress-starter/page/js/js基础/js2/JavaScript基础第02天笔记.html" class="sidebar-link">js基础2</a></li><li><a href="/vuepress-starter/page/js/js基础/js3/JavaScript基础第03天笔记.html" class="sidebar-link">js基础3</a></li><li><a href="/vuepress-starter/page/js/js基础/js4/JavaScript基础第04天笔记.html" class="sidebar-link">js基础4</a></li><li><a href="/vuepress-starter/page/js/js基础/js5/JavaScript基础第05天笔记.html" class="sidebar-link">js基础5</a></li><li><a href="/vuepress-starter/page/js/js基础/js6/JavaScript基础第06天笔记.html" class="sidebar-link">js基础6</a></li></ul></section></li><li><section class="sidebar-group is-sub-group depth-1"><p class="sidebar-heading"><span>js高级</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/vuepress-starter/page/js/js高级/js1/JavaScript高级第01天笔记.html" class="sidebar-link">js高级1</a></li><li><a href="/vuepress-starter/page/js/js高级/js2/JavaScript高级第02天笔记.html" class="sidebar-link">js高级2</a></li><li><a href="/vuepress-starter/page/js/js高级/js3/JavaScript高级第03天笔记.html" class="sidebar-link">js高级3</a></li><li><a href="/vuepress-starter/page/js/js高级/js4/JavaScript高级第04天笔记.html" class="sidebar-link">js高级4</a></li><li><a href="/vuepress-starter/page/js/js高级/es6/es6-ES6概念&amp;新增语法&amp;内置对象拓展.html" class="sidebar-link">es6</a></li></ul></section></li><li><section class="sidebar-group is-sub-group depth-1"><p class="sidebar-heading"><span>WEBAPI</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/vuepress-starter/page/js/webapi/webapi1/day01_WebAPIs.html" class="sidebar-link">webAPI1</a></li><li><a href="/vuepress-starter/page/js/webapi/webapi1/day02_WebAPIs.html" class="sidebar-link">webAPI2</a></li><li><a href="/vuepress-starter/page/js/webapi/webapi1/day03_WebAPIs.html" class="sidebar-link">webAPI3</a></li><li><a href="/vuepress-starter/page/js/webapi/webapi1/day04_WebAPIs.html" class="sidebar-link">webAPI4</a></li><li><a href="/vuepress-starter/page/js/webapi/webapi1/day05_WebAPIs.html" class="sidebar-link">webAPI5</a></li><li><a href="/vuepress-starter/page/js/webapi/webapi2/day06_WebAPIs.html" class="sidebar-link">webAPI6</a></li><li><a href="/vuepress-starter/page/js/webapi/webapi3/day07_WebAPIs.html" class="sidebar-link">webAPI7</a></li></ul></section></li></ul></section></li><li><section class="sidebar-group depth-0"><p class="sidebar-heading open"><span>react学习</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/vuepress-starter/page/react/reactbase.html" class="sidebar-link">reacr基础</a></li><li><a href="/vuepress-starter/page/react/componentreact.html" class="sidebar-link">组件基础</a></li><li><a href="/vuepress-starter/page/react/componentContext.html" class="sidebar-link">组件通讯</a></li><li><a href="/vuepress-starter/page/react/ComponentLifeCycle.html" class="sidebar-link">组件的生命周期</a></li><li><a href="/vuepress-starter/page/react/reactsource.html" class="sidebar-link">react原理解密</a></li><li><a href="/vuepress-starter/page/react/reactRouter.html" class="sidebar-link">react路由</a></li><li><a href="/vuepress-starter/page/react/componentreuse.html" class="sidebar-link">组件复用</a></li><li><a href="/vuepress-starter/page/react/react-hooks.html" aria-current="page" class="active sidebar-link">hooks基础</a></li><li><a href="/vuepress-starter/page/react/hooksadvanced.html" class="sidebar-link">hooks进阶</a></li></ul></section></li><li><section class="sidebar-group depth-0"><p class="sidebar-heading"><span>ts学习</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/vuepress-starter/page/ts/TypeScript.html" class="sidebar-link">ts介绍</a></li><li><a href="/vuepress-starter/page/ts/TypeScriptBasicType.html" class="sidebar-link">ts常用类型</a></li><li><a href="/vuepress-starter/page/ts/TypeScriptAdvancedType.html" class="sidebar-link">ts高级类型</a></li><li><a href="/vuepress-starter/page/ts/TSinReact.html" class="sidebar-link">在react项目中使用ts</a></li><li><a href="/vuepress-starter/page/ts/RetrofitProjectsWithTs.html" class="sidebar-link">使用ts改造项目</a></li></ul></section></li><li><section class="sidebar-group depth-0"><p class="sidebar-heading"><span>uniapp知识</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/vuepress-starter/page/uniapp/rendering.html" class="sidebar-link">Vue服务端渲染</a></li><li><a href="/vuepress-starter/page/uniapp/UnappBase.html" class="sidebar-link">uniapp基础</a></li></ul></section></li><li><section class="sidebar-group depth-0"><p class="sidebar-heading"><span>前端面试题</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/vuepress-starter/page/interview/Front-endinterviewmanual.html" class="sidebar-link">前端面试题</a></li></ul></section></li><li><section class="sidebar-group depth-0"><p class="sidebar-heading"><span>vue电商后台项目</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/vuepress-starter/page/vue/VueManageprojectsinthebackground.html" class="sidebar-link">vue电商后台项目</a></li></ul></section></li><li><section class="sidebar-group depth-0"><p class="sidebar-heading"><span>移动h5</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/vuepress-starter/page/vue/geek/ProjectInitialization.html" class="sidebar-link">项目初始化</a></li><li><a href="/vuepress-starter/page/vue/geek/LoginRegister.html" class="sidebar-link">登录注册</a></li><li><a href="/vuepress-starter/page/vue/geek/03-个人中心.html" class="sidebar-link">个人中心</a></li><li><a href="/vuepress-starter/page/vue/geek/04-首页-文章列表.html" class="sidebar-link">首页-文章列表</a></li><li><a href="/vuepress-starter/page/vue/geek/05-首页-频道编辑.html" class="sidebar-link">首页-频道编辑</a></li><li><a href="/vuepress-starter/page/vue/geek/06-文章搜索.html" class="sidebar-link">文章搜索</a></li><li><a href="/vuepress-starter/page/vue/geek/07-文章详情.html" class="sidebar-link">文章详情</a></li><li><a href="/vuepress-starter/page/vue/geek/08-文章评论.html" class="sidebar-link">文章评论</a></li><li><a href="/vuepress-starter/page/vue/geek/09-用户页面.html" class="sidebar-link">用户页面</a></li><li><a href="/vuepress-starter/page/vue/geek/10-用户关注&amp;粉丝.html" class="sidebar-link">用户关注&amp;粉丝</a></li><li><a href="/vuepress-starter/page/vue/geek/11-我的收藏-历史.html" class="sidebar-link">我的收藏-历史</a></li><li><a href="/vuepress-starter/page/vue/geek/12-编辑用户资料.html" class="sidebar-link">编辑用户资料</a></li></ul></section></li></ul> </aside> <div class="password-shadow password-wrapper-in" style="display:none;" data-v-59e6cb88 data-v-7dd95ae2><h3 class="title" data-v-59e6cb88></h3> <!----> <label id="box" class="inputBox" data-v-59e6cb88><input type="password" value="" data-v-59e6cb88> <span data-v-59e6cb88>Konck! Knock!</span> <button data-v-59e6cb88>OK</button></label> <div class="footer" data-v-59e6cb88><span data-v-59e6cb88><i class="iconfont reco-theme" data-v-59e6cb88></i> <a target="blank" href="https://vuepress-theme-reco.recoluan.com" data-v-59e6cb88>vuePress-theme-reco</a></span> <span data-v-59e6cb88><i class="iconfont reco-copyright" data-v-59e6cb88></i> <a data-v-59e6cb88><!---->
          
        <!---->
        2022
      </a></span></div></div> <div data-v-7dd95ae2><div data-v-7dd95ae2><main class="page"><section style="display:;"><div class="page-title"><h1 class="title">React Hooks基础</h1> <div data-v-8a445198><!----> <!----> <!----> <!----></div></div> <div class="theme-reco-content content__default"><h1 id="react-hooks基础"><a href="#react-hooks基础" class="header-anchor">#</a> React Hooks基础</h1> <ul><li>React Hooks 介绍</li> <li>React Hooks 基础</li></ul> <h2 id="react-hooks-介绍"><a href="#react-hooks-介绍" class="header-anchor">#</a> React Hooks 介绍</h2> <ol><li>Hooks 是什么</li> <li>为什么要有 Hooks</li></ol> <h3 id="hooks-是什么"><a href="#hooks-是什么" class="header-anchor">#</a> Hooks 是什么</h3> <ul><li><code>Hooks</code>：钩子、钓钩、钩住</li> <li><code>Hooks</code> 是 <strong>React v16.8</strong> 中的新增功能</li> <li>作用：为<strong>函数组件</strong>提供状态、生命周期等原本 class 组件中提供的 React 功能
<ul><li>可以理解为通过 Hooks 为函数组件钩入 class 组件的特性</li></ul></li> <li>注意：<strong>Hooks 只能在函数组件中使用</strong>，自此，函数组件成为 React 的新宠儿</li></ul> <p>React v16.8 版本前后，组件开发模式的对比：</p> <ul><li>React v16.8 以前： class 组件(提供状态) + 函数组件(展示内容)</li> <li>React v16.8 及其以后：
<ol><li>class 组件(提供状态) + 函数组件(展示内容)</li> <li>Hooks(提供状态) + 函数组件(展示内容)</li> <li>混用以上两种方式：部分功能用 class 组件，部分功能用 Hooks+函数组件</li></ol></li></ul> <p>注意1：虽然有了 Hooks，但 React 官方并没有计划从 React 库中移除 class。</p> <p>注意2：有了 Hooks 以后，不能再把<strong>函数组件</strong>称为无状态组件了，因为 Hooks 为函数组件提供了状态。</p> <h3 id="为什么要有-hooks"><a href="#为什么要有-hooks" class="header-anchor">#</a> 为什么要有 Hooks</h3> <p>两个角度：1 组件的状态逻辑复用 2 class 组件自身的问题</p> <ol><li>组件的状态逻辑复用：
<ul><li>在 Hooks 之前，组件的状态逻辑复用经历了：mixins（混入）、HOCs（高阶组件）、render-props 等模式。</li> <li>（早已废弃）mixins 的问题：1 数据来源不清晰 2 命名冲突。</li> <li>HOCs、render-props 的问题：重构组件结构，导致组件形成 JSX 嵌套地狱问题。</li></ul></li> <li>class 组件自身的问题：
<ul><li>选择：函数组件和 class 组件之间的区别以及使用哪种组件更合适</li> <li>需要理解 class 中的 this 是如何工作的</li> <li>相互关联且需要对照修改的代码被拆分到不同生命周期函数中
<ul><li>componentDidMount -&gt;  window.addEventListener('resize', this.fn)</li> <li>componentWillUnmount -&gt; window.addEventListener('resize', this.fn)</li></ul></li></ul></li></ol> <ul><li>相比于函数组件来说，不利于代码压缩和优化，也不利于 TS 的类型推导</li></ul> <p>正是由于 React 原来存在的这些问题，才有了 Hooks 来解决这些问题</p> <h3 id="hooks的优势"><a href="#hooks的优势" class="header-anchor">#</a> hooks的优势</h3> <p>由于原来 React 中存在的问题，促使 React 需要一个更好的自带机制来实现组件状态逻辑复用。</p> <ol><li>Hooks 只能在函数组件中使用，避免了 class 组件的问题</li> <li>复用组件状态逻辑，而无需更改组件层次结构</li> <li>根据功能而不是基于生命周期方法强制进行代码分割</li> <li>抛开 React 赋予的概念来说，Hooks 就是一些普通的函数</li> <li>具有更好的 TS  类型推导</li> <li>tree- - shaking  友 好，打包时去掉未引用的代码</li> <li>更好的压 缩</li></ol> <p>项目开发中，Hooks 的采用策略：</p> <ul><li>不推荐直接使用 Hooks 大规模重构现有组件</li> <li>推荐：新功能用 Hooks，复杂功能实现不了的，也可以继续用 class</li> <li>找一个功能简单、非核心功能的组件开始使用 hooks</li></ul> <h3 id="前面学习的-react-知识是有用的"><a href="#前面学习的-react-知识是有用的" class="header-anchor">#</a> 前面学习的 React 知识是有用的</h3> <p>class 组件相关的 API 不用了，比如：</p> <ul><li><code>class Hello extends Component</code></li> <li><code>componentDidMount</code>、<code>componentDidUpdate</code>、<code>componentWillUnmount</code></li> <li><code>this</code> 相关的用法</li></ul> <p>原来学习的内容还是要用的，比如：</p> <ul><li>JSX：<code>{}</code>、<code>onClick={handleClick}</code>、条件渲染、列表渲染、样式处理等</li> <li>组件：函数组件、组件通讯</li> <li>路由</li> <li>React 开发理念：<code>单向数据流</code>、<code>状态提升</code> 等</li> <li>解决问题的思路、技巧、常见错误的分析等上</li></ul> <h2 id="usestate-hook"><a href="#usestate-hook" class="header-anchor">#</a> useState Hook</h2> <h3 id="概述"><a href="#概述" class="header-anchor">#</a> 概述</h3> <p>问题：Hook 是什么? 一个 Hook 就是一个特殊的函数，让你在函数组件中获取状态等 React 特性
使用模式：函数组件 + Hooks
特点：从名称上看，Hook 都以 use 开头</p> <h3 id="usestate-hook-的基本使用"><a href="#usestate-hook-的基本使用" class="header-anchor">#</a> useState Hook 的基本使用</h3> <ul><li>使用场景：当你想要在<strong>函数组件中，使用组件状态时</strong>，就要使用 <strong>useState</strong> Hook 了</li> <li>作用：为函数组件提供状态（state）</li> <li>使用步骤：
<ol><li>导入 <code>useState</code> 函数</li> <li>调用 <code>useState</code> 函数，并传入状态的初始值</li> <li>从 <code>useState</code> 函数的返回值中，拿到状态和修改状态的函数</li> <li>在 JSX 中展示状态</li> <li>在按钮的点击事件中调用修改状态的函数，来更新状态</li></ol></li></ul> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">import</span> <span class="token punctuation">{</span> useState <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">'react'</span>

<span class="token keyword">const</span> <span class="token function-variable function">Count</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
  <span class="token comment">// 返回值是一个数组</span>
  <span class="token keyword">const</span> stateArray <span class="token operator">=</span> <span class="token function">useState</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">)</span>

  <span class="token comment">// 状态值 -&gt; 0</span>
  <span class="token keyword">const</span> state <span class="token operator">=</span> stateArray<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span>
  <span class="token comment">// 修改状态的函数</span>
  <span class="token keyword">const</span> setState <span class="token operator">=</span> stateArray<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span>

  <span class="token keyword">return</span> <span class="token punctuation">(</span>
    <span class="token operator">&lt;</span>div<span class="token operator">&gt;</span>
      <span class="token punctuation">{</span><span class="token comment">/* 展示状态值 */</span><span class="token punctuation">}</span>
      <span class="token operator">&lt;</span>h1<span class="token operator">&gt;</span>useState Hook <span class="token operator">-</span><span class="token operator">&gt;</span> <span class="token punctuation">{</span>state<span class="token punctuation">}</span><span class="token operator">&lt;</span><span class="token operator">/</span>h1<span class="token operator">&gt;</span>
      <span class="token punctuation">{</span><span class="token comment">/* 点击按钮，让状态值 +1 */</span><span class="token punctuation">}</span>
      <span class="token operator">&lt;</span>button onClick<span class="token operator">=</span><span class="token punctuation">{</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token function">setState</span><span class="token punctuation">(</span>state <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">}</span><span class="token operator">&gt;</span><span class="token operator">+</span><span class="token number">1</span><span class="token operator">&lt;</span><span class="token operator">/</span>button<span class="token operator">&gt;</span>
    <span class="token operator">&lt;</span><span class="token operator">/</span>div<span class="token operator">&gt;</span>
  <span class="token punctuation">)</span>
<span class="token punctuation">}</span>
</code></pre></div><ul><li>参数：<strong>状态初始值</strong>。比如，传入 0 表示该状态的初始值为 0
<ul><li>注意：此处的状态可以是任意值（比如，数值、字符串等），而 class 组件中的 state 必须是对象</li></ul></li> <li>返回值：数组，包含两个值：1 状态值（state） 2 修改该状态的函数（setState）</li></ul> <h3 id="使用数组解构简化"><a href="#使用数组解构简化" class="header-anchor">#</a> 使用数组解构简化</h3> <p>比如，要获取数组中的元素：</p> <ol><li>原始方式：索引访问</li></ol> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">const</span> arr <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token string">'aaa'</span><span class="token punctuation">,</span> <span class="token string">'bbb'</span><span class="token punctuation">]</span>

<span class="token keyword">const</span> a <span class="token operator">=</span> arr<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span>  <span class="token comment">// 获取索引为 0 的元素</span>
<span class="token keyword">const</span> b <span class="token operator">=</span> arr<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span>  <span class="token comment">// 获取索引为 1 的元素</span>
</code></pre></div><ol start="2"><li>简化方式：数组解构
<ul><li>相当于创建了两个变量（可以是任意的变量名称）分别获取到对应索引的数组元素</li></ul></li></ol> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">const</span> arr <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token string">'aaa'</span><span class="token punctuation">,</span> <span class="token string">'bbb'</span><span class="token punctuation">]</span>

<span class="token keyword">const</span> <span class="token punctuation">[</span>a<span class="token punctuation">,</span> b<span class="token punctuation">]</span> <span class="token operator">=</span> arr
<span class="token comment">// a =&gt; arr[0]</span>
<span class="token comment">// b =&gt; arr[1]</span>

<span class="token keyword">const</span> <span class="token punctuation">[</span>state<span class="token punctuation">,</span> setState<span class="token punctuation">]</span> <span class="token operator">=</span> arr
</code></pre></div><ul><li>使用数组解构简化 <code>useState</code> 的使用
<ul><li>约定：<strong>修改状态的函数名称以 set 开头，后面跟上状态的名称</strong></li></ul></li></ul> <div class="language-js extra-class"><pre class="language-js"><code><span class="token comment">// 解构出来的名称可以是任意名称</span>

<span class="token keyword">const</span> <span class="token punctuation">[</span>state<span class="token punctuation">,</span> setState<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token function">useState</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">)</span>
<span class="token keyword">const</span> <span class="token punctuation">[</span>age<span class="token punctuation">,</span> setAge<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token function">useState</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">)</span>
<span class="token keyword">const</span> <span class="token punctuation">[</span>count<span class="token punctuation">,</span> setCount<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token function">useState</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">)</span>
</code></pre></div><h3 id="状态的读取和修改"><a href="#状态的读取和修改" class="header-anchor">#</a> 状态的读取和修改</h3> <p>状态的使用：1 读取状态 2 修改状态</p> <ol><li>读取状态：该方式提供的状态，是函数内部的局部变量，可以在函数内的任意位置使用</li> <li>修改状态：</li></ol> <ul><li><code>setCount(newValue)</code> 是一个函数，参数表示：<strong>新的状态值</strong></li> <li>调用该函数后，将<strong>使用新的状态值<code>替换</code>旧值</strong></li> <li>修改状态后，因为状态发生了改变，所以，该组件会重新渲染</li></ul> <h3 id="组件的更新过程"><a href="#组件的更新过程" class="header-anchor">#</a> 组件的更新过程</h3> <p>函数组件使用 <strong>useState</strong> hook 后的执行过程，以及状态值的变化：</p> <ul><li>组件第一次渲染：
<ol><li>从头开始执行该组件中的代码逻辑</li> <li>调用 <code>useState(0)</code> 将传入的参数作为状态初始值，即：0</li> <li>渲染组件，此时，获取到的状态 count 值为： 0</li></ol></li> <li>组件第二次渲染：
<ol><li>点击按钮，调用 <code>setCount(count + 1)</code> 修改状态，因为状态发生改变，所以，该组件会重新渲染</li> <li>组件重新渲染时，会再次执行该组件中的代码逻辑</li> <li>再次调用 <code>useState(0)</code>，此时 <strong>React 内部会拿到最新的状态值而非初始值</strong>，比如，该案例中最新的状态值为 1</li> <li>再次渲染组件，此时，获取到的状态 count 值为：1</li></ol></li></ul> <p>注意：<strong>useState 的初始值(参数)只会在组件第一次渲染时生效</strong>。</p> <p>也就是说，以后的每次渲染，useState 获取到都是最新的状态值。React 组件会记住每次最新的状态值!</p> <h3 id="为函数组件添加多个状态"><a href="#为函数组件添加多个状态" class="header-anchor">#</a> 为函数组件添加多个状态</h3> <p>问题：如果一个函数组件需要多个状态，该如何处理?
回答：调用 <code>useState</code> Hook 多次即可，每调用一次 useState Hook 可以提供一个状态。
注意：useState Hook 多次调用返回的 [state, setState] 相互之间，互不影响。</p> <h3 id="hooks-的使用规则"><a href="#hooks-的使用规则" class="header-anchor">#</a> hooks 的使用规则</h3> <p>注意：<strong>React Hooks 只能直接出现在 函数组件 中，不能嵌套在 if/for/其他函数中</strong>！</p> <p>否则就会报错：React Hook &quot;useState&quot; is called conditionally. React Hooks must be called in the exact same order in every component render</p> <p>React 的 useState 这个 Hook 被条件性（放在一个条件判断中）的调用了。</p> <p>React Hooks 必须要每次组件渲染时，按照<strong>相同的顺序</strong>来调用所有的 Hooks。</p> <ul><li>为什么会有这样的规则？ 因为 React 是按照 Hooks 的调用顺序来识别每一个 Hook，如果每次调用的顺序不同，导致 React 无法知道是哪一个 Hook</li> <li>通过开发者工具可以查看到。</li></ul> <h2 id="useeffect-hook"><a href="#useeffect-hook" class="header-anchor">#</a> useEffect Hook</h2> <ol><li>side effect - 副作用</li> <li>useEffect 的基本使用</li> <li>useEffect 的依赖</li> <li>useEffect 发送请求</li></ol> <h3 id="side-effect-副作用"><a href="#side-effect-副作用" class="header-anchor">#</a> side effect - 副作用</h3> <p>使用场景：当你想要在函数组件中，<strong>处理副作用（side effect）时</strong>，就要使用 <strong>useEffect</strong> Hook 了
作用：<strong>处理函数组件中的副作用（side effect）</strong></p> <p>问题：副作用（side effect）是什么?
回答：在计算机科学中，如果一个函数或其他操作修改了其局部环境之外的状态变量值，那么它就被称为有副作用
类比，对于 999 感冒灵感冒药来说：</p> <ul><li>（<strong>主</strong>）作用：用于感冒引起的头痛，发热，鼻塞，流涕，咽痛等</li> <li>副作用：可见困倦、嗜睡、口渴、虚弱感</li></ul> <p>理解：副作用是相对于主作用来说的，一个功能（比如，函数）除了主作用，其他的作用就是副作用
对于 React 组件来说，<strong>主作用就是根据数据（state/props）渲染 UI</strong>，除此之外都是副作用（比如，手动修改 DOM）</p> <p>React 组件的公式：<strong>UI = f(state)</strong></p> <p>常见的副作用（side effect）</p> <ul><li>数据（Ajax）请求、手动修改 DOM、localStorage 操作等</li></ul> <h3 id="useeffect-的基本使用"><a href="#useeffect-的基本使用" class="header-anchor">#</a> useEffect 的基本使用</h3> <p>使用场景：当你想要在函数组件中，处理副作用（side effect）时，就要使用 useEffect Hook 了
作用：处理函数组件中的副作用（side effect）
注意：在实际开发中，副作用是不可避免的。因此，react 专门提供了 <strong>useEffect</strong> Hook <strong>来处理函数组件中的副作用</strong></p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">import</span> <span class="token punctuation">{</span> useEffect <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">'react'</span>

<span class="token function">useEffect</span><span class="token punctuation">(</span><span class="token keyword">function</span> <span class="token function">effect</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  document<span class="token punctuation">.</span>title <span class="token operator">=</span> <span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">当前已点击 </span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>count<span class="token interpolation-punctuation punctuation">}</span></span><span class="token string"> 次</span><span class="token template-punctuation string">`</span></span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>

<span class="token function">useEffect</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
  document<span class="token punctuation">.</span>title <span class="token operator">=</span> <span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">当前已点击 </span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>count<span class="token interpolation-punctuation punctuation">}</span></span><span class="token string"> 次</span><span class="token template-punctuation string">`</span></span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>
</code></pre></div><p>解释：</p> <ul><li>参数：回调函数（称为 <strong>effect</strong>），就是<strong>在该函数中写副作用代码</strong></li> <li>执行时机：该 effect 会在组件渲染后以及组件更新后执行</li> <li>相当于componentDidMount + componentDidUpdate</li></ul> <h3 id="useeffect-的依赖"><a href="#useeffect-的依赖" class="header-anchor">#</a> useEffect 的依赖</h3> <ul><li>问题：如果组件中有另外一个状态，另一个状态更新时，刚刚的 effect 回调，也会执行</li> <li>性能优化：<strong>跳过不必要的执行，只在 count 变化时，才执行相应的 effect</strong></li></ul> <div class="language-js extra-class"><pre class="language-js"><code><span class="token function">useEffect</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
  document<span class="token punctuation">.</span>title <span class="token operator">=</span> <span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">当前已点击 </span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>count<span class="token interpolation-punctuation punctuation">}</span></span><span class="token string"> 次</span><span class="token template-punctuation string">`</span></span>
<span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token punctuation">[</span>count<span class="token punctuation">]</span><span class="token punctuation">)</span>
</code></pre></div><p>解释：</p> <ul><li>第二个参数：可选的，可省略；也可以传一个数组，数组中的元素可以成为依赖项（deps）</li> <li>该示例中表示：只有当 count 改变时，才会重新执行该 effect</li></ul> <h3 id="useeffect-的依赖是一个空数组"><a href="#useeffect-的依赖是一个空数组" class="header-anchor">#</a> useEffect 的依赖是一个空数组</h3> <p>useEffect 的第二个参数，还可以是一个<strong>空数组（[]）</strong>，表示只在组件第一次渲染后执行 effect
使用场景：1 事件绑定 2 发送请求获取数据 等</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token function">useEffect</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
  <span class="token keyword">const</span> <span class="token function-variable function">handleResize</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span><span class="token punctuation">}</span>
  window<span class="token punctuation">.</span><span class="token function">addEventListener</span><span class="token punctuation">(</span><span class="token string">'resize'</span><span class="token punctuation">,</span> handleResize<span class="token punctuation">)</span>
<span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">)</span>
</code></pre></div><p>解释：</p> <ul><li>该 effect 只会在组件第一次渲染后执行，因此，可以执行像事件绑定等只需要执行一次的操作
<ul><li>此时，相当于 class 组件的 componentDidMount 钩子函数的作用</li></ul></li> <li>跟 useState Hook 一样，一个组件中也可以调用 useEffect Hook 多次</li> <li>推荐：一个 useEffect 只处理一个功能，有多个功能时，使用多次 useEffect</li></ul> <h3 id="总结-useeffect-的使用"><a href="#总结-useeffect-的使用" class="header-anchor">#</a> 总结 useEffect 的使用</h3> <div class="language-js extra-class"><pre class="language-js"><code><span class="token comment">// 触发时机：1 第一次渲染会执行 2 每次组件重新渲染都会再次执行</span>
<span class="token comment">// componentDidMount + ComponentDidUpdate</span>
<span class="token function">useEffect</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">)</span>

<span class="token comment">// componentDidMount</span>
<span class="token comment">// 触发时机：只在组件第一次渲染时执行</span>
<span class="token function">useEffect</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">)</span>

<span class="token comment">// componentDidMount + componentDidUpdate(判断)</span>
<span class="token comment">// 触发时机：1 第一次渲染会执行 2 当 count 变化时会再次执行</span>
<span class="token function">useEffect</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token punctuation">[</span>count<span class="token punctuation">]</span><span class="token punctuation">)</span>
</code></pre></div><h3 id="不要对useeffect的依赖项撒谎"><a href="#不要对useeffect的依赖项撒谎" class="header-anchor">#</a> 不要对useEffect的依赖项撒谎</h3> <div class="language-jsx extra-class"><pre class="language-jsx"><code><span class="token keyword">const</span> <span class="token function-variable function">App</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
  <span class="token keyword">const</span> <span class="token punctuation">[</span>count<span class="token punctuation">,</span> setCount<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token function">useState</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">)</span>
  <span class="token function">useEffect</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
    document<span class="token punctuation">.</span>title <span class="token operator">=</span> <span class="token string">'点击了'</span> <span class="token operator">+</span> count <span class="token operator">+</span> <span class="token string">'次'</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">)</span>
  <span class="token keyword">return</span> <span class="token punctuation">(</span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span><span class="token punctuation">&gt;</span></span><span class="token plain-text">
      </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>h1</span><span class="token punctuation">&gt;</span></span><span class="token plain-text">计数器：</span><span class="token punctuation">{</span>count<span class="token punctuation">}</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>h1</span><span class="token punctuation">&gt;</span></span><span class="token plain-text">
      </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>button</span> <span class="token attr-name">onClick</span><span class="token script language-javascript"><span class="token script-punctuation punctuation">=</span><span class="token punctuation">{</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token function">setCount</span><span class="token punctuation">(</span>count <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">}</span></span><span class="token punctuation">&gt;</span></span><span class="token plain-text">+1</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>button</span><span class="token punctuation">&gt;</span></span><span class="token plain-text">
      </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>hr</span> <span class="token punctuation">/&gt;</span></span><span class="token plain-text">
    </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
  <span class="token punctuation">)</span>
<span class="token punctuation">}</span>
</code></pre></div><blockquote><p>useEffect完全指南：https://overreacted.io/zh-hans/a-complete-guide-to-useeffect/</p></blockquote> <h3 id="useeffect-清理副作用"><a href="#useeffect-清理副作用" class="header-anchor">#</a> useEffect 清理副作用</h3> <p>有时候，我们只想**在 React 更新 DOM 之后运行一些额外的代码。**比如发送网络请求，手动变更 DOM，记录日志，这些都是常见的无需清除的操作。</p> <p>还有一些副作用是需要清除的。例如<strong>订阅外部数据源， 开启定时器，注册事件</strong>。这种情况下，清除工作是非常重要的，可以防止引起内存泄露！</p> <p>问题：如何在组件卸载时，解绑事件？此时，就用到 effect 的返回值了</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token function">useEffect</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
  <span class="token keyword">const</span> <span class="token function-variable function">handleResize</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span><span class="token punctuation">}</span>
  window<span class="token punctuation">.</span><span class="token function">addEventListener</span><span class="token punctuation">(</span><span class="token string">'resize'</span><span class="token punctuation">,</span> handleResize<span class="token punctuation">)</span>
  <span class="token keyword">return</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> window<span class="token punctuation">.</span><span class="token function">removeEventListener</span><span class="token punctuation">(</span><span class="token string">'resize'</span><span class="token punctuation">,</span> handleResize<span class="token punctuation">)</span>
<span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">)</span>
</code></pre></div><p>解释：</p> <ul><li>effect 的返回值也是可选的，可省略。也可以返回一个清理函数，用来执行事件解绑等清理操作</li> <li>清理函数的执行时机：1 组件卸载时 2 effect 重新执行前
<ul><li>此时，相当于 class 组件的 componentWillUnmount 钩子函数的作用</li></ul></li> <li>推荐：一个 useEffect 只处理一个功能，有多个功能时，使用多次 useEffect</li> <li>优势：根据业务逻辑来拆分，相同功能的业务逻辑放在一起，而不是根据生命周期方法名称来拆分代码</li> <li>编写代码时，关注点集中；而不是上下翻滚来查看代码</li></ul> <h3 id="将事件处理程序放在-useeffect-内部"><a href="#将事件处理程序放在-useeffect-内部" class="header-anchor">#</a> 将事件处理程序放在 useEffect 内部</h3> <div class="language-js extra-class"><pre class="language-js"><code><span class="token comment">// 1 将 resize 事件处理程序放在 effect 回调中，当前这个代码是没有问题的</span>
<span class="token function">useEffect</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
  <span class="token keyword">const</span> <span class="token function-variable function">handleResize</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'window 窗口大小改变了'</span><span class="token punctuation">)</span>
  <span class="token punctuation">}</span>
  window<span class="token punctuation">.</span><span class="token function">addEventListener</span><span class="token punctuation">(</span><span class="token string">'resize'</span><span class="token punctuation">,</span> handleResize<span class="token punctuation">)</span>

  <span class="token keyword">return</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
    window<span class="token punctuation">.</span><span class="token function">removeEventListener</span><span class="token punctuation">(</span><span class="token string">'resize'</span><span class="token punctuation">,</span> handleResize<span class="token punctuation">)</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">)</span>

<span class="token comment">// 2 将 resize 事件处理程序拿到 useEffect 的外部，当前这个代码是没有问题的</span>
<span class="token keyword">const</span> <span class="token function-variable function">handleResize</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'window 窗口大小改变了'</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span>

<span class="token function">useEffect</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
  window<span class="token punctuation">.</span><span class="token function">addEventListener</span><span class="token punctuation">(</span><span class="token string">'resize'</span><span class="token punctuation">,</span> handleResize<span class="token punctuation">)</span>

  <span class="token keyword">return</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
    window<span class="token punctuation">.</span><span class="token function">removeEventListener</span><span class="token punctuation">(</span><span class="token string">'resize'</span><span class="token punctuation">,</span> handleResize<span class="token punctuation">)</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">)</span>

<span class="token comment">// 3 有依赖项的情况：</span>
<span class="token function">useEffect</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
  <span class="token comment">// resize 事件的处理程序</span>
  <span class="token keyword">const</span> <span class="token function-variable function">handleResize</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'window 窗口大小改变了'</span><span class="token punctuation">,</span> count<span class="token punctuation">)</span>
  <span class="token punctuation">}</span>

  window<span class="token punctuation">.</span><span class="token function">addEventListener</span><span class="token punctuation">(</span><span class="token string">'resize'</span><span class="token punctuation">,</span> handleResize<span class="token punctuation">)</span>

  <span class="token keyword">return</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
    window<span class="token punctuation">.</span><span class="token function">removeEventListener</span><span class="token punctuation">(</span><span class="token string">'resize'</span><span class="token punctuation">,</span> handleResize<span class="token punctuation">)</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token punctuation">[</span>count<span class="token punctuation">]</span><span class="token punctuation">)</span>


<span class="token comment">// 注意：此处的代码，会给一些警告！！！ 不要按照这种方式写代码！！！</span>
<span class="token comment">// 4 如果将 handleResize 放到了 useEffect 外部，React 会给以警告：</span>
<span class="token comment">//   要么将 handleResize 放到 useEffect 中</span>
<span class="token comment">//   要么使用 useCallback 这个 hook 来包裹 handleResize</span>
<span class="token comment">// resize 事件的处理程序</span>
<span class="token keyword">const</span> <span class="token function-variable function">handleResize</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'window 窗口大小改变了'</span><span class="token punctuation">,</span> count<span class="token punctuation">)</span>
<span class="token punctuation">}</span>
<span class="token function">useEffect</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'useeffect 执行了'</span><span class="token punctuation">)</span>
  window<span class="token punctuation">.</span><span class="token function">addEventListener</span><span class="token punctuation">(</span><span class="token string">'resize'</span><span class="token punctuation">,</span> handleResize<span class="token punctuation">)</span>

  <span class="token keyword">return</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
    window<span class="token punctuation">.</span><span class="token function">removeEventListener</span><span class="token punctuation">(</span><span class="token string">'resize'</span><span class="token punctuation">,</span> handleResize<span class="token punctuation">)</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token punctuation">[</span>handleResize<span class="token punctuation">]</span><span class="token punctuation">)</span>

<span class="token comment">// 总结以上几种情况，推荐：在给 window 绑定事件时，将 事件处理程序放在 useEffect 内部。</span>
</code></pre></div><h3 id="useeffect-发送请求"><a href="#useeffect-发送请求" class="header-anchor">#</a> useEffect 发送请求</h3> <p>在组件中，使用 useEffect Hook 发送请求获取数据（side effect）：</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token function">useEffect</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
  <span class="token keyword">const</span> <span class="token function-variable function">loadData</span> <span class="token operator">=</span> <span class="token keyword">async</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span><span class="token punctuation">}</span>
  <span class="token function">loadData</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">)</span>
</code></pre></div><p>解释：</p> <ul><li>注意：<strong>effect 只能是一个同步函数，不能使用 async</strong></li> <li>因为 effect 的返回值应该是一个清理函数，React 会在组件卸载或者 effect 的依赖项变化时重新执行</li> <li>但如果 effect 是 async 的，此时返回值是 Promise 对象。这样的话，就无法保证清理函数被立即调用</li> <li>如果延迟调用清理函数，也就没有机会忽略过时的请求结果或取消请求</li> <li><strong>为了使用 async/await 语法，可以在 effect 内部创建 async 函数，并调用</strong></li></ul> <div class="language-js extra-class"><pre class="language-js"><code><span class="token comment">// 错误演示：</span>

<span class="token comment">// 不要给 effect 添加 async</span>
<span class="token function">useEffect</span><span class="token punctuation">(</span><span class="token keyword">async</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">)</span>
</code></pre></div><div class="language-js extra-class"><pre class="language-js"><code><span class="token comment">// https://github.com/facebook/react/issues/14326#issuecomment-441680293</span>

<span class="token function">useEffect</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
  <span class="token comment">// 是否取消本次请求</span>
  <span class="token keyword">let</span> didCancel <span class="token operator">=</span> <span class="token boolean">false</span>

  <span class="token keyword">async</span> <span class="token keyword">function</span> <span class="token function">fetchMyAPI</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">let</span> url <span class="token operator">=</span> <span class="token string">'http://something/'</span> <span class="token operator">+</span> productId
    <span class="token keyword">let</span> config <span class="token operator">=</span> <span class="token punctuation">{</span><span class="token punctuation">}</span>
    <span class="token keyword">const</span> response <span class="token operator">=</span> <span class="token keyword">await</span> <span class="token function">myFetch</span><span class="token punctuation">(</span>url<span class="token punctuation">)</span>
    <span class="token comment">// 如果开启其他请求，就忽略本次（过时）的请求结果</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token operator">!</span>didCancel<span class="token punctuation">)</span> <span class="token punctuation">{</span>
      console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>response<span class="token punctuation">)</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span>

  <span class="token function">fetchMyAPI</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
  <span class="token keyword">return</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span> didCancel <span class="token operator">=</span> <span class="token boolean">true</span> <span class="token punctuation">}</span> <span class="token comment">// 取消本次请求</span>
<span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token punctuation">[</span>productId<span class="token punctuation">]</span><span class="token punctuation">)</span>
</code></pre></div><h3 id="useeffect循环报错问题"><a href="#useeffect循环报错问题" class="header-anchor">#</a> useEffect循环报错问题</h3> <div class="language-js extra-class"><pre class="language-js"><code><span class="token function">useEffect</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
  <span class="token keyword">const</span> <span class="token function-variable function">getList</span> <span class="token operator">=</span> <span class="token keyword">async</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
    <span class="token keyword">const</span> res <span class="token operator">=</span> <span class="token keyword">await</span> axios<span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span><span class="token string">'http://geek.itheima.net/v1_0/channels'</span><span class="token punctuation">)</span>
    <span class="token function">setList</span><span class="token punctuation">(</span>res<span class="token punctuation">.</span>data<span class="token punctuation">.</span>data<span class="token punctuation">.</span>channels<span class="token punctuation">)</span>
  <span class="token punctuation">}</span>
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>list<span class="token punctuation">)</span>
  <span class="token function">getList</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token punctuation">[</span>list<span class="token punctuation">]</span><span class="token punctuation">)</span>

</code></pre></div><h2 id="自定义hooks"><a href="#自定义hooks" class="header-anchor">#</a> 自定义hooks</h2> <p>除了使用内置的 Hooks 之外，还可以创建自己的 Hooks（自定义 Hooks）。</p> <p>使用场景：<strong>将组件状态逻辑提取到可重用的函数（自定义 Hooks）中，实现状态逻辑复用。</strong></p> <p>内置 Hooks 为函数组件赋予了 class 组件的功能；在此之上，自定义 Hooks 针对不同组件实现不同状态逻辑复用。</p> <ul><li>自定义 Hooks 是一个函数，<strong>约定函数名称必须以 use 开头，React 就是通过函数名称是否以 use 开头来判断是不是 Hooks</strong></li> <li>Hooks 只能在函数组件中或其他自定义 Hooks 中使用，否则，会报错！</li> <li>自定义 Hooks 用来提取组件的状态逻辑，根据不同功能可以有不同的参数和返回值（就像使用普通函数一样）</li></ul></div></section> <footer class="page-edit"><!----> <!----></footer> <div class="page-nav"><p class="inner"><span class="prev"><a href="/vuepress-starter/page/react/componentreuse.html" class="prev">
          组件复用
        </a></span> <span class="next"><a href="/vuepress-starter/page/react/hooksadvanced.html">
          hooks进阶
        </a></span></p></div> <div class="comments-wrapper"><!----></div></main></div> <!----></div> <ul class="sub-sidebar sub-sidebar-wrapper" style="width:12rem;" data-v-b57cc07c data-v-7dd95ae2><li class="level-2" data-v-b57cc07c><a href="/vuepress-starter/page/react/react-hooks.html#react-hooks-介绍" class="sidebar-link reco-side-react-hooks-介绍" data-v-b57cc07c>React Hooks 介绍</a></li><li class="level-3" data-v-b57cc07c><a href="/vuepress-starter/page/react/react-hooks.html#hooks-是什么" class="sidebar-link reco-side-hooks-是什么" data-v-b57cc07c>Hooks 是什么</a></li><li class="level-3" data-v-b57cc07c><a href="/vuepress-starter/page/react/react-hooks.html#为什么要有-hooks" class="sidebar-link reco-side-为什么要有-hooks" data-v-b57cc07c>为什么要有 Hooks</a></li><li class="level-3" data-v-b57cc07c><a href="/vuepress-starter/page/react/react-hooks.html#hooks的优势" class="sidebar-link reco-side-hooks的优势" data-v-b57cc07c>hooks的优势</a></li><li class="level-3" data-v-b57cc07c><a href="/vuepress-starter/page/react/react-hooks.html#前面学习的-react-知识是有用的" class="sidebar-link reco-side-前面学习的-react-知识是有用的" data-v-b57cc07c>前面学习的 React 知识是有用的</a></li><li class="level-2" data-v-b57cc07c><a href="/vuepress-starter/page/react/react-hooks.html#usestate-hook" class="sidebar-link reco-side-usestate-hook" data-v-b57cc07c>useState Hook</a></li><li class="level-3" data-v-b57cc07c><a href="/vuepress-starter/page/react/react-hooks.html#概述" class="sidebar-link reco-side-概述" data-v-b57cc07c>概述</a></li><li class="level-3" data-v-b57cc07c><a href="/vuepress-starter/page/react/react-hooks.html#usestate-hook-的基本使用" class="sidebar-link reco-side-usestate-hook-的基本使用" data-v-b57cc07c>useState Hook 的基本使用</a></li><li class="level-3" data-v-b57cc07c><a href="/vuepress-starter/page/react/react-hooks.html#使用数组解构简化" class="sidebar-link reco-side-使用数组解构简化" data-v-b57cc07c>使用数组解构简化</a></li><li class="level-3" data-v-b57cc07c><a href="/vuepress-starter/page/react/react-hooks.html#状态的读取和修改" class="sidebar-link reco-side-状态的读取和修改" data-v-b57cc07c>状态的读取和修改</a></li><li class="level-3" data-v-b57cc07c><a href="/vuepress-starter/page/react/react-hooks.html#组件的更新过程" class="sidebar-link reco-side-组件的更新过程" data-v-b57cc07c>组件的更新过程</a></li><li class="level-3" data-v-b57cc07c><a href="/vuepress-starter/page/react/react-hooks.html#为函数组件添加多个状态" class="sidebar-link reco-side-为函数组件添加多个状态" data-v-b57cc07c>为函数组件添加多个状态</a></li><li class="level-3" data-v-b57cc07c><a href="/vuepress-starter/page/react/react-hooks.html#hooks-的使用规则" class="sidebar-link reco-side-hooks-的使用规则" data-v-b57cc07c>hooks 的使用规则</a></li><li class="level-2" data-v-b57cc07c><a href="/vuepress-starter/page/react/react-hooks.html#useeffect-hook" class="sidebar-link reco-side-useeffect-hook" data-v-b57cc07c>useEffect Hook</a></li><li class="level-3" data-v-b57cc07c><a href="/vuepress-starter/page/react/react-hooks.html#side-effect-副作用" class="sidebar-link reco-side-side-effect-副作用" data-v-b57cc07c>side effect - 副作用</a></li><li class="level-3" data-v-b57cc07c><a href="/vuepress-starter/page/react/react-hooks.html#useeffect-的基本使用" class="sidebar-link reco-side-useeffect-的基本使用" data-v-b57cc07c>useEffect 的基本使用</a></li><li class="level-3" data-v-b57cc07c><a href="/vuepress-starter/page/react/react-hooks.html#useeffect-的依赖" class="sidebar-link reco-side-useeffect-的依赖" data-v-b57cc07c>useEffect 的依赖</a></li><li class="level-3" data-v-b57cc07c><a href="/vuepress-starter/page/react/react-hooks.html#useeffect-的依赖是一个空数组" class="sidebar-link reco-side-useeffect-的依赖是一个空数组" data-v-b57cc07c>useEffect 的依赖是一个空数组</a></li><li class="level-3" data-v-b57cc07c><a href="/vuepress-starter/page/react/react-hooks.html#总结-useeffect-的使用" class="sidebar-link reco-side-总结-useeffect-的使用" data-v-b57cc07c>总结 useEffect 的使用</a></li><li class="level-3" data-v-b57cc07c><a href="/vuepress-starter/page/react/react-hooks.html#不要对useeffect的依赖项撒谎" class="sidebar-link reco-side-不要对useeffect的依赖项撒谎" data-v-b57cc07c>不要对useEffect的依赖项撒谎</a></li><li class="level-3" data-v-b57cc07c><a href="/vuepress-starter/page/react/react-hooks.html#useeffect-清理副作用" class="sidebar-link reco-side-useeffect-清理副作用" data-v-b57cc07c>useEffect 清理副作用</a></li><li class="level-3" data-v-b57cc07c><a href="/vuepress-starter/page/react/react-hooks.html#将事件处理程序放在-useeffect-内部" class="sidebar-link reco-side-将事件处理程序放在-useeffect-内部" data-v-b57cc07c>将事件处理程序放在 useEffect 内部</a></li><li class="level-3" data-v-b57cc07c><a href="/vuepress-starter/page/react/react-hooks.html#useeffect-发送请求" class="sidebar-link reco-side-useeffect-发送请求" data-v-b57cc07c>useEffect 发送请求</a></li><li class="level-3" data-v-b57cc07c><a href="/vuepress-starter/page/react/react-hooks.html#useeffect循环报错问题" class="sidebar-link reco-side-useeffect循环报错问题" data-v-b57cc07c>useEffect循环报错问题</a></li><li class="level-2" data-v-b57cc07c><a href="/vuepress-starter/page/react/react-hooks.html#自定义hooks" class="sidebar-link reco-side-自定义hooks" data-v-b57cc07c>自定义hooks</a></li></ul></div></div></div><div class="global-ui"><div class="back-to-ceiling" style="right:1rem;bottom:6rem;width:2.5rem;height:2.5rem;border-radius:.25rem;line-height:2.5rem;display:none;" data-v-c6073ba8 data-v-c6073ba8><svg t="1574745035067" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="5404" class="icon" data-v-c6073ba8><path d="M526.60727968 10.90185116a27.675 27.675 0 0 0-29.21455937 0c-131.36607665 82.28402758-218.69155461 228.01873535-218.69155402 394.07834331a462.20625001 462.20625001 0 0 0 5.36959153 69.94390903c1.00431239 6.55289093-0.34802892 13.13561351-3.76865779 18.80351572-32.63518765 54.11355614-51.75690182 118.55860487-51.7569018 187.94566865a371.06718723 371.06718723 0 0 0 11.50484808 91.98906777c6.53300375 25.50556257 41.68394495 28.14064038 52.69160883 4.22606766 17.37162448-37.73630017 42.14135425-72.50938081 72.80769204-103.21549295 2.18761121 3.04276886 4.15646224 6.24463696 6.40373557 9.22774369a1871.4375 1871.4375 0 0 0 140.04691725 5.34970492 1866.36093723 1866.36093723 0 0 0 140.04691723-5.34970492c2.24727335-2.98310674 4.21612437-6.18497483 6.3937923-9.2178004 30.66633723 30.70611158 55.4360664 65.4791928 72.80769147 103.21549355 11.00766384 23.91457269 46.15860503 21.27949489 52.69160879-4.22606768a371.15156223 371.15156223 0 0 0 11.514792-91.99901164c0-69.36717486-19.13165746-133.82216804-51.75690182-187.92578088-3.42062944-5.66790279-4.76302748-12.26056868-3.76865837-18.80351632a462.20625001 462.20625001 0 0 0 5.36959269-69.943909c-0.00994388-166.08943902-87.32547796-311.81420293-218.6915546-394.09823051zM605.93803103 357.87693858a93.93749974 93.93749974 0 1 1-187.89594924 6.1e-7 93.93749974 93.93749974 0 0 1 187.89594924-6.1e-7z" p-id="5405" data-v-c6073ba8></path><path d="M429.50777625 765.63860547C429.50777625 803.39355007 466.44236686 1000.39046097 512.00932183 1000.39046097c45.56695499 0 82.4922232-197.00623328 82.5015456-234.7518555 0-37.75494459-36.9345906-68.35043303-82.4922232-68.34111062-45.57627738-0.00932239-82.52019037 30.59548842-82.51086798 68.34111062z" p-id="5406" data-v-c6073ba8></path></svg></div><div class="kanbanniang" data-v-5775ee02><div class="banniang-container" style="display:;" data-v-5775ee02><div class="messageBox" style="right:68px;bottom:190px;display:none;" data-v-5775ee02>
      欢迎来到 TS文档
    </div> <div class="operation" style="right:90px;bottom:40px;display:;" data-v-5775ee02><i class="kbnfont kbn-ban-home ban-home" data-v-5775ee02></i> <i class="kbnfont kbn-ban-message message" data-v-5775ee02></i> <i class="kbnfont kbn-ban-close close" data-v-5775ee02></i> <a target="_blank" href="https://vuepress-theme-reco.recoluan.com/views/plugins/kanbanniang.html" data-v-5775ee02><i class="kbnfont kbn-ban-info info" data-v-5775ee02></i></a> <i class="kbnfont kbn-ban-theme skin" style="display:;" data-v-5775ee02></i></div> <canvas id="banniang" width="150" height="220" class="live2d" style="right:90px;bottom:-20px;opacity:0.9;" data-v-5775ee02></canvas></div> <div class="showBanNiang" style="display:none;" data-v-5775ee02>
    看板娘
  </div></div></div></div>
    <script src="/vuepress-starter/assets/js/app.04b70824.js" defer></script><script src="/vuepress-starter/assets/js/8.63529011.js" defer></script><script src="/vuepress-starter/assets/js/1.2f7c1606.js" defer></script><script src="/vuepress-starter/assets/js/103.30dc88a6.js" defer></script>
  </body>
</html>
