<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title># 黑马优购-购物车 | TS文档</title>
    <meta name="generator" content="VuePress 1.9.7">
    <link rel="icon" href="/vuepress-starter/images/good.png">
    <meta name="description" content="TS文档翻译">
    
    <link rel="preload" href="/vuepress-starter/assets/css/0.styles.e83b6921.css" as="style"><link rel="preload" href="/vuepress-starter/assets/js/app.b20a56ac.js" as="script"><link rel="preload" href="/vuepress-starter/assets/js/9.d0fd5d46.js" as="script"><link rel="preload" href="/vuepress-starter/assets/js/1.a4aa22ef.js" as="script"><link rel="preload" href="/vuepress-starter/assets/js/42.14961272.js" as="script"><link rel="prefetch" href="/vuepress-starter/assets/js/10.46cc27fc.js"><link rel="prefetch" href="/vuepress-starter/assets/js/100.65cd0683.js"><link rel="prefetch" href="/vuepress-starter/assets/js/101.e1bbb60c.js"><link rel="prefetch" href="/vuepress-starter/assets/js/102.8f399e2e.js"><link rel="prefetch" href="/vuepress-starter/assets/js/103.4715dab9.js"><link rel="prefetch" href="/vuepress-starter/assets/js/104.4bb8ec1c.js"><link rel="prefetch" href="/vuepress-starter/assets/js/105.5b6012f3.js"><link rel="prefetch" href="/vuepress-starter/assets/js/106.937c2ca7.js"><link rel="prefetch" href="/vuepress-starter/assets/js/107.aad3c0c3.js"><link rel="prefetch" href="/vuepress-starter/assets/js/108.67962070.js"><link rel="prefetch" href="/vuepress-starter/assets/js/109.79d726b5.js"><link rel="prefetch" href="/vuepress-starter/assets/js/11.06f12993.js"><link rel="prefetch" href="/vuepress-starter/assets/js/110.2878a99b.js"><link rel="prefetch" href="/vuepress-starter/assets/js/111.9f8250f1.js"><link rel="prefetch" href="/vuepress-starter/assets/js/112.2d69f6f0.js"><link rel="prefetch" href="/vuepress-starter/assets/js/113.7c62515c.js"><link rel="prefetch" href="/vuepress-starter/assets/js/114.53d04b04.js"><link rel="prefetch" href="/vuepress-starter/assets/js/115.289bc8ef.js"><link rel="prefetch" href="/vuepress-starter/assets/js/116.0b7f53ec.js"><link rel="prefetch" href="/vuepress-starter/assets/js/117.89a371f9.js"><link rel="prefetch" href="/vuepress-starter/assets/js/118.c70c254e.js"><link rel="prefetch" href="/vuepress-starter/assets/js/119.630a71fc.js"><link rel="prefetch" href="/vuepress-starter/assets/js/12.4c5e8861.js"><link rel="prefetch" href="/vuepress-starter/assets/js/120.12709ea5.js"><link rel="prefetch" href="/vuepress-starter/assets/js/121.0f334874.js"><link rel="prefetch" href="/vuepress-starter/assets/js/13.d398cecd.js"><link rel="prefetch" href="/vuepress-starter/assets/js/14.78dec744.js"><link rel="prefetch" href="/vuepress-starter/assets/js/15.4afc449e.js"><link rel="prefetch" href="/vuepress-starter/assets/js/16.a7ffdc56.js"><link rel="prefetch" href="/vuepress-starter/assets/js/17.2fc5316e.js"><link rel="prefetch" href="/vuepress-starter/assets/js/18.0b0a5722.js"><link rel="prefetch" href="/vuepress-starter/assets/js/19.49ab825a.js"><link rel="prefetch" href="/vuepress-starter/assets/js/2.27084988.js"><link rel="prefetch" href="/vuepress-starter/assets/js/20.e7219a90.js"><link rel="prefetch" href="/vuepress-starter/assets/js/21.99237387.js"><link rel="prefetch" href="/vuepress-starter/assets/js/22.6f1a6770.js"><link rel="prefetch" href="/vuepress-starter/assets/js/23.86e35e17.js"><link rel="prefetch" href="/vuepress-starter/assets/js/24.8dfe7e9e.js"><link rel="prefetch" href="/vuepress-starter/assets/js/25.d2ea21b1.js"><link rel="prefetch" href="/vuepress-starter/assets/js/26.d50c853f.js"><link rel="prefetch" href="/vuepress-starter/assets/js/27.6a65ee70.js"><link rel="prefetch" href="/vuepress-starter/assets/js/28.febaebbd.js"><link rel="prefetch" href="/vuepress-starter/assets/js/29.d4f936cd.js"><link rel="prefetch" href="/vuepress-starter/assets/js/30.d6531e28.js"><link rel="prefetch" href="/vuepress-starter/assets/js/31.8eebb916.js"><link rel="prefetch" href="/vuepress-starter/assets/js/32.64885e9b.js"><link rel="prefetch" href="/vuepress-starter/assets/js/33.28c745af.js"><link rel="prefetch" href="/vuepress-starter/assets/js/34.8743457f.js"><link rel="prefetch" href="/vuepress-starter/assets/js/35.0344e55d.js"><link rel="prefetch" href="/vuepress-starter/assets/js/36.235ec1e0.js"><link rel="prefetch" href="/vuepress-starter/assets/js/37.5275c45e.js"><link rel="prefetch" href="/vuepress-starter/assets/js/38.2e08c840.js"><link rel="prefetch" href="/vuepress-starter/assets/js/39.5e7da7f8.js"><link rel="prefetch" href="/vuepress-starter/assets/js/4.82db5dac.js"><link rel="prefetch" href="/vuepress-starter/assets/js/40.16eae144.js"><link rel="prefetch" href="/vuepress-starter/assets/js/41.25fe991d.js"><link rel="prefetch" href="/vuepress-starter/assets/js/43.d4f830c7.js"><link rel="prefetch" href="/vuepress-starter/assets/js/44.95ee17bd.js"><link rel="prefetch" href="/vuepress-starter/assets/js/45.8a759a6f.js"><link rel="prefetch" href="/vuepress-starter/assets/js/46.89b508b9.js"><link rel="prefetch" href="/vuepress-starter/assets/js/47.68cb02e1.js"><link rel="prefetch" href="/vuepress-starter/assets/js/48.67adc85e.js"><link rel="prefetch" href="/vuepress-starter/assets/js/49.3ef19540.js"><link rel="prefetch" href="/vuepress-starter/assets/js/5.96e99ac8.js"><link rel="prefetch" href="/vuepress-starter/assets/js/50.2d8fded0.js"><link rel="prefetch" href="/vuepress-starter/assets/js/51.a45747d9.js"><link rel="prefetch" href="/vuepress-starter/assets/js/52.b50bfd2d.js"><link rel="prefetch" href="/vuepress-starter/assets/js/53.b8152f0a.js"><link rel="prefetch" href="/vuepress-starter/assets/js/54.57ca6a3e.js"><link rel="prefetch" href="/vuepress-starter/assets/js/55.ddc626b3.js"><link rel="prefetch" href="/vuepress-starter/assets/js/56.b14df23b.js"><link rel="prefetch" href="/vuepress-starter/assets/js/57.400e6578.js"><link rel="prefetch" href="/vuepress-starter/assets/js/58.bb9c31d7.js"><link rel="prefetch" href="/vuepress-starter/assets/js/59.fec9949e.js"><link rel="prefetch" href="/vuepress-starter/assets/js/6.08009833.js"><link rel="prefetch" href="/vuepress-starter/assets/js/60.ece2362a.js"><link rel="prefetch" href="/vuepress-starter/assets/js/61.394b2c5d.js"><link rel="prefetch" href="/vuepress-starter/assets/js/62.192362bb.js"><link rel="prefetch" href="/vuepress-starter/assets/js/63.4c2ce96e.js"><link rel="prefetch" href="/vuepress-starter/assets/js/64.ba4336a5.js"><link rel="prefetch" href="/vuepress-starter/assets/js/65.e27d1c94.js"><link rel="prefetch" href="/vuepress-starter/assets/js/66.f28fa041.js"><link rel="prefetch" href="/vuepress-starter/assets/js/67.c9fba5a5.js"><link rel="prefetch" href="/vuepress-starter/assets/js/68.512cb88e.js"><link rel="prefetch" href="/vuepress-starter/assets/js/69.e792e760.js"><link rel="prefetch" href="/vuepress-starter/assets/js/7.b29f260f.js"><link rel="prefetch" href="/vuepress-starter/assets/js/70.02c03ce3.js"><link rel="prefetch" href="/vuepress-starter/assets/js/71.81da702b.js"><link rel="prefetch" href="/vuepress-starter/assets/js/72.f477e9aa.js"><link rel="prefetch" href="/vuepress-starter/assets/js/73.86570555.js"><link rel="prefetch" href="/vuepress-starter/assets/js/74.6bdf2ef7.js"><link rel="prefetch" href="/vuepress-starter/assets/js/75.2d0001c6.js"><link rel="prefetch" href="/vuepress-starter/assets/js/76.0c0a0883.js"><link rel="prefetch" href="/vuepress-starter/assets/js/77.96c9c222.js"><link rel="prefetch" href="/vuepress-starter/assets/js/78.62a7e98a.js"><link rel="prefetch" href="/vuepress-starter/assets/js/79.3bb0eee2.js"><link rel="prefetch" href="/vuepress-starter/assets/js/8.52565df0.js"><link rel="prefetch" href="/vuepress-starter/assets/js/80.f51a42bd.js"><link rel="prefetch" href="/vuepress-starter/assets/js/81.2742b447.js"><link rel="prefetch" href="/vuepress-starter/assets/js/82.092fe8c0.js"><link rel="prefetch" href="/vuepress-starter/assets/js/83.d73470b8.js"><link rel="prefetch" href="/vuepress-starter/assets/js/84.4f2bba2f.js"><link rel="prefetch" href="/vuepress-starter/assets/js/85.5b372020.js"><link rel="prefetch" href="/vuepress-starter/assets/js/86.868b1ac7.js"><link rel="prefetch" href="/vuepress-starter/assets/js/87.5c91c62d.js"><link rel="prefetch" href="/vuepress-starter/assets/js/88.674fd391.js"><link rel="prefetch" href="/vuepress-starter/assets/js/89.367653dc.js"><link rel="prefetch" href="/vuepress-starter/assets/js/90.09f6c455.js"><link rel="prefetch" href="/vuepress-starter/assets/js/91.0210ac1c.js"><link rel="prefetch" href="/vuepress-starter/assets/js/92.0b083417.js"><link rel="prefetch" href="/vuepress-starter/assets/js/93.5b306406.js"><link rel="prefetch" href="/vuepress-starter/assets/js/94.02ac3fb2.js"><link rel="prefetch" href="/vuepress-starter/assets/js/95.039b1059.js"><link rel="prefetch" href="/vuepress-starter/assets/js/96.6169eba6.js"><link rel="prefetch" href="/vuepress-starter/assets/js/97.36acefcd.js"><link rel="prefetch" href="/vuepress-starter/assets/js/98.53140f5b.js"><link rel="prefetch" href="/vuepress-starter/assets/js/99.d0f7d03c.js">
    <link rel="stylesheet" href="/vuepress-starter/assets/css/0.styles.e83b6921.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container" data-v-7dd95ae2><div data-v-7dd95ae2><div class="password-shadow password-wrapper-out" style="display:none;" data-v-59e6cb88 data-v-7dd95ae2 data-v-7dd95ae2><h3 class="title" data-v-59e6cb88>TS文档</h3> <p class="description" data-v-59e6cb88>TS文档翻译</p> <label id="box" class="inputBox" data-v-59e6cb88><input type="password" value="" data-v-59e6cb88> <span data-v-59e6cb88>Konck! Knock!</span> <button data-v-59e6cb88>OK</button></label> <div class="footer" data-v-59e6cb88><span data-v-59e6cb88><i class="iconfont reco-theme" data-v-59e6cb88></i> <a target="blank" href="https://vuepress-theme-reco.recoluan.com" data-v-59e6cb88>vuePress-theme-reco</a></span> <span data-v-59e6cb88><i class="iconfont reco-copyright" data-v-59e6cb88></i> <a data-v-59e6cb88><!---->
          
        <!---->
        2022
      </a></span></div></div> <div class="hide" data-v-7dd95ae2><header class="navbar" data-v-7dd95ae2><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/vuepress-starter/" class="home-link router-link-active"><img src="/vuepress-starter/images/good.png" alt="TS文档" class="logo"> <span class="site-name">TS文档</span></a> <div class="links"><div class="color-picker"><a class="color-button"><i class="iconfont reco-color"></i></a> <div class="color-picker-menu" style="display:none;"><div class="mode-options"><h4 class="title">Choose mode</h4> <ul class="color-mode-options"><li class="dark">dark</li><li class="auto active">auto</li><li class="light">light</li></ul></div></div></div> <div class="search-box"><i class="iconfont reco-search"></i> <input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"><div class="nav-item"><a href="/vuepress-starter/" class="nav-link"><i class="undefined"></i>
  首页
</a></div><div class="nav-item"><a href="/vuepress-starter/page/js/" class="nav-link"><i class="undefined"></i>
  面试集合
</a></div><div class="nav-item"><a href="/vuepress-starter/handbook/ConditionalTypes.html" class="nav-link"><i class="undefined"></i>
  vue组件
</a></div><div class="nav-item"><a href="/vuepress-starter/vue/vuebase.html" class="nav-link"><i class="undefined"></i>
  vue学习
</a></div><div class="nav-item"><div class="dropdown-wrapper"><a class="dropdown-title"><span class="title"><i class="undefined"></i>
       JavaScript 博客
    </span> <span class="arrow right"></span></a> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="https://github.com/strongkin" target="_blank" rel="noopener noreferrer" class="nav-link external"><i class="undefined"></i>
  Github
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li><li class="dropdown-item"><!----> <a href="https://juejin.cn" target="_blank" rel="noopener noreferrer" class="nav-link external"><i class="undefined"></i>
  掘金
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li></ul></div></div> <!----></nav></div></header> <div class="sidebar-mask" data-v-7dd95ae2></div> <aside class="sidebar" data-v-7dd95ae2><div class="personal-info-wrapper" data-v-1fad0c41 data-v-7dd95ae2><img src="/vuepress-starter/images/good.png" alt="author-avatar" class="personal-img" data-v-1fad0c41> <!----> <div class="num" data-v-1fad0c41><div data-v-1fad0c41><h3 data-v-1fad0c41>105</h3> <h6 data-v-1fad0c41>Articles</h6></div> <div data-v-1fad0c41><h3 data-v-1fad0c41>0</h3> <h6 data-v-1fad0c41>Tags</h6></div></div> <ul class="social-links" data-v-1fad0c41></ul> <hr data-v-1fad0c41></div> <nav class="nav-links"><div class="nav-item"><a href="/vuepress-starter/" class="nav-link"><i class="undefined"></i>
  首页
</a></div><div class="nav-item"><a href="/vuepress-starter/page/js/" class="nav-link"><i class="undefined"></i>
  面试集合
</a></div><div class="nav-item"><a href="/vuepress-starter/handbook/ConditionalTypes.html" class="nav-link"><i class="undefined"></i>
  vue组件
</a></div><div class="nav-item"><a href="/vuepress-starter/vue/vuebase.html" class="nav-link"><i class="undefined"></i>
  vue学习
</a></div><div class="nav-item"><div class="dropdown-wrapper"><a class="dropdown-title"><span class="title"><i class="undefined"></i>
       JavaScript 博客
    </span> <span class="arrow right"></span></a> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="https://github.com/strongkin" target="_blank" rel="noopener noreferrer" class="nav-link external"><i class="undefined"></i>
  Github
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li><li class="dropdown-item"><!----> <a href="https://juejin.cn" target="_blank" rel="noopener noreferrer" class="nav-link external"><i class="undefined"></i>
  掘金
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li></ul></div></div> <!----></nav> <ul class="sidebar-links"><li><section class="sidebar-group depth-0"><p class="sidebar-heading"><span>js基础学习</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/vuepress-starter/page/js/JSBasics.html" class="sidebar-link">js基础</a></li><li><a href="/vuepress-starter/page/js/jsInterview.html" class="sidebar-link">js面试</a></li><li><a href="/vuepress-starter/page/interview/Front-endinterviewmanual.html" class="sidebar-link">前端面试要点</a></li></ul></section></li><li><section class="sidebar-group depth-0"><p class="sidebar-heading"><span>js高级学习</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><section class="sidebar-group is-sub-group depth-1"><a href="/vuepress-starter/page/js/js基础/js1/JavaScript基础第01天笔记" class="sidebar-heading clickable open"><span>js基础</span> <!----></a> <ul class="sidebar-links sidebar-group-items"><li><a href="/vuepress-starter/page/js/js基础/js1/JavaScript基础第01天笔记.html" class="sidebar-link">js基础1</a></li><li><a href="/vuepress-starter/page/js/js基础/js2/JavaScript基础第02天笔记.html" class="sidebar-link">js基础2</a></li><li><a href="/vuepress-starter/page/js/js基础/js3/JavaScript基础第03天笔记.html" class="sidebar-link">js基础3</a></li><li><a href="/vuepress-starter/page/js/js基础/js4/JavaScript基础第04天笔记.html" class="sidebar-link">js基础4</a></li><li><a href="/vuepress-starter/page/js/js基础/js5/JavaScript基础第05天笔记.html" class="sidebar-link">js基础5</a></li><li><a href="/vuepress-starter/page/js/js基础/js6/JavaScript基础第06天笔记.html" class="sidebar-link">js基础6</a></li></ul></section></li><li><section class="sidebar-group is-sub-group depth-1"><a href="/vuepress-starter/page/js/js高级/js1/JavaScript高级第01天笔记" class="sidebar-heading clickable"><span>js高级</span> <!----></a> <ul class="sidebar-links sidebar-group-items"><li><a href="/vuepress-starter/page/js/js高级/js1/JavaScript高级第01天笔记.html" class="sidebar-link">js高级1</a></li><li><a href="/vuepress-starter/page/js/js高级/js2/JavaScript高级第02天笔记.html" class="sidebar-link">js高级2</a></li><li><a href="/vuepress-starter/page/js/js高级/js3/JavaScript高级第03天笔记.html" class="sidebar-link">js高级3</a></li><li><a href="/vuepress-starter/page/js/js高级/js4/JavaScript高级第04天笔记.html" class="sidebar-link">js高级4</a></li><li><a href="/vuepress-starter/page/js/js高级/es6/es6-ES6概念&amp;新增语法&amp;内置对象拓展.html" class="sidebar-link">es6</a></li></ul></section></li><li><section class="sidebar-group is-sub-group depth-1"><p class="sidebar-heading"><span>WEBAPI</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/vuepress-starter/page/js/webapi/webapi1/day01_WebAPIs.html" class="sidebar-link">webAPI1</a></li><li><a href="/vuepress-starter/page/js/webapi/webapi1/day02_WebAPIs.html" class="sidebar-link">webAPI2</a></li><li><a href="/vuepress-starter/page/js/webapi/webapi1/day03_WebAPIs.html" class="sidebar-link">webAPI3</a></li><li><a href="/vuepress-starter/page/js/webapi/webapi1/day04_WebAPIs.html" class="sidebar-link">webAPI4</a></li><li><a href="/vuepress-starter/page/js/webapi/webapi1/day05_WebAPIs.html" class="sidebar-link">webAPI5</a></li><li><a href="/vuepress-starter/page/js/webapi/webapi2/day06_WebAPIs.html" class="sidebar-link">webAPI6</a></li><li><a href="/vuepress-starter/page/js/webapi/webapi3/day07_WebAPIs.html" class="sidebar-link">webAPI7</a></li></ul></section></li></ul></section></li><li><section class="sidebar-group depth-0"><p class="sidebar-heading"><span>react学习</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/vuepress-starter/page/react/reactbase.html" class="sidebar-link">reacr基础</a></li><li><a href="/vuepress-starter/page/react/componentreact.html" class="sidebar-link">组件基础</a></li><li><a href="/vuepress-starter/page/react/componentContext.html" class="sidebar-link">组件通讯</a></li><li><a href="/vuepress-starter/page/react/ComponentLifeCycle.html" class="sidebar-link">组件的生命周期</a></li><li><a href="/vuepress-starter/page/react/reactsource.html" class="sidebar-link">react原理解密</a></li><li><a href="/vuepress-starter/page/react/reactRouter.html" class="sidebar-link">react路由</a></li><li><a href="/vuepress-starter/page/react/componentreuse.html" class="sidebar-link">组件复用</a></li><li><a href="/vuepress-starter/page/react/react-hooks.html" class="sidebar-link">hooks基础</a></li><li><a href="/vuepress-starter/page/react/hooksadvanced.html" class="sidebar-link">hooks进阶</a></li></ul></section></li><li><section class="sidebar-group depth-0"><p class="sidebar-heading"><span>ts学习</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/vuepress-starter/page/ts/TypeScript.html" class="sidebar-link">ts介绍</a></li><li><a href="/vuepress-starter/page/ts/TypeScriptBasicType.html" class="sidebar-link">ts常用类型</a></li><li><a href="/vuepress-starter/page/ts/TypeScriptAdvancedType.html" class="sidebar-link">ts高级类型</a></li><li><a href="/vuepress-starter/page/ts/TSinReact.html" class="sidebar-link">在react项目中使用ts</a></li><li><a href="/vuepress-starter/page/ts/RetrofitProjectsWithTs.html" class="sidebar-link">使用ts改造项目</a></li></ul></section></li><li><section class="sidebar-group depth-0"><p class="sidebar-heading"><span>uniapp知识</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/vuepress-starter/page/uniapp/rendering.html" class="sidebar-link">Vue服务端渲染</a></li><li><a href="/vuepress-starter/page/uniapp/UnappBase.html" class="sidebar-link">uniapp基础</a></li></ul></section></li><li><section class="sidebar-group depth-0"><p class="sidebar-heading open"><span>微信小程序</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/vuepress-starter/page/uniapp/weixin/01-小程序基础-用法.html" class="sidebar-link">小程序基础-用法</a></li><li><a href="/vuepress-starter/page/uniapp/weixin/02-小程序基础-进阶.html" class="sidebar-link">小程序基础-进阶</a></li><li><a href="/vuepress-starter/page/uniapp/weixin/03-黑马优购-首页.html" class="sidebar-link">黑马优购-首页</a></li><li><a href="/vuepress-starter/page/uniapp/weixin/04-黑马优购-分类.html" class="sidebar-link">黑马优购-分类</a></li><li><a href="/vuepress-starter/page/uniapp/weixin/05-黑马优购-购物车.html" class="active sidebar-link">黑马优购-购物车</a></li><li><a href="/vuepress-starter/page/uniapp/weixin/06-黑马优购-登录支付.html" class="sidebar-link">黑马优购-登录支付</a></li></ul></section></li><li><section class="sidebar-group depth-0"><p class="sidebar-heading"><span>前端面试题</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/vuepress-starter/page/interview/Front-endinterviewmanual.html" class="sidebar-link">前端面试题</a></li></ul></section></li><li><section class="sidebar-group depth-0"><p class="sidebar-heading"><span>vue电商后台项目</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/vuepress-starter/page/vue/VueManageprojectsinthebackground.html" class="sidebar-link">vue电商后台项目</a></li></ul></section></li><li><section class="sidebar-group depth-0"><p class="sidebar-heading"><span>移动h5</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/vuepress-starter/page/vue/geek/ProjectInitialization.html" class="sidebar-link">项目初始化</a></li><li><a href="/vuepress-starter/page/vue/geek/LoginRegister.html" class="sidebar-link">登录注册</a></li><li><a href="/vuepress-starter/page/vue/geek/03-个人中心.html" class="sidebar-link">个人中心</a></li><li><a href="/vuepress-starter/page/vue/geek/04-首页-文章列表.html" class="sidebar-link">首页-文章列表</a></li><li><a href="/vuepress-starter/page/vue/geek/05-首页-频道编辑.html" class="sidebar-link">首页-频道编辑</a></li><li><a href="/vuepress-starter/page/vue/geek/06-文章搜索.html" class="sidebar-link">文章搜索</a></li><li><a href="/vuepress-starter/page/vue/geek/07-文章详情.html" class="sidebar-link">文章详情</a></li><li><a href="/vuepress-starter/page/vue/geek/08-文章评论.html" class="sidebar-link">文章评论</a></li><li><a href="/vuepress-starter/page/vue/geek/09-用户页面.html" class="sidebar-link">用户页面</a></li><li><a href="/vuepress-starter/page/vue/geek/10-用户关注&amp;粉丝.html" class="sidebar-link">用户关注&amp;粉丝</a></li><li><a href="/vuepress-starter/page/vue/geek/11-我的收藏-历史.html" class="sidebar-link">我的收藏-历史</a></li><li><a href="/vuepress-starter/page/vue/geek/12-编辑用户资料.html" class="sidebar-link">编辑用户资料</a></li></ul></section></li></ul> </aside> <div class="password-shadow password-wrapper-in" style="display:none;" data-v-59e6cb88 data-v-7dd95ae2><h3 class="title" data-v-59e6cb88></h3> <!----> <label id="box" class="inputBox" data-v-59e6cb88><input type="password" value="" data-v-59e6cb88> <span data-v-59e6cb88>Konck! Knock!</span> <button data-v-59e6cb88>OK</button></label> <div class="footer" data-v-59e6cb88><span data-v-59e6cb88><i class="iconfont reco-theme" data-v-59e6cb88></i> <a target="blank" href="https://vuepress-theme-reco.recoluan.com" data-v-59e6cb88>vuePress-theme-reco</a></span> <span data-v-59e6cb88><i class="iconfont reco-copyright" data-v-59e6cb88></i> <a data-v-59e6cb88><!---->
          
        <!---->
        2022
      </a></span></div></div> <div data-v-7dd95ae2><div data-v-7dd95ae2><main class="page"><section style="display:;"><div class="page-title"><h1 class="title"># 黑马优购-购物车</h1> <div data-v-8a445198><!----> <!----> <!----> <!----></div></div> <div class="theme-reco-content content__default"><h1 id=""><a href="#" class="header-anchor">#</a></h1> <h1 id="黑马优购-购物车"><a href="#黑马优购-购物车" class="header-anchor">#</a> 黑马优购-购物车</h1> <h2 id="今日重点"><a href="#今日重点" class="header-anchor">#</a> 今日重点</h2> <ul><li>商品详情</li> <li>购物车</li> <li>我的</li></ul> <h2 id="_01-商品详情-链接"><a href="#_01-商品详情-链接" class="header-anchor">#</a> 01-商品详情-链接</h2> <p>**<code>本节目标：</code>**给商品列表页商品添加链接和ID参数</p> <p><code>/packone/list/index.vue</code></p> <div class="language-js extra-class"><pre class="language-js"><code>    <span class="token function">goDetail</span><span class="token punctuation">(</span><span class="token parameter">id</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      uni<span class="token punctuation">.</span><span class="token function">navigateTo</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
          <span class="token literal-property property">url</span><span class="token operator">:</span> <span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">/packone/goods/index?id=</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>id<span class="token interpolation-punctuation punctuation">}</span></span><span class="token template-punctuation string">`</span></span>
      <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
</code></pre></div><h2 id="_02-商品详情-获取数据渲染"><a href="#_02-商品详情-获取数据渲染" class="header-anchor">#</a> 02-商品详情-获取数据渲染</h2> <p>**<code>本节目标：</code>**根据获取到的页面参数获取详情数据并渲染</p> <p><img src="/vuepress-starter/assets/img/image-20211121112459904.83935e3a.png" alt="image-20211121112459904"></p> <p>步骤：</p> <ol><li>定义详情变量</li> <li>获取详情数据渲染</li></ol> <p><code>/packone/goods/index.vue</code></p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token function">data</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">return</span> <span class="token punctuation">{</span>
    <span class="token comment">// 商品详情数据</span>
    <span class="token literal-property property">goods</span><span class="token operator">:</span> <span class="token keyword">null</span><span class="token punctuation">,</span>
  <span class="token punctuation">}</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">,</span>
</code></pre></div><div class="language-js extra-class"><pre class="language-js"><code><span class="token comment">// methods</span>
<span class="token keyword">async</span> <span class="token function">getGoods</span><span class="token punctuation">(</span><span class="token parameter">goods_id</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">const</span> <span class="token punctuation">{</span> msg<span class="token punctuation">,</span> data <span class="token punctuation">}</span> <span class="token operator">=</span> <span class="token keyword">await</span> <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">request</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
    <span class="token literal-property property">url</span><span class="token operator">:</span> <span class="token string">&quot;/api/public/v1/goods/detail&quot;</span><span class="token punctuation">,</span>
    <span class="token literal-property property">data</span><span class="token operator">:</span> <span class="token punctuation">{</span> goods_id <span class="token punctuation">}</span>
  <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>msg<span class="token punctuation">,</span> data<span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token keyword">if</span> <span class="token punctuation">(</span>msg<span class="token punctuation">.</span>status <span class="token operator">===</span> <span class="token number">200</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span>goods <span class="token operator">=</span> data<span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre></div><div class="language-html extra-class"><pre class="language-html"><code>    <span class="token comment">&lt;!-- 商品详情 --&gt;</span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>view</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>detail<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>view</span> <span class="token attr-name">v-html</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>goods.goods_introduce<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>view</span><span class="token punctuation">&gt;</span></span>
      <span class="token comment">&lt;!-- &lt;rich-text :nodes=&quot;goods.goods_introduce&quot;&gt;&lt;/rich-text&gt; --&gt;</span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>view</span><span class="token punctuation">&gt;</span></span>
</code></pre></div><p>注意：使用vue指令v-html处理节点字符串</p> <h2 id="_03-商品详情-客服"><a href="#_03-商品详情-客服" class="header-anchor">#</a> 03-商品详情-客服</h2> <p>**<code>本节目标：</code>**利用微信的button组件实现客服功能</p> <p><img src="/vuepress-starter/assets/img/image-20211121112748730.364957da.png" alt="image-20211121112748730"></p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token operator">&lt;</span>button open<span class="token operator">-</span>type<span class="token operator">=</span><span class="token string">&quot;contact&quot;</span> <span class="token keyword">class</span><span class="token operator">=</span><span class="token string">&quot;icon-handset&quot;</span><span class="token operator">&gt;</span>联系客服<span class="token operator">&lt;</span><span class="token operator">/</span>button<span class="token operator">&gt;</span>
</code></pre></div><p>注意：设置buttion的open-type=&quot;contact&quot;</p> <h2 id="_04-购物车-业务分析"><a href="#_04-购物车-业务分析" class="header-anchor">#</a> 04-购物车-业务分析</h2> <p>**<code>本节目标：</code>**分析购物车的基本处理方式和流程</p> <p>流程：</p> <ul><li>两种方式</li></ul> <ol><li>登录=》加入购物车=〉入库</li> <li>加入购物车=》登录后获取=〉入库</li></ol> <h2 id="_05-购物车-添加"><a href="#_05-购物车-添加" class="header-anchor">#</a> 05-购物车-添加</h2> <p>**<code>本节目标：</code>**添加商品到购物车，存储到本地</p> <img src="/vuepress-starter/assets/img/image-20200408122527964.f6e9a452.png" align="left" alt="image-20200408122527964" style="zoom:50%;"> <p>步骤：</p> <ol><li>定义购物车列表变量</li> <li>绑定点击事件，获取当前商品数据：goods_id,  goods_name,  goods_price,  goods_small_logo,   goods_count（数量），goods_checked（是否被选中）</li> <li>存入数组（判断是否加过）并持久化到本地</li> <li>计算加入商品的总数量，显示小红点</li></ol> <p><code>/packone/goods/index.vue</code></p> <div class="language-diff extra-class"><pre class="language-diff"><code><span class="token deleted-arrow deleted"><span class="token prefix deleted">&lt;</span><span class="token line">!-- 添加数量显示-绝对定位 --&gt;
</span></span><span class="token inserted-sign inserted"><span class="token prefix inserted">+</span><span class="token line"> &lt;text class=&quot;cart-count&quot; v-if=&quot;carts.length&quot;&gt;{{carts.length}}&lt;/text&gt;
</span></span><span class="token deleted-arrow deleted"><span class="token prefix deleted">&lt;</span><span class="token line">!-- 进入购物车 --&gt;
</span><span class="token prefix deleted">&lt;</span><span class="token line">text class=&quot;cart icon-cart&quot; @click=&quot;goCart&quot;&gt;购物车&lt;/text&gt;
</span><span class="token prefix deleted">&lt;</span><span class="token line">!-- 添加商品 --&gt;
</span></span><span class="token inserted-sign inserted"><span class="token prefix inserted">+</span><span class="token line"> &lt;text @click=&quot;addCart&quot; class=&quot;add&quot;&gt;加入购物车&lt;/text&gt;
</span></span></code></pre></div><div class="language-diff extra-class"><pre class="language-diff"><code><span class="token unchanged"><span class="token prefix unchanged"> </span><span class="token line"> data() {
</span><span class="token prefix unchanged"> </span><span class="token line">   return {
</span><span class="token prefix unchanged"> </span><span class="token line">     goods: null,
</span><span class="token prefix unchanged"> </span><span class="token line">     // 本地购物车数据
</span></span><span class="token inserted-sign inserted"><span class="token prefix inserted">+</span><span class="token line">      carts: uni.getStorageSync(&quot;carts&quot;) || []
</span></span><span class="token unchanged"><span class="token prefix unchanged"> </span><span class="token line">   };
</span><span class="token prefix unchanged"> </span><span class="token line"> },
</span></span></code></pre></div><div class="language-js extra-class"><pre class="language-js"><code><span class="token function">addCart</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token comment">// 判断是否添加过</span>
  <span class="token keyword">let</span> good <span class="token operator">=</span> <span class="token keyword">this</span><span class="token punctuation">.</span>carts<span class="token punctuation">.</span><span class="token function">find</span><span class="token punctuation">(</span><span class="token parameter">item</span> <span class="token operator">=&gt;</span> item<span class="token punctuation">.</span>goods_id <span class="token operator">===</span> <span class="token keyword">this</span><span class="token punctuation">.</span>goods<span class="token punctuation">.</span>goods_id<span class="token punctuation">)</span>

  <span class="token comment">// 没有=》新增</span>
  <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token operator">!</span>good<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">const</span> <span class="token punctuation">{</span>
      goods_id<span class="token punctuation">,</span>
      goods_name<span class="token punctuation">,</span>
      goods_price<span class="token punctuation">,</span>
      goods_small_logo
    <span class="token punctuation">}</span> <span class="token operator">=</span> <span class="token keyword">this</span><span class="token punctuation">.</span>goods
    <span class="token comment">// 没有， 加入新的</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span>carts<span class="token punctuation">.</span><span class="token function">push</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
      goods_id<span class="token punctuation">,</span>
      goods_name<span class="token punctuation">,</span>
      goods_price<span class="token punctuation">,</span>
      goods_small_logo<span class="token punctuation">,</span>
      <span class="token literal-property property">goods_count</span><span class="token operator">:</span> <span class="token number">1</span><span class="token punctuation">,</span>
      <span class="token comment">// 默认选中</span>
      <span class="token literal-property property">goods_checked</span><span class="token operator">:</span> <span class="token boolean">true</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span>

  <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>
    <span class="token comment">// 有=》数量加一</span>
    good<span class="token punctuation">.</span>goods_count<span class="token operator">++</span>
  <span class="token punctuation">}</span>

  <span class="token comment">// 存储本地</span>
  uni<span class="token punctuation">.</span><span class="token function">setStorageSync</span><span class="token punctuation">(</span><span class="token string">&quot;carts&quot;</span><span class="token punctuation">,</span> <span class="token keyword">this</span><span class="token punctuation">.</span>carts<span class="token punctuation">)</span>
  uni<span class="token punctuation">.</span><span class="token function">showToast</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
    <span class="token literal-property property">title</span><span class="token operator">:</span> <span class="token string">'加入成功'</span><span class="token punctuation">,</span>
    <span class="token literal-property property">duration</span><span class="token operator">:</span> <span class="token number">2000</span>
  <span class="token punctuation">}</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span><span class="token punctuation">,</span>
</code></pre></div><h2 id="_06-购物车-列表渲染"><a href="#_06-购物车-列表渲染" class="header-anchor">#</a> 06-购物车-列表渲染</h2> <p>**<code>本节目标：</code>**从本地获取购物车数据并渲染</p> <p><img src="/vuepress-starter/assets/img/image-20211121111150640.1db67631.png" alt="image-20211121111150640"></p> <p>步骤：</p> <ol><li>定义购物车列表数据变量</li> <li>从本地获取购物车数据并渲染</li></ol> <p><code>/pages/cart/index.vue</code></p> <div class="language-js extra-class"><pre class="language-js"><code>  <span class="token function">data</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> <span class="token punctuation">{</span>
      <span class="token comment">// 购物车数据</span>
      <span class="token literal-property property">carts</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token punctuation">]</span>
    <span class="token punctuation">}</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token function">onShow</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">getCarts</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
</code></pre></div><div class="language-js extra-class"><pre class="language-js"><code><span class="token function">getCarts</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">this</span><span class="token punctuation">.</span>carts <span class="token operator">=</span> uni<span class="token punctuation">.</span><span class="token function">getStorageSync</span><span class="token punctuation">(</span><span class="token string">&quot;carts&quot;</span><span class="token punctuation">)</span> <span class="token operator">||</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre></div><div class="language-html extra-class"><pre class="language-html"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>view</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>shopname<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>优购生活馆<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>view</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>view</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>goods<span class="token punctuation">&quot;</span></span> <span class="token attr-name">:key</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>item.goods_id<span class="token punctuation">&quot;</span></span> <span class="token attr-name">v-for</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>(item,index) in carts<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
...  
</code></pre></div><p>注意：使用onShow获取本地缓存的购物车商品数据</p> <h2 id="_07-购物车-修改数量"><a href="#_07-购物车-修改数量" class="header-anchor">#</a> 07-购物车-修改数量</h2> <p>**<code>本节目标：</code>**实现购物车加减操作</p> <p><img src="/vuepress-starter/assets/img/image-20211121111938398.060adeca.png" alt="image-20211121111938398"></p> <p>步骤：</p> <ol><li>绑定事件，传入step（1，-1）代表加减和索引值</li> <li>更新本地存储数据</li> <li>根据库存处理边界</li></ol> <div class="language-html extra-class"><pre class="language-html"><code><span class="token comment">&lt;!-- 加减 --&gt;</span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>view</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>amount<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
  <span class="token comment">&lt;!-- 绑定事件 --&gt;</span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>text</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>reduce<span class="token punctuation">&quot;</span></span> <span class="token attr-name">@click</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>changeCount(index, -1)<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>-<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>text</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>input</span>
         <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>number<span class="token punctuation">&quot;</span></span>
         <span class="token attr-name">disabled</span>
         <span class="token attr-name">v-model</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>item.goods_count<span class="token punctuation">&quot;</span></span>
         <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>number<span class="token punctuation">&quot;</span></span>
         <span class="token punctuation">/&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>text</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>plus<span class="token punctuation">&quot;</span></span> <span class="token attr-name">@click</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>changeCount(index, 1)<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>+<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>text</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>view</span><span class="token punctuation">&gt;</span></span>
</code></pre></div><div class="language-js extra-class"><pre class="language-js"><code>    <span class="token function">changeCount</span><span class="token punctuation">(</span><span class="token parameter">index<span class="token punctuation">,</span> step</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token comment">// 处理边界=&gt;库存3</span>
      <span class="token keyword">let</span> count <span class="token operator">=</span> <span class="token keyword">this</span><span class="token punctuation">.</span>carts<span class="token punctuation">[</span>index<span class="token punctuation">]</span><span class="token punctuation">.</span>goods_count<span class="token punctuation">;</span>
      <span class="token comment">// 1. 最大3</span>
      <span class="token keyword">if</span> <span class="token punctuation">(</span>step <span class="token operator">===</span> <span class="token number">1</span> <span class="token operator">&amp;&amp;</span> count <span class="token operator">&gt;=</span> <span class="token number">3</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">return</span><span class="token punctuation">;</span>
      <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token keyword">if</span> <span class="token punctuation">(</span>step <span class="token operator">===</span> <span class="token operator">-</span><span class="token number">1</span> <span class="token operator">&amp;&amp;</span> count <span class="token operator">===</span> <span class="token number">1</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token comment">// 2. 最小1</span>
        <span class="token keyword">return</span><span class="token punctuation">;</span>
      <span class="token punctuation">}</span>
      <span class="token comment">// 执行加减操作</span>
      <span class="token keyword">this</span><span class="token punctuation">.</span>carts<span class="token punctuation">[</span>index<span class="token punctuation">]</span><span class="token punctuation">.</span>goods_count <span class="token operator">+=</span> step<span class="token punctuation">;</span>
      <span class="token comment">// console.log(this.carts[index].goods_count);</span>
      uni<span class="token punctuation">.</span><span class="token function">setStorageSync</span><span class="token punctuation">(</span><span class="token string">'carts'</span><span class="token punctuation">,</span> <span class="token keyword">this</span><span class="token punctuation">.</span>carts<span class="token punctuation">)</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
</code></pre></div><h2 id="_08-购物车-选中状态"><a href="#_08-购物车-选中状态" class="header-anchor">#</a> 08-购物车-选中状态</h2> <p>**<code>本节目标：</code>**实现购物车商品的选中状态、全选、单选、显示当前选中商品数量</p> <p><img src="/vuepress-starter/assets/img/image-20211121113041895.79c2f022.png" alt="image-20211121113041895"></p> <p>步骤：</p> <ol><li>绑定事件，处理<strong>商品选中状态</strong>（单选和全选）=》做取反</li> <li>过滤购物车数据，获取当前<strong>选中商品数量</strong></li></ol> <ul><li>处理单选 =〉取反</li></ul> <div class="language-diff extra-class"><pre class="language-diff"><code><span class="token deleted-arrow deleted"><span class="token prefix deleted">&lt;</span><span class="token line">!-- 选框 --&gt;
</span><span class="token prefix deleted">&lt;</span><span class="token line">view class=&quot;checkbox&quot;&gt;
</span></span><span class="token unchanged"><span class="token prefix unchanged"> </span><span class="token line"> &lt;icon
</span></span><span class="token inserted-sign inserted"><span class="token prefix inserted">+</span><span class="token line">        @click=&quot;selPrd(index)&quot;
</span></span><span class="token unchanged"><span class="token prefix unchanged"> </span><span class="token line">       type=&quot;success&quot;
</span><span class="token prefix unchanged"> </span><span class="token line">       size=&quot;20&quot;
</span></span><span class="token inserted-sign inserted"><span class="token prefix inserted">+</span><span class="token line">       :color=&quot;item.goods_checked?'#ea4451':'#ccc'&quot;
</span></span><span class="token unchanged"><span class="token prefix unchanged"> </span><span class="token line">       &gt;&lt;/icon&gt;
</span></span><span class="token deleted-arrow deleted"><span class="token prefix deleted">&lt;</span><span class="token line">/view&gt;
</span></span></code></pre></div><ul><li>处理全选=》根据当前选中的商品===购物车中商品总数量 =〉取反</li></ul> <div class="language-diff extra-class"><pre class="language-diff"><code><span class="token deleted-arrow deleted"><span class="token prefix deleted">&lt;</span><span class="token line">!-- 其它 --&gt;
</span><span class="token prefix deleted">&lt;</span><span class="token line">view class=&quot;extra&quot;&gt;
</span></span><span class="token unchanged"><span class="token prefix unchanged"> </span><span class="token line"> &lt;label
</span><span class="token prefix unchanged"> </span><span class="token line">        class=&quot;checkall&quot;
</span></span><span class="token inserted-sign inserted"><span class="token prefix inserted">+</span><span class="token line">         @click=&quot;selAll&quot;
</span></span><span class="token unchanged"><span class="token prefix unchanged"> </span><span class="token line">  &gt;
</span><span class="token prefix unchanged"> </span><span class="token line">   &lt;icon
</span><span class="token prefix unchanged"> </span><span class="token line">   type=&quot;success&quot;
</span></span><span class="token inserted-sign inserted"><span class="token prefix inserted">+</span><span class="token line">   :color=&quot;isAll?'#ea4451':'#ccc'&quot;
</span></span><span class="token unchanged"><span class="token prefix unchanged"> </span><span class="token line">   size=&quot;20&quot;&gt;&lt;/icon&gt;全选
</span><span class="token prefix unchanged"> </span><span class="token line"> &lt;/label&gt;
</span></span></code></pre></div><div class="language-js extra-class"><pre class="language-js"><code><span class="token function">data</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> <span class="token punctuation">{</span>
      <span class="token comment">// 购物车商品列表</span>
      <span class="token literal-property property">carts</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
    <span class="token punctuation">}</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
<span class="token literal-property property">computed</span><span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token comment">// 是否全部选中</span>
    <span class="token function">isAll</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token keyword">return</span> <span class="token keyword">this</span><span class="token punctuation">.</span>checkedPrd<span class="token punctuation">.</span>length <span class="token operator">===</span> <span class="token keyword">this</span><span class="token punctuation">.</span>carts<span class="token punctuation">.</span>length
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token comment">// 当前选中的商品</span>
    <span class="token function">checkedPrd</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token keyword">return</span> <span class="token keyword">this</span><span class="token punctuation">.</span>carts<span class="token punctuation">.</span><span class="token function">filter</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">item</span><span class="token punctuation">)</span><span class="token operator">=&gt;</span>item<span class="token punctuation">.</span>goods_checked<span class="token punctuation">)</span> 
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span> 
<span class="token literal-property property">methods</span><span class="token operator">:</span> <span class="token punctuation">{</span>
  <span class="token comment">// 更新本地数据</span>
  <span class="token function">updateStorage</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
     uni<span class="token punctuation">.</span><span class="token function">setStorageSync</span><span class="token punctuation">(</span><span class="token string">'carts'</span><span class="token punctuation">,</span> <span class="token keyword">this</span><span class="token punctuation">.</span>carts<span class="token punctuation">)</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token comment">// 单选</span>
  <span class="token function">selPrd</span><span class="token punctuation">(</span><span class="token parameter">index</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
     <span class="token keyword">this</span><span class="token punctuation">.</span>carts<span class="token punctuation">[</span>index<span class="token punctuation">]</span><span class="token punctuation">.</span>goods_checked <span class="token operator">=</span> <span class="token operator">!</span><span class="token keyword">this</span><span class="token punctuation">.</span>carts<span class="token punctuation">[</span>index<span class="token punctuation">]</span><span class="token punctuation">.</span>goods_checked 
     <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">updateStorage</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
   <span class="token punctuation">}</span><span class="token punctuation">,</span>      
  <span class="token comment">// 全选</span>
  <span class="token function">selAll</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token comment">// 根据计算属性是否全部选中，做取反</span>
      <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>isAll<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">this</span><span class="token punctuation">.</span>carts<span class="token punctuation">.</span><span class="token function">forEach</span><span class="token punctuation">(</span><span class="token parameter">item</span> <span class="token operator">=&gt;</span> <span class="token punctuation">(</span>item<span class="token punctuation">.</span>goods_checked <span class="token operator">=</span> <span class="token boolean">false</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
      <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>
        <span class="token keyword">this</span><span class="token punctuation">.</span>carts<span class="token punctuation">.</span><span class="token function">forEach</span><span class="token punctuation">(</span><span class="token parameter">item</span> <span class="token operator">=&gt;</span> <span class="token punctuation">(</span>item<span class="token punctuation">.</span>goods_checked <span class="token operator">=</span> <span class="token boolean">true</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
      <span class="token punctuation">}</span>
      <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">updateStorage</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>

<span class="token punctuation">}</span>      
</code></pre></div><h2 id="_09-购物车-计算总金额"><a href="#_09-购物车-计算总金额" class="header-anchor">#</a> 09-购物车-计算总金额</h2> <p><strong><code>本节目标：</code><strong>计算当前</strong>选中商品的总金额</strong></p> <p><img src="data:image/png;base64,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" alt="image-20211121113341672"></p> <p>提示：使用计算属性</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token comment">// 总金额</span>
<span class="token function">amount</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">let</span> total <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>
  <span class="token keyword">this</span><span class="token punctuation">.</span>checkedPrd<span class="token punctuation">.</span><span class="token function">forEach</span><span class="token punctuation">(</span><span class="token parameter">item</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
    total <span class="token operator">+=</span> item<span class="token punctuation">.</span>goods_price <span class="token operator">*</span> item<span class="token punctuation">.</span>goods_count<span class="token punctuation">;</span>
  <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token keyword">return</span> total<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre></div><div class="language-html extra-class"><pre class="language-html"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>view</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>total<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
  合计:
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>text</span><span class="token punctuation">&gt;</span></span>￥<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>text</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>label</span><span class="token punctuation">&gt;</span></span>{{amount}}<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>label</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>text</span><span class="token punctuation">&gt;</span></span>.00<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>text</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>view</span><span class="token punctuation">&gt;</span></span>
</code></pre></div><h2 id="_10-购物车-收货地址"><a href="#_10-购物车-收货地址" class="header-anchor">#</a> 10-购物车-收货地址</h2> <p>**<code>本节目标：</code>**获取当前微信账号的收货地址并渲染</p> <p><img src="data:image/png;base64,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" alt="image-20211121113758025"></p> <p>说明：</p> <ol><li>选择和编辑收货地址的页面，由微信客户端提供</li> <li>需要设置<code>manifest.json</code>配置：</li></ol> <div class="language-diff extra-class"><pre class="language-diff"><code>	&quot;mp-weixin&quot;: { /* 微信小程序特有相关 */
		&quot;appid&quot;: &quot;&quot;,
		&quot;setting&quot;: {
			&quot;urlCheck&quot;: false
		},
		&quot;usingComponents&quot;: true,
<span class="token inserted-sign inserted"><span class="token prefix inserted">+</span><span class="token line">		&quot;requiredPrivateInfos&quot;: [
</span><span class="token prefix inserted">+</span><span class="token line">			&quot;chooseAddress&quot;
</span><span class="token prefix inserted">+</span><span class="token line">		]
</span></span>	}
</code></pre></div><p>步骤：</p> <ol><li>定义地址变量</li> <li>使用uni.chooseAddress()获取地址数据</li></ol> <div class="language-diff extra-class"><pre class="language-diff"><code>data () {
<span class="token unchanged"><span class="token prefix unchanged"> </span><span class="token line">   return {
</span><span class="token prefix unchanged"> </span><span class="token line">     carts: [],
</span></span><span class="token deleted-sign deleted"><span class="token prefix deleted">-</span><span class="token line">      // 收货地址
</span></span><span class="token inserted-sign inserted"><span class="token prefix inserted">+</span><span class="token line">      address: null
</span></span><span class="token unchanged"><span class="token prefix unchanged"> </span><span class="token line">   }
</span></span>},
</code></pre></div><div class="language-js extra-class"><pre class="language-js"><code><span class="token literal-property property">computed</span><span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token function">addr</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token keyword">return</span> <span class="token punctuation">(</span>
        <span class="token keyword">this</span><span class="token punctuation">.</span>address <span class="token operator">&amp;&amp;</span>
        <span class="token keyword">this</span><span class="token punctuation">.</span>address<span class="token punctuation">.</span>provinceName <span class="token operator">+</span>
        <span class="token keyword">this</span><span class="token punctuation">.</span>address<span class="token punctuation">.</span>cityName <span class="token operator">+</span>
        <span class="token keyword">this</span><span class="token punctuation">.</span>address<span class="token punctuation">.</span>countyName <span class="token operator">+</span>
        <span class="token keyword">this</span><span class="token punctuation">.</span>address<span class="token punctuation">.</span>detailInfo
      <span class="token punctuation">)</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">,</span>  
<span class="token comment">// method  </span>
<span class="token function">getAddress</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  uni<span class="token punctuation">.</span><span class="token function">chooseAddress</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
    <span class="token function-variable function">success</span><span class="token operator">:</span> <span class="token parameter">res</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
      <span class="token comment">// console.log(res);</span>
      <span class="token keyword">this</span><span class="token punctuation">.</span>address <span class="token operator">=</span> res<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre></div><div class="language-html extra-class"><pre class="language-html"><code><span class="token comment">&lt;!-- 收货信息 --&gt;</span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>view</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>shipment<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>block</span> <span class="token attr-name">v-if</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>address<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>view</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>dt<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>收货人:<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>view</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>view</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>dd meta<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>text</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>name<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>{{address.userName}}<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>text</span><span class="token punctuation">&gt;</span></span>
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>text</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>phone<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>{{address.telNumber}}<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>text</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>view</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>view</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>dt<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>收货地址:<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>view</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>view</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>dd<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>{{addr}}<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>view</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>block</span><span class="token punctuation">&gt;</span></span>
  <span class="token comment">&lt;!-- 获取用户地址 --&gt;</span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>button</span> <span class="token attr-name">v-else</span> <span class="token attr-name">@click</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>getAddress<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>获取收获地址<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>button</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>view</span><span class="token punctuation">&gt;</span></span>
</code></pre></div><p>注意：block元素绑定事件不生效</p> <h2 id="_11-我的-个人中心"><a href="#_11-我的-个人中心" class="header-anchor">#</a> 11-我的-个人中心</h2> <p>**<code>本节目标：</code>**获取当前微信账号的头像和用户名</p> <p><img src="/vuepress-starter/assets/img/image-20211121114405903.c137dc5e.png" alt="image-20211121114405903"></p> <p>步骤：</p> <ol><li>使用微信基础组件open-data获取用户信息（<a href="https://developers.weixin.qq.com/community/develop/doc/000e881c7046a8fa1f4d464105b001" target="_blank" rel="noopener noreferrer">支持性说明<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a>）</li> <li>使用API能力拨打电话</li> <li>分享小程序</li></ol> <p><code>profile/index.vue</code></p> <ul><li>获取个人信息=&gt;微信客户端登录人信息</li></ul> <div class="language-html extra-class"><pre class="language-html"><code><span class="token comment">&lt;!-- 个人资料 --&gt;</span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>view</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>profile<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>view</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>meta<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
    <span class="token comment">&lt;!-- &lt;image class=&quot;avatar&quot; src=&quot;http://static.botue.com/ugo/uploads/monkey.png&quot; /&gt;
&lt;text class=&quot;nickname&quot;&gt;孙悟空&lt;/text&gt;--&gt;</span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>open-data</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>avatar<span class="token punctuation">&quot;</span></span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>userAvatarUrl<span class="token punctuation">&quot;</span></span> <span class="token punctuation">/&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>open-data</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>nickname<span class="token punctuation">&quot;</span></span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>userNickName<span class="token punctuation">&quot;</span></span> <span class="token punctuation">/&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>view</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>view</span><span class="token punctuation">&gt;</span></span>
</code></pre></div><ul><li>打电话</li></ul> <div class="language-html extra-class"><pre class="language-html"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>view</span> <span class="token attr-name">@click</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>callSer<span class="token punctuation">&quot;</span></span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>item icon-arrow<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>联系客服<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>view</span><span class="token punctuation">&gt;</span></span>
</code></pre></div><div class="language-js extra-class"><pre class="language-js"><code><span class="token function">callSer</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  uni<span class="token punctuation">.</span><span class="token function">makePhoneCall</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
    <span class="token literal-property property">phoneNumber</span><span class="token operator">:</span> <span class="token string">&quot;10086&quot;</span>
  <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre></div><ul><li>分享</li></ul> <div class="language-vue extra-class"><pre class="language-vue"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>button</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>item icon-arrow<span class="token punctuation">&quot;</span></span> <span class="token attr-name">open-type</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>share<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>分享优购<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>button</span><span class="token punctuation">&gt;</span></span>
</code></pre></div><h2 id="_12-我的-个人中心-鉴权"><a href="#_12-我的-个人中心-鉴权" class="header-anchor">#</a> 12-我的-个人中心-鉴权</h2> <p>**<code>本节目标：</code>**控制登录用户才能访问个人中心</p> <p>步骤：</p> <ol><li>定义mixin混入全局鉴权方法</li> <li>组件onShow时检测</li></ol> <p><code>mixin/index.js</code></p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token punctuation">{</span>
  <span class="token literal-property property">methods</span><span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token function">checkAuth</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token operator">!</span>uni<span class="token punctuation">.</span><span class="token function">getStorageSync</span><span class="token punctuation">(</span><span class="token string">'token'</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        uni<span class="token punctuation">.</span><span class="token function">navigateTo</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
          <span class="token literal-property property">url</span><span class="token operator">:</span> <span class="token string">'/packone/auth/index'</span>
        <span class="token punctuation">}</span><span class="token punctuation">)</span>
      <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span>
</code></pre></div><p><code>main.js</code></p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token comment">// 注册mixin</span>
Vue<span class="token punctuation">.</span><span class="token function">mixin</span><span class="token punctuation">(</span>auth<span class="token punctuation">)</span>
</code></pre></div><p><code>profile/index.vue</code></p> <div class="language-vue extra-class"><pre class="language-vue"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span><span class="token punctuation">&gt;</span></span><span class="token script"><span class="token language-javascript">
<span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token punctuation">{</span>
  <span class="token function">onShow</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">checkAuth</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">&gt;</span></span>
</code></pre></div><h2 id="今日总结"><a href="#今日总结" class="header-anchor">#</a> 今日总结</h2></div></section> <footer class="page-edit"><!----> <!----></footer> <div class="page-nav"><p class="inner"><span class="prev"><a href="/vuepress-starter/page/uniapp/weixin/04-黑马优购-分类.html" class="prev">
          黑马优购-分类
        </a></span> <span class="next"><a href="/vuepress-starter/page/uniapp/weixin/06-黑马优购-登录支付.html">
          黑马优购-登录支付
        </a></span></p></div> <div class="comments-wrapper"><!----></div></main></div> <!----></div> <ul class="sub-sidebar sub-sidebar-wrapper" style="width:12rem;" data-v-b57cc07c data-v-7dd95ae2><li class="level-2" data-v-b57cc07c><a href="/vuepress-starter/page/uniapp/weixin/05-%E9%BB%91%E9%A9%AC%E4%BC%98%E8%B4%AD-%E8%B4%AD%E7%89%A9%E8%BD%A6.html#今日重点" class="sidebar-link reco-side-今日重点" data-v-b57cc07c>今日重点</a></li><li class="level-2" data-v-b57cc07c><a href="/vuepress-starter/page/uniapp/weixin/05-%E9%BB%91%E9%A9%AC%E4%BC%98%E8%B4%AD-%E8%B4%AD%E7%89%A9%E8%BD%A6.html#_01-商品详情-链接" class="sidebar-link reco-side-_01-商品详情-链接" data-v-b57cc07c>01-商品详情-链接</a></li><li class="level-2" data-v-b57cc07c><a href="/vuepress-starter/page/uniapp/weixin/05-%E9%BB%91%E9%A9%AC%E4%BC%98%E8%B4%AD-%E8%B4%AD%E7%89%A9%E8%BD%A6.html#_02-商品详情-获取数据渲染" class="sidebar-link reco-side-_02-商品详情-获取数据渲染" data-v-b57cc07c>02-商品详情-获取数据渲染</a></li><li class="level-2" data-v-b57cc07c><a href="/vuepress-starter/page/uniapp/weixin/05-%E9%BB%91%E9%A9%AC%E4%BC%98%E8%B4%AD-%E8%B4%AD%E7%89%A9%E8%BD%A6.html#_03-商品详情-客服" class="sidebar-link reco-side-_03-商品详情-客服" data-v-b57cc07c>03-商品详情-客服</a></li><li class="level-2" data-v-b57cc07c><a href="/vuepress-starter/page/uniapp/weixin/05-%E9%BB%91%E9%A9%AC%E4%BC%98%E8%B4%AD-%E8%B4%AD%E7%89%A9%E8%BD%A6.html#_04-购物车-业务分析" class="sidebar-link reco-side-_04-购物车-业务分析" data-v-b57cc07c>04-购物车-业务分析</a></li><li class="level-2" data-v-b57cc07c><a href="/vuepress-starter/page/uniapp/weixin/05-%E9%BB%91%E9%A9%AC%E4%BC%98%E8%B4%AD-%E8%B4%AD%E7%89%A9%E8%BD%A6.html#_05-购物车-添加" class="sidebar-link reco-side-_05-购物车-添加" data-v-b57cc07c>05-购物车-添加</a></li><li class="level-2" data-v-b57cc07c><a href="/vuepress-starter/page/uniapp/weixin/05-%E9%BB%91%E9%A9%AC%E4%BC%98%E8%B4%AD-%E8%B4%AD%E7%89%A9%E8%BD%A6.html#_06-购物车-列表渲染" class="sidebar-link reco-side-_06-购物车-列表渲染" data-v-b57cc07c>06-购物车-列表渲染</a></li><li class="level-2" data-v-b57cc07c><a href="/vuepress-starter/page/uniapp/weixin/05-%E9%BB%91%E9%A9%AC%E4%BC%98%E8%B4%AD-%E8%B4%AD%E7%89%A9%E8%BD%A6.html#_07-购物车-修改数量" class="sidebar-link reco-side-_07-购物车-修改数量" data-v-b57cc07c>07-购物车-修改数量</a></li><li class="level-2" data-v-b57cc07c><a href="/vuepress-starter/page/uniapp/weixin/05-%E9%BB%91%E9%A9%AC%E4%BC%98%E8%B4%AD-%E8%B4%AD%E7%89%A9%E8%BD%A6.html#_08-购物车-选中状态" class="sidebar-link reco-side-_08-购物车-选中状态" data-v-b57cc07c>08-购物车-选中状态</a></li><li class="level-2" data-v-b57cc07c><a href="/vuepress-starter/page/uniapp/weixin/05-%E9%BB%91%E9%A9%AC%E4%BC%98%E8%B4%AD-%E8%B4%AD%E7%89%A9%E8%BD%A6.html#_09-购物车-计算总金额" class="sidebar-link reco-side-_09-购物车-计算总金额" data-v-b57cc07c>09-购物车-计算总金额</a></li><li class="level-2" data-v-b57cc07c><a href="/vuepress-starter/page/uniapp/weixin/05-%E9%BB%91%E9%A9%AC%E4%BC%98%E8%B4%AD-%E8%B4%AD%E7%89%A9%E8%BD%A6.html#_10-购物车-收货地址" class="sidebar-link reco-side-_10-购物车-收货地址" data-v-b57cc07c>10-购物车-收货地址</a></li><li class="level-2" data-v-b57cc07c><a href="/vuepress-starter/page/uniapp/weixin/05-%E9%BB%91%E9%A9%AC%E4%BC%98%E8%B4%AD-%E8%B4%AD%E7%89%A9%E8%BD%A6.html#_11-我的-个人中心" class="sidebar-link reco-side-_11-我的-个人中心" data-v-b57cc07c>11-我的-个人中心</a></li><li class="level-2" data-v-b57cc07c><a href="/vuepress-starter/page/uniapp/weixin/05-%E9%BB%91%E9%A9%AC%E4%BC%98%E8%B4%AD-%E8%B4%AD%E7%89%A9%E8%BD%A6.html#_12-我的-个人中心-鉴权" class="sidebar-link reco-side-_12-我的-个人中心-鉴权" data-v-b57cc07c>12-我的-个人中心-鉴权</a></li><li class="level-2" data-v-b57cc07c><a href="/vuepress-starter/page/uniapp/weixin/05-%E9%BB%91%E9%A9%AC%E4%BC%98%E8%B4%AD-%E8%B4%AD%E7%89%A9%E8%BD%A6.html#今日总结" class="sidebar-link reco-side-今日总结" data-v-b57cc07c>今日总结</a></li></ul></div></div></div><div class="global-ui"><div class="back-to-ceiling" style="right:1rem;bottom:6rem;width:2.5rem;height:2.5rem;border-radius:.25rem;line-height:2.5rem;display:none;" data-v-c6073ba8 data-v-c6073ba8><svg t="1574745035067" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="5404" class="icon" data-v-c6073ba8><path d="M526.60727968 10.90185116a27.675 27.675 0 0 0-29.21455937 0c-131.36607665 82.28402758-218.69155461 228.01873535-218.69155402 394.07834331a462.20625001 462.20625001 0 0 0 5.36959153 69.94390903c1.00431239 6.55289093-0.34802892 13.13561351-3.76865779 18.80351572-32.63518765 54.11355614-51.75690182 118.55860487-51.7569018 187.94566865a371.06718723 371.06718723 0 0 0 11.50484808 91.98906777c6.53300375 25.50556257 41.68394495 28.14064038 52.69160883 4.22606766 17.37162448-37.73630017 42.14135425-72.50938081 72.80769204-103.21549295 2.18761121 3.04276886 4.15646224 6.24463696 6.40373557 9.22774369a1871.4375 1871.4375 0 0 0 140.04691725 5.34970492 1866.36093723 1866.36093723 0 0 0 140.04691723-5.34970492c2.24727335-2.98310674 4.21612437-6.18497483 6.3937923-9.2178004 30.66633723 30.70611158 55.4360664 65.4791928 72.80769147 103.21549355 11.00766384 23.91457269 46.15860503 21.27949489 52.69160879-4.22606768a371.15156223 371.15156223 0 0 0 11.514792-91.99901164c0-69.36717486-19.13165746-133.82216804-51.75690182-187.92578088-3.42062944-5.66790279-4.76302748-12.26056868-3.76865837-18.80351632a462.20625001 462.20625001 0 0 0 5.36959269-69.943909c-0.00994388-166.08943902-87.32547796-311.81420293-218.6915546-394.09823051zM605.93803103 357.87693858a93.93749974 93.93749974 0 1 1-187.89594924 6.1e-7 93.93749974 93.93749974 0 0 1 187.89594924-6.1e-7z" p-id="5405" data-v-c6073ba8></path><path d="M429.50777625 765.63860547C429.50777625 803.39355007 466.44236686 1000.39046097 512.00932183 1000.39046097c45.56695499 0 82.4922232-197.00623328 82.5015456-234.7518555 0-37.75494459-36.9345906-68.35043303-82.4922232-68.34111062-45.57627738-0.00932239-82.52019037 30.59548842-82.51086798 68.34111062z" p-id="5406" data-v-c6073ba8></path></svg></div><!----><div class="kanbanniang" data-v-5775ee02><div class="banniang-container" style="display:;" data-v-5775ee02><div class="messageBox" style="right:68px;bottom:190px;display:none;" data-v-5775ee02>
      欢迎来到 TS文档
    </div> <div class="operation" style="right:90px;bottom:40px;display:;" data-v-5775ee02><i class="kbnfont kbn-ban-home ban-home" data-v-5775ee02></i> <i class="kbnfont kbn-ban-message message" data-v-5775ee02></i> <i class="kbnfont kbn-ban-close close" data-v-5775ee02></i> <a target="_blank" href="https://vuepress-theme-reco.recoluan.com/views/plugins/kanbanniang.html" data-v-5775ee02><i class="kbnfont kbn-ban-info info" data-v-5775ee02></i></a> <i class="kbnfont kbn-ban-theme skin" style="display:;" data-v-5775ee02></i></div> <canvas id="banniang" width="150" height="220" class="live2d" style="right:90px;bottom:-20px;opacity:0.9;" data-v-5775ee02></canvas></div> <div class="showBanNiang" style="display:none;" data-v-5775ee02>
    看板娘
  </div></div></div></div>
    <script src="/vuepress-starter/assets/js/app.b20a56ac.js" defer></script><script src="/vuepress-starter/assets/js/9.d0fd5d46.js" defer></script><script src="/vuepress-starter/assets/js/1.a4aa22ef.js" defer></script><script src="/vuepress-starter/assets/js/42.14961272.js" defer></script>
  </body>
</html>
