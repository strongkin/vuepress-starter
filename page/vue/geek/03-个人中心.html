<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>三、个人中心 | TS文档</title>
    <meta name="generator" content="VuePress 1.9.7">
    
    <meta name="description" content="TS文档翻译">
    
    <link rel="preload" href="/vuepress-starter/assets/css/0.styles.d7e25954.css" as="style"><link rel="preload" href="/vuepress-starter/assets/js/app.4a327c45.js" as="script"><link rel="preload" href="/vuepress-starter/assets/js/6.a1faa4b0.js" as="script"><link rel="preload" href="/vuepress-starter/assets/js/24.bddde9d0.js" as="script"><link rel="prefetch" href="/vuepress-starter/assets/js/10.f5903720.js"><link rel="prefetch" href="/vuepress-starter/assets/js/11.b77b02e4.js"><link rel="prefetch" href="/vuepress-starter/assets/js/12.f378223c.js"><link rel="prefetch" href="/vuepress-starter/assets/js/13.3d245960.js"><link rel="prefetch" href="/vuepress-starter/assets/js/14.49a892d6.js"><link rel="prefetch" href="/vuepress-starter/assets/js/15.0b1b0383.js"><link rel="prefetch" href="/vuepress-starter/assets/js/16.d06a030d.js"><link rel="prefetch" href="/vuepress-starter/assets/js/17.84d27388.js"><link rel="prefetch" href="/vuepress-starter/assets/js/18.c13afe97.js"><link rel="prefetch" href="/vuepress-starter/assets/js/19.b289bc96.js"><link rel="prefetch" href="/vuepress-starter/assets/js/2.42218236.js"><link rel="prefetch" href="/vuepress-starter/assets/js/20.b402960b.js"><link rel="prefetch" href="/vuepress-starter/assets/js/21.6b0d51cf.js"><link rel="prefetch" href="/vuepress-starter/assets/js/22.e5e99c72.js"><link rel="prefetch" href="/vuepress-starter/assets/js/23.0dacdabb.js"><link rel="prefetch" href="/vuepress-starter/assets/js/25.35825baf.js"><link rel="prefetch" href="/vuepress-starter/assets/js/26.4fd03b2a.js"><link rel="prefetch" href="/vuepress-starter/assets/js/27.1235ad8a.js"><link rel="prefetch" href="/vuepress-starter/assets/js/28.4dbc545a.js"><link rel="prefetch" href="/vuepress-starter/assets/js/29.33bb3d63.js"><link rel="prefetch" href="/vuepress-starter/assets/js/3.4c24884e.js"><link rel="prefetch" href="/vuepress-starter/assets/js/30.1957df88.js"><link rel="prefetch" href="/vuepress-starter/assets/js/31.c2ee7a07.js"><link rel="prefetch" href="/vuepress-starter/assets/js/32.2f7bda2b.js"><link rel="prefetch" href="/vuepress-starter/assets/js/33.bfec5ef5.js"><link rel="prefetch" href="/vuepress-starter/assets/js/34.9445951a.js"><link rel="prefetch" href="/vuepress-starter/assets/js/35.8eb2f8f7.js"><link rel="prefetch" href="/vuepress-starter/assets/js/36.7caa0b1b.js"><link rel="prefetch" href="/vuepress-starter/assets/js/37.9b5c3210.js"><link rel="prefetch" href="/vuepress-starter/assets/js/38.ca98925e.js"><link rel="prefetch" href="/vuepress-starter/assets/js/39.deb93f4a.js"><link rel="prefetch" href="/vuepress-starter/assets/js/4.60138221.js"><link rel="prefetch" href="/vuepress-starter/assets/js/40.e17db95e.js"><link rel="prefetch" href="/vuepress-starter/assets/js/41.5270091e.js"><link rel="prefetch" href="/vuepress-starter/assets/js/42.0b10cfe3.js"><link rel="prefetch" href="/vuepress-starter/assets/js/43.d7cd6c6a.js"><link rel="prefetch" href="/vuepress-starter/assets/js/44.1cf33892.js"><link rel="prefetch" href="/vuepress-starter/assets/js/45.5468f19b.js"><link rel="prefetch" href="/vuepress-starter/assets/js/46.5e6a10cd.js"><link rel="prefetch" href="/vuepress-starter/assets/js/47.4d55d23d.js"><link rel="prefetch" href="/vuepress-starter/assets/js/48.2bdfdd79.js"><link rel="prefetch" href="/vuepress-starter/assets/js/49.f488f56b.js"><link rel="prefetch" href="/vuepress-starter/assets/js/5.5662c276.js"><link rel="prefetch" href="/vuepress-starter/assets/js/50.e40e1424.js"><link rel="prefetch" href="/vuepress-starter/assets/js/51.b76b2cac.js"><link rel="prefetch" href="/vuepress-starter/assets/js/52.6c708f3e.js"><link rel="prefetch" href="/vuepress-starter/assets/js/53.b205ce08.js"><link rel="prefetch" href="/vuepress-starter/assets/js/54.39782ae0.js"><link rel="prefetch" href="/vuepress-starter/assets/js/55.d9d2f774.js"><link rel="prefetch" href="/vuepress-starter/assets/js/56.86f8285d.js"><link rel="prefetch" href="/vuepress-starter/assets/js/57.f81bae39.js"><link rel="prefetch" href="/vuepress-starter/assets/js/58.ebd3557c.js"><link rel="prefetch" href="/vuepress-starter/assets/js/59.135dc4f6.js"><link rel="prefetch" href="/vuepress-starter/assets/js/60.8157b299.js"><link rel="prefetch" href="/vuepress-starter/assets/js/61.fc50a77d.js"><link rel="prefetch" href="/vuepress-starter/assets/js/62.6f754d98.js"><link rel="prefetch" href="/vuepress-starter/assets/js/63.ccb14b40.js"><link rel="prefetch" href="/vuepress-starter/assets/js/64.dd82825c.js"><link rel="prefetch" href="/vuepress-starter/assets/js/65.b959b86f.js"><link rel="prefetch" href="/vuepress-starter/assets/js/66.b0b4cba2.js"><link rel="prefetch" href="/vuepress-starter/assets/js/67.cde62c48.js"><link rel="prefetch" href="/vuepress-starter/assets/js/68.b2df89ba.js"><link rel="prefetch" href="/vuepress-starter/assets/js/69.d2606ae8.js"><link rel="prefetch" href="/vuepress-starter/assets/js/7.508dbc0c.js"><link rel="prefetch" href="/vuepress-starter/assets/js/70.bcf5740e.js"><link rel="prefetch" href="/vuepress-starter/assets/js/71.ae4b4afc.js"><link rel="prefetch" href="/vuepress-starter/assets/js/72.b4b6aea8.js"><link rel="prefetch" href="/vuepress-starter/assets/js/73.557dc0c8.js"><link rel="prefetch" href="/vuepress-starter/assets/js/74.8fbeaefd.js"><link rel="prefetch" href="/vuepress-starter/assets/js/75.c8657518.js"><link rel="prefetch" href="/vuepress-starter/assets/js/76.02af007a.js"><link rel="prefetch" href="/vuepress-starter/assets/js/77.5237e8df.js"><link rel="prefetch" href="/vuepress-starter/assets/js/78.c4a8572f.js"><link rel="prefetch" href="/vuepress-starter/assets/js/79.5090dfdc.js"><link rel="prefetch" href="/vuepress-starter/assets/js/8.fe4324db.js"><link rel="prefetch" href="/vuepress-starter/assets/js/80.356a2507.js"><link rel="prefetch" href="/vuepress-starter/assets/js/9.dbd5165e.js">
    <link rel="stylesheet" href="/vuepress-starter/assets/css/0.styles.d7e25954.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/vuepress-starter/" class="home-link router-link-active"><!----> <span class="site-name">TS文档</span></a> <div class="links"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"><div class="nav-item"><a href="/vuepress-starter/" class="nav-link">
  首页
</a></div><div class="nav-item"><a href="/vuepress-starter/page/js/" class="nav-link">
  面试集合
</a></div><div class="nav-item"><a href="/vuepress-starter/handbook/ConditionalTypes.html" class="nav-link">
  vue组件
</a></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label=" JavaScript 博客" class="dropdown-title"><span class="title"> JavaScript 博客</span> <span class="arrow down"></span></button> <button type="button" aria-label=" JavaScript 博客" class="mobile-dropdown-title"><span class="title"> JavaScript 博客</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="https://github.com/strongkin" target="_blank" rel="noopener noreferrer" class="nav-link external">
  Github
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li><li class="dropdown-item"><!----> <a href="https://juejin.cn" target="_blank" rel="noopener noreferrer" class="nav-link external">
  掘金
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li></ul></div></div> <!----></nav></div></header> <div class="sidebar-mask"></div> <aside class="sidebar"><nav class="nav-links"><div class="nav-item"><a href="/vuepress-starter/" class="nav-link">
  首页
</a></div><div class="nav-item"><a href="/vuepress-starter/page/js/" class="nav-link">
  面试集合
</a></div><div class="nav-item"><a href="/vuepress-starter/handbook/ConditionalTypes.html" class="nav-link">
  vue组件
</a></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label=" JavaScript 博客" class="dropdown-title"><span class="title"> JavaScript 博客</span> <span class="arrow down"></span></button> <button type="button" aria-label=" JavaScript 博客" class="mobile-dropdown-title"><span class="title"> JavaScript 博客</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="https://github.com/strongkin" target="_blank" rel="noopener noreferrer" class="nav-link external">
  Github
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li><li class="dropdown-item"><!----> <a href="https://juejin.cn" target="_blank" rel="noopener noreferrer" class="nav-link external">
  掘金
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li></ul></div></div> <!----></nav>  <ul class="sidebar-links"><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>js基础学习</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>js高级学习</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>react学习</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>ts学习</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>uniapp知识</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>前端面试题</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>vue电商后台项目</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading open"><span>移动h5</span> <span class="arrow down"></span></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/vuepress-starter/page/vue/geek/ProjectInitialization.html" class="sidebar-link">项目初始化</a></li><li><a href="/vuepress-starter/page/vue/geek/LoginRegister.html" class="sidebar-link">登录注册</a></li><li><a href="/vuepress-starter/page/vue/geek/03-个人中心.html" class="active sidebar-link">个人中心</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/vuepress-starter/page/vue/geek/03-个人中心.html#tabbar-处理" class="sidebar-link">TabBar 处理</a></li><li class="sidebar-sub-header"><a href="/vuepress-starter/page/vue/geek/03-个人中心.html#页面布局" class="sidebar-link">页面布局</a></li><li class="sidebar-sub-header"><a href="/vuepress-starter/page/vue/geek/03-个人中心.html#处理已登录和未登录的页面展示" class="sidebar-link">处理已登录和未登录的页面展示</a></li><li class="sidebar-sub-header"><a href="/vuepress-starter/page/vue/geek/03-个人中心.html#用户退出" class="sidebar-link">用户退出</a></li><li class="sidebar-sub-header"><a href="/vuepress-starter/page/vue/geek/03-个人中心.html#展示登录用户信息" class="sidebar-link">展示登录用户信息</a></li><li class="sidebar-sub-header"><a href="/vuepress-starter/page/vue/geek/03-个人中心.html#优化设置-token" class="sidebar-link">优化设置 Token</a></li></ul></li><li><a href="/vuepress-starter/page/vue/geek/04-首页-文章列表.html" class="sidebar-link">首页-文章列表</a></li><li><a href="/vuepress-starter/page/vue/geek/05-首页-频道编辑.html" class="sidebar-link">首页-频道编辑</a></li><li><a href="/vuepress-starter/page/vue/geek/06-文章搜索.html" class="sidebar-link">文章搜索</a></li><li><a href="/vuepress-starter/page/vue/geek/07-文章详情.html" class="sidebar-link">文章详情</a></li><li><a href="/vuepress-starter/page/vue/geek/08-文章评论.html" class="sidebar-link">文章评论</a></li><li><a href="/vuepress-starter/page/vue/geek/09-用户页面.html" class="sidebar-link">用户页面</a></li><li><a href="/vuepress-starter/page/vue/geek/10-用户关注&amp;粉丝.html" class="sidebar-link">用户关注&amp;粉丝</a></li><li><a href="/vuepress-starter/page/vue/geek/11-我的收藏-历史.html" class="sidebar-link">我的收藏-历史</a></li><li><a href="/vuepress-starter/page/vue/geek/12-编辑用户资料.html" class="sidebar-link">编辑用户资料</a></li></ul></section></li></ul> </aside> <main class="page"> <div class="theme-default-content content__default"><h1 id="三、个人中心"><a href="#三、个人中心" class="header-anchor">#</a> 三、个人中心</h1> <img src="/vuepress-starter/assets/img/1566431827166.748f63b6.png" width="250"> <h2 id="tabbar-处理"><a href="#tabbar-处理" class="header-anchor">#</a> TabBar 处理</h2> <p>通过分析页面，我们可以看到，首页、问答、视频、我的 都使用的是同一个底部标签栏，我们没必要在每个页面中都写一个，所以为了通用方便，我们可以使用 Vue Router 的嵌套路由来处理。</p> <ul><li>父路由：一个空页面，包含一个 tabbar，中间留子路由出口</li> <li>子路由
<ul><li>首页</li> <li>问答</li> <li>视频</li> <li>我的</li></ul></li></ul> <p>一、创建 tabbar 组件并配置路由</p> <img src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAdYAAANCCAYAAADbcu0mAAAdgUlEQVR4nO3df2zdd73f8bedWKGhNxkjqnJaGqredou6ZmBHaphu0SWIW0TCrl0JGATd0o0mjm+nMS6MXgRYli/VpUUFcS93tpNyBe0dvSqIxrtKJmgvd3C5EkGrfVkLFHEpEKDH68pYcsGoc2LvDzuxkzj0R16J49PH478cH3/zSU/PeX4/n++P0/ajH/14Zt0llxQAcPbal3oAANBK2qtmlnoMANAyzFgBIEhYASBIWAEgSFgBIEhYASBIWAEgqH1mxuU2AJBixgoAQcIKAEHCCgBBwgoAQcIKAEHCCgBBwgoAQcIKAEHCCgBBwgoAQcIKAEHCCgBBwgoAQcIKAEHCCgBB7b6OFQByzFgBIEhYASBIWAEgSFgBIEhYASBIWAEgSFgBIEhYASBIWAEgSFgBIEhYASBIWAEgSFgBIEhYASBIWAEgSFgBIEhYASBIWAEgSFgBIEhYASBIWAEgSFgBIEhYASBIWAEgSFgBIEhYASBIWAEgSFgBIEhYASBIWAEgSFgBIEhYASBIWAEgSFgBIEhYASBIWAEgSFgBIEhYASBIWAEgSFgBIEhYASBIWAEgSFgBIEhYASBIWAEgSFgBIEhYASBIWAEgSFgBIEhYASBIWAEgSFgBIEhYASBIWAEgSFgBIEhYASBIWAEgSFgBIEhYASBIWAEgSFgBIEhYASBIWAEgSFgBIEhYASBIWAEgSFgBIEhYASBIWAEgSFgBIEhYASBIWAEgSFgBIEhYASBIWAEgSFgBIEhYASBIWAEgSFgBIEhYASBIWAEgSFgBIEhYASBIWAEgSFgBIEhYASBIWAEgSFgBIEhYASBIWAEgSFgBIEhYASBIWAEgSFgBIEhYASBIWAEgSFgBIEhYASBIWAEgSFgBIEhYASBIWAEgSFgBIEhYASBIWAEgSFgBIEhYASBIWAEgSFgBIEhYASBIWAEgSFgBIEhYASBIWAEgSFgBIEhYASBIWAEgSFgBIEhYASBIWAEgSFgBIEhYASBIWAEgSFgBIEhYASBIWAEgSFgBIEhYASBIWAEgSFgBIEhYASBIWAEgSFgBIEhYASBIWAEgSFgBIEhYASBIWAEgSFgBIEhYASBIWAEgSFgBIEhYASBIWAEgSFgBIEhYASCova1tqYcAAK3DjBUAgoQVAIKEFQCChBUAgoQVAIKEFQCChBUAgoQVAIKEFQCChBUAgoQVAIKEFQCChBUAgoQVAIKEFQCChBUAgoQVAIKEFQCChBUAgoQVAIKEFQCChBUAgoQVAIKEFQCChBUAgoQVAIKEFQCChBUAgoQVAIKEFQCC2mdmlnoIANA6zFgBIEhYASBIWAEgSFgBIEhYASBIWAEgSFgBIEhYASBIWAEgSFgBIEhYASBIWAEgSFgBIEhYASBIWAEgSFgBIEhYASBIWAEgSFgBIEhYASBIWAEgSFgBIEhYASBIWAEgSFgBIEhYASBIWAEgSFgBIEhYASBIWAEgSFgBIEhYASBIWAEgSFgBIEhYASBIWAEgSFgBIEhYASBIWAEgSFgBIEhYASBIWAEgSFgBIEhYASBIWAEgSFgBIEhYASBIWAEgSFgBIEhYASBIWAEgSFgBIEhYASBIWAEgSFgBIEhYASBIWAEgSFgBIEhYASBIWAEgSFgBIEhYASBIWAEgSFgBIEhYASBIWAEgSFgBIEhYASBIWAEgSFgBIEhYASBIWAEgSFgBIEhYASBIWAEgSFgBIEhYASBIWAEgSFgBIEhYASBIWAEgSFgBIEhYASBIWAEgSFgBIEhYASBIWAEgSFgBIEhYASBIWAEgSFgBIEhYASBIWAEgSFgBIEhYASCova1tqYcAAK3DjBUAgoQVAIKEFQCChBUAgoQVAIKEFQCChBUAgoQVAIKEFQCChBUAgoQVAIKEFQCChBUAgoQVAIKEFQCChBUAgoQVAIKEFQCChBUAgoQVAIKEFQCChBUAgoQVAIKEFQCChBUAgoQVAIKEFQCChBUAgoQVAIKEFQCChBUAgtpnZpZ6CADQOsxYASBIWAEgSFgBIEhYASBIWAEgSFgBIEhYASBIWAEgSFgBIEhYASBIWAEgSFgBIEhYASBIWAEgSFgBIEhYASBIWAEgSFgBIEhYASBIWAEgSFgBIEhYASBIWAEgSFgBIEhYASBIWAEgSFgBIEhYASBIWAEgSFgBIEhYASBIWAEgSFgBIEhYASBIWAEgSFgBIEhYASBIWAEgSFgBIEhYASBIWAEgSFgBIEhYASBIWAEgSFgBIEhYASBIWAEgSFgBIEhYASBIWAEgSFgBIEhYASBIWAEgSFgBIEhYASBIWAEgSFgBIEhYASBIWAEgSFgBIEhYASBIWAEgSFgBIEhYASBIWAEgSFgBIEhYASBIWAEgSFgBIEhYASBIWAEgSFgBIEhYASBIWAEgSFgBIEhYASBIWAEgSFgBIEhYASBIWAEgSFgBIEhYASBIWAEgSFgBIEhYASBIWAEgSFgBIEhYASBIWAEgSFgBIEhYASBIWAEgSFgBIEhYASCova1tqYcAAK3DjBUAgoQVAIKEFQCChBUAgoQVAIKEFQCChBUAgoQVAIKEFQCChBUAgoQVAIKEFQCChBUAgoQVAIKEFQCChBUAgoQVAIKEFQCChBUAgoQVAIKEFQCChBUAgoQVAIKEFQCChBUAgoQVAIKEFQCChBUAgoQVAIKEFQCC2mdmlnoIANA6zFgBIEhYASBIWAEgSFgBIEhYASBIWAEgSFgBIEhYASBIWAEgSFgBIEhYASBIWAEgSFgBIEhYASBIWAEgSFgBIEhYASBIWAEgSFgBIEhYASBIWAEgSFgBIEhYASBIWAEgSFgBIEhYASBIWAEgSFgBIEhYASBIWAEgSFgBIEhYASBIWAEgSFgBIEhYASBIWAEgSFgBIEhYASBIWAEgSFgBIEhYASBIWAEgSFgBIEhYASBIWAEgSFgBIEhYASBIWAEgSFgBIEhYASBIWAEgSFgBIEhYASBIWAEgSFgBIEhYASBIWAEgSFgBIEhYASBIWAEgSFgBIEhYASBIWAEgSFgBIEhYASBIWAEgSFgBIEhYASBIWAEgSFgBIEhYASBIWAEgSFgBIEhYASBIWAEgSFgBIEhYASBIWAEgSFgBIEhYASBIWAEgSFgBIEhYASBIWAEgSFgBIEhYASBIWAEgSFgBIEhYASBIWAEgSFgBIEhYASBIWAEgSFgBIEhYASCova1tqYcAAK3DjBUAgoQVAIKEFQCChBUAgoQVAIKEFQCChBUAgoQVAIKEFQCChBUAgoQVAIKEFQCChBUAgoQVAIKEFQCChBUAgoQVAIKEFQCChBUAgoQVAIKEFQCChBUAgoQVAIKEFQCChBUAgoQVAIKEFQCChBUAgoQVAIKEFQCChBUAgtpnZpZ6CADQOsxYASBIWAEgSFgBIEhYASBIWAEgSFgBIEhYASBIWAEgSFgBIEhYASBIWAEgSFgBIEhYASBIWAEgSFgBIEhYASBIWAEgSFgBIEhYASBIWAEgSFgBIEhYASBIWAEgSFgBIEhYASBIWAEgSFgBIEhYASBIWAEgSFgBIEhYASBIWAEgSFgBIEhYASBIWAEgSFgBIEhYASBIWAEgSFgBIEhYASBIWAEgSFgBIEhYASBIWAEgSFgBIEhYASBIWAEgSFgBIEhYASBIWAEgSFgBIEhYASBIWAEgSFgBIEhYASBIWAEgSFgBIEhYASBIWAEgSFgBIEhYASBIWAEgSFgBIEhYASBIWAEgSFgBIEhYASBIWAEgSFgBIEhYASBIWAEgSFgBIEhYASBIWAEgSFgBIEhYASBIWAEgSFgBIEhYASBIWAEgSFgBIEhYASBIWAEgSFgBIEhYASBIWAEgSFgBIEhYASBIWAEgSFgBIEhYASBIWAEgSFgBIEhYASBIWAEgSFgBIEhYASBIWAEgSFgBIEhYASBIWAEgSFgBIEhYASBIWAEgSFgBIEhYASBIWAEgSFgBIEhYASBIWAEgSFgBIEhYASBIWAEgSFgBIEhYASBIWAEgSFgBIEhYASBIWAEgSFgBIEhYASBIWAEgSFgBIEhYASBIWAEgSFgBIEhYASBIWAEgSFgBIEhYASBIWAEgSFgBIEhYASBIWAEgSFgBIEhYASBIWAEgSFgBIEhYASBIWAEgSFgBIEhYASBIWAEgSFgBIEhYASBIWAEgSFgBIEhYASBIWAEgSFgBIEhYASBIWAEgSFgBIEhYASBIWAEgSFgBIEhYASBIWAEgSFgBIEhYASBIWAEgSFgBIEhYASBIWAEgSFgBIEhYASBIWAEgSFgBIEhYASBIWAEgSFgBIEhYASBIWAEgSFgBIEhYASBIWAEgSFgBIEhYASBIWAEgSFgBIEhYASBIWAEgSFgBIEhYASBIWAEgaGVV1bFj0zU9Pb3UYwGAZW9lVdVvvPhFSz0OAGgJloIBIEhYASBIWAEgSFgBIEhYASBIWAEgSFgBIEhYASBo5VIPAIDWNfXzx+vgl/+mxh57rA7/xsba2Lm1bnjVlbW2Y6lHdu60/eAHP5q54ooNSz2Oc++Xx+q+z03XA9VWt795ZV394qUeEM/oyI/rkceaNZnY1qpGbdx0ea21RnMBmKxD33y0mk+fxSZWNWrTKy6v1bExcS40v/zx+shfPlZTL72yNl29rjqefqq+/+3H66mOjbXjPe+urZct9QjPjRfGjPWpY3XHf5mu+1a31b+tmfrtu4/W/W9fUdeva1vqkXFGT9X+T3y49v98Ta0O7NlO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" alt="image-20200109153050432" width="250"> <p>这里主要使用到的 Vant 组件：</p> <ul><li><a href="https://youzan.github.io/vant/#/zh-CN/tabbar" target="_blank" rel="noopener noreferrer">Tabbar 标签栏<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li></ul> <p>1、创建 <code>src/views/layout/index.vue</code></p> <div class="language-html line-numbers-mode"><pre class="language-html"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>template</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>layout-container<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
    <span class="token comment">&lt;!-- 子路由出口 --&gt;</span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>router-view</span> <span class="token punctuation">/&gt;</span></span>
    <span class="token comment">&lt;!-- /子路由出口 --&gt;</span>

    <span class="token comment">&lt;!-- 标签导航栏 --&gt;</span>
    <span class="token comment">&lt;!--
      route: 开启路由模式
     --&gt;</span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>van-tabbar</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>layout-tabbar<span class="token punctuation">&quot;</span></span> <span class="token attr-name">route</span><span class="token punctuation">&gt;</span></span>
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>van-tabbar-item</span> <span class="token attr-name">to</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>/<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>i</span> <span class="token attr-name">slot</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>icon<span class="token punctuation">&quot;</span></span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>toutiao toutiao-shouye<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>i</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>span</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>text<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>首页<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>span</span><span class="token punctuation">&gt;</span></span>
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>van-tabbar-item</span><span class="token punctuation">&gt;</span></span>
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>van-tabbar-item</span> <span class="token attr-name">to</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>/qa<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>i</span> <span class="token attr-name">slot</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>icon<span class="token punctuation">&quot;</span></span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>toutiao toutiao-wenda<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>i</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>span</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>text<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>问答<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>span</span><span class="token punctuation">&gt;</span></span>
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>van-tabbar-item</span><span class="token punctuation">&gt;</span></span>
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>van-tabbar-item</span> <span class="token attr-name">to</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>/video<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>i</span> <span class="token attr-name">slot</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>icon<span class="token punctuation">&quot;</span></span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>toutiao toutiao-shipin<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>i</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>span</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>text<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>视频<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>span</span><span class="token punctuation">&gt;</span></span>
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>van-tabbar-item</span><span class="token punctuation">&gt;</span></span>
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>van-tabbar-item</span> <span class="token attr-name">to</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>/my<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>i</span> <span class="token attr-name">slot</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>icon<span class="token punctuation">&quot;</span></span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>toutiao toutiao-wode<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>i</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>span</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>text<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>我的<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>span</span><span class="token punctuation">&gt;</span></span>
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>van-tabbar-item</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>van-tabbar</span><span class="token punctuation">&gt;</span></span>
    <span class="token comment">&lt;!-- /标签导航栏 --&gt;</span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>template</span><span class="token punctuation">&gt;</span></span>

<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span><span class="token punctuation">&gt;</span></span><span class="token script"><span class="token language-javascript">
<span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token punctuation">{</span>
  <span class="token literal-property property">name</span><span class="token operator">:</span> <span class="token string">'LayoutIndex'</span><span class="token punctuation">,</span>
  <span class="token literal-property property">components</span><span class="token operator">:</span> <span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token literal-property property">props</span><span class="token operator">:</span> <span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token function">data</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> <span class="token punctuation">{</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token literal-property property">computed</span><span class="token operator">:</span> <span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token literal-property property">watch</span><span class="token operator">:</span> <span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token function">created</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token function">mounted</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token literal-property property">methods</span><span class="token operator">:</span> <span class="token punctuation">{</span><span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">&gt;</span></span>

<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>style</span> <span class="token attr-name">scoped</span> <span class="token attr-name">lang</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>less<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token style"><span class="token language-css">
<span class="token selector">.layout-container</span> <span class="token punctuation">{</span>
  <span class="token selector">.layout-tabbar</span> <span class="token punctuation">{</span>
    <span class="token selector">i.toutiao</span> <span class="token punctuation">{</span>
      <span class="token property">font-size</span><span class="token punctuation">:</span> 40px<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    <span class="token selector">span.text</span> <span class="token punctuation">{</span>
      <span class="token property">font-size</span><span class="token punctuation">:</span> 20px<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>style</span><span class="token punctuation">&gt;</span></span>

</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br><span class="line-number">31</span><br><span class="line-number">32</span><br><span class="line-number">33</span><br><span class="line-number">34</span><br><span class="line-number">35</span><br><span class="line-number">36</span><br><span class="line-number">37</span><br><span class="line-number">38</span><br><span class="line-number">39</span><br><span class="line-number">40</span><br><span class="line-number">41</span><br><span class="line-number">42</span><br><span class="line-number">43</span><br><span class="line-number">44</span><br><span class="line-number">45</span><br><span class="line-number">46</span><br><span class="line-number">47</span><br><span class="line-number">48</span><br><span class="line-number">49</span><br><span class="line-number">50</span><br><span class="line-number">51</span><br><span class="line-number">52</span><br><span class="line-number">53</span><br><span class="line-number">54</span><br><span class="line-number">55</span><br><span class="line-number">56</span><br><span class="line-number">57</span><br><span class="line-number">58</span><br><span class="line-number">59</span><br><span class="line-number">60</span><br><span class="line-number">61</span><br><span class="line-number">62</span><br></div></div><p>2、然后将 layout 组件配置到一级路由</p> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token punctuation">{</span>
  <span class="token literal-property property">path</span><span class="token operator">:</span> <span class="token string">'/'</span><span class="token punctuation">,</span>
  <span class="token function-variable function">component</span><span class="token operator">:</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token keyword">import</span><span class="token punctuation">(</span><span class="token string">'@/views/layout'</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br></div></div><p>访问 <code>/</code> 测试。</p> <p>二、分别创建首页、问答、视频、我的页面组件</p> <p>首页组件：</p> <div class="language-html line-numbers-mode"><pre class="language-html"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>template</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>home-container<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>首页<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>template</span><span class="token punctuation">&gt;</span></span>

<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span><span class="token punctuation">&gt;</span></span><span class="token script"><span class="token language-javascript">
<span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token punctuation">{</span>
  <span class="token literal-property property">name</span><span class="token operator">:</span> <span class="token string">'HomePage'</span><span class="token punctuation">,</span>
  <span class="token literal-property property">components</span><span class="token operator">:</span> <span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token literal-property property">props</span><span class="token operator">:</span> <span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token function">data</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> <span class="token punctuation">{</span><span class="token punctuation">}</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token literal-property property">computed</span><span class="token operator">:</span> <span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token literal-property property">watch</span><span class="token operator">:</span> <span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token function">created</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token function">mounted</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token literal-property property">methods</span><span class="token operator">:</span> <span class="token punctuation">{</span><span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">&gt;</span></span>

<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>style</span> <span class="token attr-name">scoped</span><span class="token punctuation">&gt;</span></span><span class="token style"></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>style</span><span class="token punctuation">&gt;</span></span>

</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br></div></div><p>问答组件：</p> <div class="language-html line-numbers-mode"><pre class="language-html"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>template</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>qa-container<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>问答<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>template</span><span class="token punctuation">&gt;</span></span>

<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span><span class="token punctuation">&gt;</span></span><span class="token script"><span class="token language-javascript">
<span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token punctuation">{</span>
  <span class="token literal-property property">name</span><span class="token operator">:</span> <span class="token string">'QaPage'</span><span class="token punctuation">,</span>
  <span class="token literal-property property">components</span><span class="token operator">:</span> <span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token literal-property property">props</span><span class="token operator">:</span> <span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token function">data</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> <span class="token punctuation">{</span><span class="token punctuation">}</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token literal-property property">computed</span><span class="token operator">:</span> <span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token literal-property property">watch</span><span class="token operator">:</span> <span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token function">created</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token function">mounted</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token literal-property property">methods</span><span class="token operator">:</span> <span class="token punctuation">{</span><span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">&gt;</span></span>

<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>style</span> <span class="token attr-name">scoped</span><span class="token punctuation">&gt;</span></span><span class="token style"></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>style</span><span class="token punctuation">&gt;</span></span>

</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br></div></div><p>视频组件：</p> <div class="language-html line-numbers-mode"><pre class="language-html"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>template</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>video-container<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>首页<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>template</span><span class="token punctuation">&gt;</span></span>

<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span><span class="token punctuation">&gt;</span></span><span class="token script"><span class="token language-javascript">
<span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token punctuation">{</span>
  <span class="token literal-property property">name</span><span class="token operator">:</span> <span class="token string">'VideoPage'</span><span class="token punctuation">,</span>
  <span class="token literal-property property">components</span><span class="token operator">:</span> <span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token literal-property property">props</span><span class="token operator">:</span> <span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token function">data</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> <span class="token punctuation">{</span><span class="token punctuation">}</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token literal-property property">computed</span><span class="token operator">:</span> <span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token literal-property property">watch</span><span class="token operator">:</span> <span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token function">created</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token function">mounted</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token literal-property property">methods</span><span class="token operator">:</span> <span class="token punctuation">{</span><span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">&gt;</span></span>

<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>style</span> <span class="token attr-name">scoped</span><span class="token punctuation">&gt;</span></span><span class="token style"></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>style</span><span class="token punctuation">&gt;</span></span>

</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br></div></div><p>我的组件：</p> <div class="language-html line-numbers-mode"><pre class="language-html"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>template</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>my-container<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>首页<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>template</span><span class="token punctuation">&gt;</span></span>

<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span><span class="token punctuation">&gt;</span></span><span class="token script"><span class="token language-javascript">
<span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token punctuation">{</span>
  <span class="token literal-property property">name</span><span class="token operator">:</span> <span class="token string">'MyPage'</span><span class="token punctuation">,</span>
  <span class="token literal-property property">components</span><span class="token operator">:</span> <span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token literal-property property">props</span><span class="token operator">:</span> <span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token function">data</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> <span class="token punctuation">{</span><span class="token punctuation">}</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token literal-property property">computed</span><span class="token operator">:</span> <span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token literal-property property">watch</span><span class="token operator">:</span> <span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token function">created</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token function">mounted</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token literal-property property">methods</span><span class="token operator">:</span> <span class="token punctuation">{</span><span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">&gt;</span></span>

<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>style</span> <span class="token attr-name">scoped</span><span class="token punctuation">&gt;</span></span><span class="token style"></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>style</span><span class="token punctuation">&gt;</span></span>

</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br></div></div><p>二、将四个主页面配置为 tab-bar 的子路由</p> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token punctuation">{</span>
  <span class="token literal-property property">path</span><span class="token operator">:</span> <span class="token string">'/'</span><span class="token punctuation">,</span>
  <span class="token literal-property property">name</span><span class="token operator">:</span> <span class="token string">'tab-bar'</span><span class="token punctuation">,</span>
  <span class="token function-variable function">component</span><span class="token operator">:</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token keyword">import</span><span class="token punctuation">(</span><span class="token string">'@/views/tab-bar'</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
  <span class="token literal-property property">children</span><span class="token operator">:</span> <span class="token punctuation">[</span>
    <span class="token punctuation">{</span>
      <span class="token literal-property property">path</span><span class="token operator">:</span> <span class="token string">''</span><span class="token punctuation">,</span> <span class="token comment">// 默认子路由</span>
      <span class="token literal-property property">name</span><span class="token operator">:</span> <span class="token string">'home'</span><span class="token punctuation">,</span>
      <span class="token function-variable function">component</span><span class="token operator">:</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token keyword">import</span><span class="token punctuation">(</span><span class="token string">'@/views/home'</span><span class="token punctuation">)</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">{</span>
      <span class="token literal-property property">path</span><span class="token operator">:</span> <span class="token string">'qa'</span><span class="token punctuation">,</span>
      <span class="token literal-property property">name</span><span class="token operator">:</span> <span class="token string">'qa'</span><span class="token punctuation">,</span>
      <span class="token function-variable function">component</span><span class="token operator">:</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token keyword">import</span><span class="token punctuation">(</span><span class="token string">'@/views/qa'</span><span class="token punctuation">)</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">{</span>
      <span class="token literal-property property">path</span><span class="token operator">:</span> <span class="token string">'video'</span><span class="token punctuation">,</span>
      <span class="token literal-property property">name</span><span class="token operator">:</span> <span class="token string">'video'</span><span class="token punctuation">,</span>
      <span class="token function-variable function">component</span><span class="token operator">:</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token keyword">import</span><span class="token punctuation">(</span><span class="token string">'@/views/video'</span><span class="token punctuation">)</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">{</span>
      <span class="token literal-property property">path</span><span class="token operator">:</span> <span class="token string">'my'</span><span class="token punctuation">,</span>
      <span class="token literal-property property">name</span><span class="token operator">:</span> <span class="token string">'my'</span><span class="token punctuation">,</span>
      <span class="token function-variable function">component</span><span class="token operator">:</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token keyword">import</span><span class="token punctuation">(</span><span class="token string">'@/views/my'</span><span class="token punctuation">)</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">]</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br></div></div><p>最后测试。</p> <h2 id="页面布局"><a href="#页面布局" class="header-anchor">#</a> 页面布局</h2> <h3 id="未登录头部状态"><a href="#未登录头部状态" class="header-anchor">#</a> 未登录头部状态</h3> <div class="language-html line-numbers-mode"><pre class="language-html"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>template</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>my-container<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>header<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>img</span>
        <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>mobile-img<span class="token punctuation">&quot;</span></span>
        <span class="token attr-name">src</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>~@/assets/mobile.png<span class="token punctuation">&quot;</span></span>
        <span class="token attr-name">@click</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>$router.push('/login')<span class="token punctuation">&quot;</span></span>
      <span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>grid-nav<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>van-cell</span> <span class="token attr-name">title</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>消息通知<span class="token punctuation">&quot;</span></span> <span class="token attr-name">is-link</span> <span class="token attr-name">url</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span><span class="token punctuation">&quot;</span></span> <span class="token punctuation">/&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>van-cell</span> <span class="token attr-name">title</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>实名认证<span class="token punctuation">&quot;</span></span> <span class="token attr-name">is-link</span> <span class="token attr-name">url</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span><span class="token punctuation">&quot;</span></span> <span class="token punctuation">/&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>van-cell</span> <span class="token attr-name">title</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>用户反馈<span class="token punctuation">&quot;</span></span> <span class="token attr-name">is-link</span> <span class="token attr-name">url</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span><span class="token punctuation">&quot;</span></span> <span class="token punctuation">/&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>van-cell</span> <span class="token attr-name">title</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>小智同学<span class="token punctuation">&quot;</span></span> <span class="token attr-name">is-link</span> <span class="token attr-name">url</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span><span class="token punctuation">&quot;</span></span> <span class="token punctuation">/&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>van-cell</span> <span class="token attr-name">title</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>系统设置<span class="token punctuation">&quot;</span></span> <span class="token attr-name">is-link</span> <span class="token attr-name">url</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span><span class="token punctuation">&quot;</span></span> <span class="token punctuation">/&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>template</span><span class="token punctuation">&gt;</span></span>

<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span><span class="token punctuation">&gt;</span></span><span class="token script"><span class="token language-javascript">
<span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token punctuation">{</span>
  <span class="token literal-property property">name</span><span class="token operator">:</span> <span class="token string">'MyIndex'</span><span class="token punctuation">,</span>
  <span class="token literal-property property">components</span><span class="token operator">:</span> <span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token literal-property property">props</span><span class="token operator">:</span> <span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token function">data</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> <span class="token punctuation">{</span><span class="token punctuation">}</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token literal-property property">computed</span><span class="token operator">:</span> <span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token literal-property property">watch</span><span class="token operator">:</span> <span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token function">created</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token function">mounted</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token literal-property property">methods</span><span class="token operator">:</span> <span class="token punctuation">{</span><span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">&gt;</span></span>

<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>style</span> <span class="token attr-name">scoped</span> <span class="token attr-name">lang</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>less<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token style"><span class="token language-css">
<span class="token selector">.my-container</span> <span class="token punctuation">{</span>
  <span class="token selector">&gt; .header</span> <span class="token punctuation">{</span>
    <span class="token property">height</span><span class="token punctuation">:</span> 361px<span class="token punctuation">;</span>
    <span class="token property">background</span><span class="token punctuation">:</span> <span class="token url"><span class="token function">url</span><span class="token punctuation">(</span><span class="token string url">&quot;~@/assets/banner.png&quot;</span><span class="token punctuation">)</span></span> no-repeat<span class="token punctuation">;</span>
    <span class="token property">background-size</span><span class="token punctuation">:</span> cover<span class="token punctuation">;</span>
    <span class="token property">display</span><span class="token punctuation">:</span> flex<span class="token punctuation">;</span>
    <span class="token property">justify-content</span><span class="token punctuation">:</span> center<span class="token punctuation">;</span>
    <span class="token property">align-items</span><span class="token punctuation">:</span> center<span class="token punctuation">;</span>
    <span class="token selector">.mobile-img</span> <span class="token punctuation">{</span>
      <span class="token property">width</span><span class="token punctuation">:</span> 132px<span class="token punctuation">;</span>
      <span class="token property">height</span><span class="token punctuation">:</span> 132px<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>style</span><span class="token punctuation">&gt;</span></span>

</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br><span class="line-number">31</span><br><span class="line-number">32</span><br><span class="line-number">33</span><br><span class="line-number">34</span><br><span class="line-number">35</span><br><span class="line-number">36</span><br><span class="line-number">37</span><br><span class="line-number">38</span><br><span class="line-number">39</span><br><span class="line-number">40</span><br><span class="line-number">41</span><br><span class="line-number">42</span><br><span class="line-number">43</span><br><span class="line-number">44</span><br><span class="line-number">45</span><br><span class="line-number">46</span><br><span class="line-number">47</span><br><span class="line-number">48</span><br><span class="line-number">49</span><br><span class="line-number">50</span><br><span class="line-number">51</span><br></div></div><h3 id="已登录头部"><a href="#已登录头部" class="header-anchor">#</a> 已登录头部</h3> <h3 id="宫格导航"><a href="#宫格导航" class="header-anchor">#</a> 宫格导航</h3> <h3 id="单元格导航"><a href="#单元格导航" class="header-anchor">#</a> 单元格导航</h3> <h2 id="处理已登录和未登录的页面展示"><a href="#处理已登录和未登录的页面展示" class="header-anchor">#</a> 处理已登录和未登录的页面展示</h2> <ul><li>未登录，展示登录按钮</li> <li>已登录，展示登录用户信息</li></ul> <div class="language-html line-numbers-mode"><pre class="language-html"><code><span class="token comment">&lt;!-- 已登录：用户信息 --&gt;</span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">v-if</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>$store.state.user<span class="token punctuation">&quot;</span></span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>user-info-wrap<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
  ...
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
<span class="token comment">&lt;!-- /已登录：用户信息 --&gt;</span>

<span class="token comment">&lt;!-- 未登录 --&gt;</span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">v-else</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>not-login<span class="token punctuation">&quot;</span></span> <span class="token attr-name">@click</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>$router.push('/login')<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
  ...
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
<span class="token comment">&lt;!-- /未登录 --&gt;</span>

<span class="token comment">&lt;!-- 退出 --&gt;</span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>van-cell-group</span> <span class="token attr-name">v-if</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>$store.state.user<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
  ...
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>van-cell-group</span><span class="token punctuation">&gt;</span></span>
<span class="token comment">&lt;!-- /退出 --&gt;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br></div></div><h2 id="用户退出"><a href="#用户退出" class="header-anchor">#</a> 用户退出</h2> <img src="/vuepress-starter/assets/img/用户退出-1578559616164.68522d39.gif" alt="用户退出" width="250"> <p>1、给退出按钮注册点击事件</p> <p>2、退出处理</p> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token function">onLogout</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token comment">// 退出提示</span>
  <span class="token comment">// 在组件中需要使用 this.$dialog 来调用弹框组件</span>
  <span class="token keyword">this</span><span class="token punctuation">.</span>$dialog<span class="token punctuation">.</span><span class="token function">confirm</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
    <span class="token literal-property property">title</span><span class="token operator">:</span> <span class="token string">'确认退出吗？'</span>
  <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">then</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
    <span class="token comment">// on confirm</span>
    <span class="token comment">// 确认退出：清除登录状态（容器中的 user + 本地存储中的 user）</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span>$store<span class="token punctuation">.</span><span class="token function">commit</span><span class="token punctuation">(</span><span class="token string">'setUser'</span><span class="token punctuation">,</span> <span class="token keyword">null</span><span class="token punctuation">)</span>
  <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">catch</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
    <span class="token comment">// on cancel</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'取消执行这里'</span><span class="token punctuation">)</span>
  <span class="token punctuation">}</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br></div></div><p>最后测试。</p> <h2 id="展示登录用户信息"><a href="#展示登录用户信息" class="header-anchor">#</a> 展示登录用户信息</h2> <img src="/vuepress-starter/assets/img/image-20200109133717775.24a822b7.png" alt="image-20200109133717775" width="250"> <p>步骤：</p> <ul><li>封装接口</li> <li>请求获取数据</li> <li>模板绑定</li></ul> <p>1、在 <code>api/user.js</code> 中添加封装数据接口</p> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token comment">/**
 * 获取用户自己的信息
 */</span>
<span class="token keyword">export</span> <span class="token keyword">const</span> <span class="token function-variable function">getUserInfo</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
  <span class="token keyword">return</span> <span class="token function">request</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
    <span class="token literal-property property">method</span><span class="token operator">:</span> <span class="token string">'GET'</span><span class="token punctuation">,</span>
    <span class="token literal-property property">url</span><span class="token operator">:</span> <span class="token string">'/app/v1_0/user'</span><span class="token punctuation">,</span>
    <span class="token comment">// 发送请求头数据</span>
    <span class="token literal-property property">headers</span><span class="token operator">:</span> <span class="token punctuation">{</span>
      <span class="token comment">// 注意：该接口需要授权才能访问</span>
      <span class="token comment">//       token的数据格式：Bearer token数据，注意 Bearer 后面有个空格</span>
      <span class="token literal-property property">Authorization</span><span class="token operator">:</span> <span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">Bearer </span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>store<span class="token punctuation">.</span>state<span class="token punctuation">.</span>user<span class="token punctuation">.</span>token<span class="token interpolation-punctuation punctuation">}</span></span><span class="token template-punctuation string">`</span></span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span>

</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br></div></div><p>2、在 <code>views/my/index.vue</code> 请求加载数据</p> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token operator">+</span> <span class="token keyword">import</span> <span class="token punctuation">{</span> getUserInfo <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">'@/api/user'</span>

<span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token punctuation">{</span>
  <span class="token literal-property property">name</span><span class="token operator">:</span> <span class="token string">'MyPage'</span><span class="token punctuation">,</span>
  <span class="token literal-property property">components</span><span class="token operator">:</span> <span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token literal-property property">props</span><span class="token operator">:</span> <span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token function">data</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> <span class="token punctuation">{</span>
<span class="token operator">+</span>      userInfo<span class="token operator">:</span> <span class="token punctuation">{</span><span class="token punctuation">}</span> <span class="token comment">// 用户信息</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token literal-property property">computed</span><span class="token operator">:</span> <span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token literal-property property">watch</span><span class="token operator">:</span> <span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">,</span>
<span class="token operator">++</span><span class="token operator">+</span>  <span class="token function">created</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token comment">// 初始化的时候，如果用户登录了，我才请求获取当前登录用户的信息</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>$store<span class="token punctuation">.</span>state<span class="token punctuation">.</span>user<span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">loadUser</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token function">mounted</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token literal-property property">methods</span><span class="token operator">:</span> <span class="token punctuation">{</span>
<span class="token operator">++</span><span class="token operator">+</span>    <span class="token keyword">async</span> <span class="token function">loadUser</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token keyword">try</span> <span class="token punctuation">{</span>
        <span class="token keyword">const</span> <span class="token punctuation">{</span> data <span class="token punctuation">}</span> <span class="token operator">=</span> <span class="token keyword">await</span> <span class="token function">getUserInfo</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
        <span class="token keyword">this</span><span class="token punctuation">.</span>user <span class="token operator">=</span> data<span class="token punctuation">.</span>data
      <span class="token punctuation">}</span> <span class="token keyword">catch</span> <span class="token punctuation">(</span>err<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>err<span class="token punctuation">)</span>
        <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">$toast</span><span class="token punctuation">(</span><span class="token string">'获取数据失败'</span><span class="token punctuation">)</span>
      <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br><span class="line-number">31</span><br><span class="line-number">32</span><br></div></div><p>3、模板绑定</p> <h2 id="优化设置-token"><a href="#优化设置-token" class="header-anchor">#</a> 优化设置 Token</h2> <p>项目中的接口除了登录之外大多数都需要提供 token 才有访问权限。</p> <p>通过接口文档可以看到，后端接口要求我们将 token 放到请求头 <code>Header</code> 中并以下面的格式发送。</p> <p><img src="/vuepress-starter/assets/img/image-20200301214857543.5b8f0b83.png" alt="image-20200301214857543"></p> <blockquote><p>字段名称：<code>Authorization</code></p> <p>字段值：<code>Bearer token</code>，注意 <code>Bearer</code> 和 <code>token</code> 之间有一个空格</p></blockquote> <p>方式一：在每次请求的时候手动添加（麻烦）。</p> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token function">axios</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
  <span class="token literal-property property">method</span><span class="token operator">:</span> <span class="token string">&quot;&quot;</span><span class="token punctuation">,</span>
  <span class="token literal-property property">url</span><span class="token operator">:</span> <span class="token string">&quot;&quot;</span><span class="token punctuation">,</span>
  <span class="token literal-property property">headers</span><span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token literal-property property">Authorization</span><span class="token operator">:</span> <span class="token string">&quot;Bearer token&quot;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br></div></div><p>方式二：使用请求拦截器统一添加（推荐，更方便）。</p> <div class="language-mermaid line-numbers-mode"><pre class="language-mermaid"><code><span class="token keyword">sequenceDiagram</span>
	<span class="token keyword">participant</span> A as 发起请求
	<span class="token keyword">participant</span> B as 请求拦截器
	<span class="token keyword">participant</span> C as 服务端
  A<span class="token arrow operator">--&gt;&gt;</span>B<span class="token operator">:</span> http<span class="token operator">:</span>//xxx
  <span class="token keyword">Note right of</span> B<span class="token operator">:</span> 设置 token
  B<span class="token arrow operator">-&gt;&gt;</span>C<span class="token operator">:</span> 请求发出
  
  
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br></div></div><p>在 <code>src/utils/request.js</code> 中添加拦截器统一设置 token：</p> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token comment">/**
 * 请求模块
 */</span>
<span class="token keyword">import</span> axios <span class="token keyword">from</span> <span class="token string">'axios'</span>
<span class="token keyword">import</span> store <span class="token keyword">from</span> <span class="token string">'@/store'</span>

<span class="token keyword">const</span> request <span class="token operator">=</span> axios<span class="token punctuation">.</span><span class="token function">create</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
  <span class="token literal-property property">baseURL</span><span class="token operator">:</span> <span class="token string">'http://ttapi.research.itcast.cn/'</span> <span class="token comment">// 接口的基准路径</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>

<span class="token comment">// 请求拦截器</span>
<span class="token comment">// Add a request interceptor</span>
request<span class="token punctuation">.</span>interceptors<span class="token punctuation">.</span>request<span class="token punctuation">.</span><span class="token function">use</span><span class="token punctuation">(</span><span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token parameter">config</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token comment">// Do something before request is sent</span>
  <span class="token comment">// config ：本次请求的配置对象</span>
  <span class="token comment">// config 里面有一个属性：headers</span>
  <span class="token keyword">const</span> <span class="token punctuation">{</span> user <span class="token punctuation">}</span> <span class="token operator">=</span> store<span class="token punctuation">.</span>state
  <span class="token keyword">if</span> <span class="token punctuation">(</span>user <span class="token operator">&amp;&amp;</span> user<span class="token punctuation">.</span>token<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    config<span class="token punctuation">.</span>headers<span class="token punctuation">.</span>Authorization <span class="token operator">=</span> <span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">Bearer </span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>user<span class="token punctuation">.</span>token<span class="token interpolation-punctuation punctuation">}</span></span><span class="token template-punctuation string">`</span></span>
  <span class="token punctuation">}</span>
  <span class="token keyword">return</span> config
<span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token parameter">error</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token comment">// Do something with request error</span>
  <span class="token keyword">return</span> Promise<span class="token punctuation">.</span><span class="token function">reject</span><span class="token punctuation">(</span>error<span class="token punctuation">)</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>

<span class="token comment">// 响应拦截器</span>

<span class="token keyword">export</span> <span class="token keyword">default</span> request

</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br></div></div></div> <footer class="page-edit"><!----> <!----></footer> <div class="page-nav"><p class="inner"><span class="prev">
      ←
      <a href="/vuepress-starter/page/vue/geek/LoginRegister.html" class="prev">
        登录注册
      </a></span> <span class="next"><a href="/vuepress-starter/page/vue/geek/04-首页-文章列表.html">
        首页-文章列表
      </a>
      →
    </span></p></div> </main></div><div class="global-ui"></div></div>
    <script src="/vuepress-starter/assets/js/app.4a327c45.js" defer></script><script src="/vuepress-starter/assets/js/6.a1faa4b0.js" defer></script><script src="/vuepress-starter/assets/js/24.bddde9d0.js" defer></script>
  </body>
</html>
