(window.webpackJsonp=window.webpackJsonp||[]).push([[53],{817:function(t,s,a){t.exports=a.p+"assets/img/spa.ad127a00.png"},923:function(t,s,a){"use strict";a.r(s);var r=a(1),e=Object(r.a)({},(function(){var t=this,s=t._self._c;return s("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[s("h1",{attrs:{id:"路由基本介绍"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#路由基本介绍"}},[t._v("#")]),t._v(" 路由基本介绍")]),t._v(" "),s("p",[t._v("现代的前端应用大多都是 SPA（单页应用程序），也就是只有一个 HTML 页面的应用程序。因为它的用户体验更好、对服务器的压力更小，所以更受欢迎。为了有效的使用单个页面来管理原来多页面的功能，前端路由应运而生。")]),t._v(" "),s("ul",[s("li",[s("p",[t._v("前端路由的功能：让用户从一个视图（页面）导航到另一个视图（页面）")])]),t._v(" "),s("li",[s("p",[t._v("前端路由是一套映射规则，在React中，是 URL路径 与 组件 的对应关系")])]),t._v(" "),s("li",[s("p",[t._v("使用React路由简单来说，就是配置 路径和组件（配对）")])]),t._v(" "),s("li",[s("p",[t._v("想要实现单页应用程序（SPA），就必须使用到路由  react-router")])]),t._v(" "),s("li",[s("p",[t._v("官网："),s("a",{attrs:{href:"https://reacttraining.com/react-router/",target:"_blank",rel:"noopener noreferrer"}},[t._v("react-router"),s("OutboundLink")],1)])])]),t._v(" "),s("p",[s("img",{attrs:{src:a(817),alt:""}})]),t._v(" "),s("h1",{attrs:{id:"路由基本使用"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#路由基本使用"}},[t._v("#")]),t._v(" 路由基本使用")]),t._v(" "),s("h2",{attrs:{id:"基本步骤"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#基本步骤"}},[t._v("#")]),t._v(" 基本步骤")]),t._v(" "),s("ul",[s("li",[t._v("安装")])]),t._v(" "),s("div",{staticClass:"language-js extra-class"},[s("pre",{pre:!0,attrs:{class:"language-js"}},[s("code",[t._v("yarn add react"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),t._v("router"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),t._v("dom\n")])])]),s("ul",[s("li",[s("code",[t._v("react-router-dom")]),t._v("这个包提供了三个核心的组件")])]),t._v(" "),s("div",{staticClass:"language-js extra-class"},[s("pre",{pre:!0,attrs:{class:"language-js"}},[s("code",[s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("import")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v(" HashRouter"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" Route"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" Link "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("from")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'react-router-dom'")]),t._v("\n")])])]),s("ul",[s("li",[t._v("使用"),s("code",[t._v("HashRouter")]),t._v("包裹整个应用，一个项目中只会有一个Router")])]),t._v(" "),s("div",{staticClass:"language-js extra-class"},[s("pre",{pre:!0,attrs:{class:"language-js"}},[s("code",[s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),t._v("Router"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),t._v("div className"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"App"')]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// … 省略页面内容")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),t._v("div"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),t._v("Router"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v("\n")])])]),s("ul",[s("li",[t._v("使用Link指定导航链接")])]),t._v(" "),s("div",{staticClass:"language-js extra-class"},[s("pre",{pre:!0,attrs:{class:"language-js"}},[s("code",[s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),t._v("Link to"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"/first"')]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v("页面一"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),t._v("Link"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),t._v("Link to"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"/two"')]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v("页面二"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),t._v("Link"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v("\n")])])]),s("ul",[s("li",[t._v("使用"),s("code",[t._v("Route")]),t._v("指定路由规则")])]),t._v(" "),s("div",{staticClass:"language-js extra-class"},[s("pre",{pre:!0,attrs:{class:"language-js"}},[s("code",[s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 在哪里写的Route,最终匹配到的组件就会渲染到这")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),t._v("Route path"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"/first"')]),t._v(" component"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("First"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),t._v("Route"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v("\n")])])]),s("h2",{attrs:{id:"router详细说明"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#router详细说明"}},[t._v("#")]),t._v(" Router详细说明")]),t._v(" "),s("ul",[s("li",[t._v("Router 组件：包裹整个应用，一个 React 应用只需要使用一次")]),t._v(" "),s("li",[t._v("两种常用 Router："),s("code",[t._v("HashRouter")]),t._v(" 和 "),s("code",[t._v("BrowserRouter")])]),t._v(" "),s("li",[t._v("HashRouter：使用 URL 的哈希值实现（"),s("code",[t._v("localhost:3000/#/first")]),t._v("）")]),t._v(" "),s("li",[t._v("BrowserRouter：使用 H5 的 history API 实现（"),s("code",[t._v("localhost:3000/first")]),t._v("）")])]),t._v(" "),s("p",[t._v("最佳实践")]),t._v(" "),s("div",{staticClass:"language-js extra-class"},[s("pre",{pre:!0,attrs:{class:"language-js"}},[s("code",[s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("import")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v(" HashRouter "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("as")]),t._v(" Router"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" Route"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" Link "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("from")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'react-router-dom'")]),t._v("\n")])])]),s("h2",{attrs:{id:"link与navlink"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#link与navlink"}},[t._v("#")]),t._v(" Link与NavLink")]),t._v(" "),s("p",[s("code",[t._v("Link")]),t._v("组件最终会渲染成a标签，用于指定路由导航")]),t._v(" "),s("ul",[s("li",[t._v("to属性，将来会渲染成a标签的href属性")]),t._v(" "),s("li",[s("code",[t._v("Link")]),t._v("组件无法实现导航的高亮效果")])]),t._v(" "),s("p",[s("code",[t._v("NavLink")]),t._v("组件，一个更特殊的"),s("code",[t._v("Link")]),t._v("组件，可以用用于指定当前导航高亮")]),t._v(" "),s("ul",[s("li",[t._v("to属性，用于指定地址，会渲染成a标签的href属性")]),t._v(" "),s("li",[t._v("activeClass: 用于指定高亮的类名，默认"),s("code",[t._v("active")])]),t._v(" "),s("li",[t._v("exact: 精确匹配，表示必须精确匹配类名才生效")])]),t._v(" "),s("h2",{attrs:{id:"route"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#route"}},[t._v("#")]),t._v(" Route")]),t._v(" "),s("ul",[s("li",[t._v("path 的说明\n"),s("ul",[s("li",[t._v("默认情况下，/能够匹配任意/开始的路径")]),t._v(" "),s("li",[t._v("如果 path 的路径匹配上了，那么就可以对应的组件就会被 render")]),t._v(" "),s("li",[t._v("如果 path 没有匹配上，那么会 render null")]),t._v(" "),s("li",[t._v("如果没有指定 path，那么一定会被渲染")])])]),t._v(" "),s("li",[t._v("exact 的说明， exact 表示精确匹配某个路径\n"),s("ul",[s("li",[t._v("一般来说，如果路径配置了 /， 都需要配置 exact 属性")])])])]),t._v(" "),s("h2",{attrs:{id:"switch与404"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#switch与404"}},[t._v("#")]),t._v(" Switch与404")]),t._v(" "),s("ul",[s("li",[t._v("通常，我们会把"),s("code",[t._v("Route")]),t._v("包裹在一个"),s("code",[t._v("Switch")]),t._v("组件中")]),t._v(" "),s("li",[t._v("在"),s("code",[t._v("Switch")]),t._v("组件中，不管有多少个路由规则匹配到了，都只会渲染第一个匹配的组件")]),t._v(" "),s("li",[t._v("通过"),s("code",[t._v("Switch")]),t._v("组件非常容易的就能实现404错误页面的提示")])]),t._v(" "),s("div",{staticClass:"language-js extra-class"},[s("pre",{pre:!0,attrs:{class:"language-js"}},[s("code",[s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),t._v("Switch"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),t._v("Route exact path"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"/"')]),t._v(" component"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("Home"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),t._v("Route path"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"/about"')]),t._v(" component"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("About"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),t._v("Route path"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"/user"')]),t._v(" component"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("User"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),t._v("Route component"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("NoMatch"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),t._v("Switch"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v("\n")])])]),s("h1",{attrs:{id:"嵌套路由的配置"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#嵌套路由的配置"}},[t._v("#")]),t._v(" 嵌套路由的配置")]),t._v(" "),s("ul",[s("li",[t._v("在React中，配置嵌套路由非常的简单，因为"),s("code",[t._v("Route")]),t._v("就是一个组件，可以在任意想配置的地方进行配置")]),t._v(" "),s("li",[t._v("但是配置嵌套路由的时候，需要对路径进行处理，必须要先匹配到父级路由，才能匹配到子路由")])]),t._v(" "),s("div",{staticClass:"language-js extra-class"},[s("pre",{pre:!0,attrs:{class:"language-js"}},[s("code",[s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 通过/home可以匹配Home父组件  再通过/list匹配子组件")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),t._v("Route path"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"/home/list"')]),t._v(" component"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("List"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v("\n")])])]),s("h1",{attrs:{id:"编程式导航"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#编程式导航"}},[t._v("#")]),t._v(" 编程式导航")]),t._v(" "),s("ul",[s("li",[t._v("场景：点击登录按钮，登录成功后，通过代码跳转到后台首页，如何实现？")]),t._v(" "),s("li",[t._v("编程式导航：通过 JS 代码来实现页面跳转")]),t._v(" "),s("li",[t._v("history 是 React 路由提供的，用于获取浏览器历史记录的相关信息")]),t._v(" "),s("li",[t._v("push(path)：跳转到某个页面，参数 path 表示要跳转的路径")]),t._v(" "),s("li",[t._v("go(n)： 前进或后退到某个页面，参数 n 表示前进或后退页面数量（比如：-1 表示后退到上一页）")])]),t._v(" "),s("div",{staticClass:"language-js extra-class"},[s("pre",{pre:!0,attrs:{class:"language-js"}},[s("code",[s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("class")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("Login")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("extends")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("Component")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token function-variable function"}},[t._v("handleLogin")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=>")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n        "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// ...")]),t._v("\n        "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("this")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("props"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("history"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("push")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'/home'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("render")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("...")]),t._v("省略其他代码"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n\n")])])]),s("h1",{attrs:{id:"动态路由与路由参数获取"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#动态路由与路由参数获取"}},[t._v("#")]),t._v(" 动态路由与路由参数获取")]),t._v(" "),s("ul",[s("li",[t._v("可以使用"),s("code",[t._v(":id")]),t._v("的方式来配置动态的路由参数")])]),t._v(" "),s("div",{staticClass:"language-js extra-class"},[s("pre",{pre:!0,attrs:{class:"language-js"}},[s("code",[s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 可以匹配 /users/1  /users/2  /users/xxx")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),t._v("Route path"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"/users/:id"')]),t._v(" component"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("Users"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v("\n\n")])])]),s("ul",[s("li",[t._v("在组件中，通过"),s("code",[t._v("props")]),t._v("可以接收到路由的参数")])]),t._v(" "),s("div",{staticClass:"language-js extra-class"},[s("pre",{pre:!0,attrs:{class:"language-js"}},[s("code",[s("span",{pre:!0,attrs:{class:"token function"}},[t._v("render")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    console"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("log")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("this")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("props"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("match"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("params"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n\n")])])])])}),[],!1,null,null,null);s.default=e.exports}}]);